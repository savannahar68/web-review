(function($){var _={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(str){return!str||/^\s*$/.test(str)},escapeRegExChars:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(obj){return typeof obj==="string"},isNumber:function(obj){return typeof obj==="number"},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(obj){return typeof obj==="undefined"},bind:$.proxy,each:function(collection,cb){$.each(collection,reverseArgs);function reverseArgs(index,value){return cb(value,index)}},map:$.map,filter:$.grep,every:function(obj,test){var result=true;if(!obj){return result}$.each(obj,function(key,val){if(!(result=test.call(null,val,key,obj))){return false}});return!!result},some:function(obj,test){var result=false;if(!obj){return result}$.each(obj,function(key,val){if(result=test.call(null,val,key,obj)){return false}});return!!result},mixin:$.extend,getUniqueId:function(){var counter=0;return function(){return counter++}}(),templatify:function templatify(obj){return $.isFunction(obj)?obj:template;function template(){return String(obj)}},defer:function(fn){setTimeout(fn,0)},debounce:function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later,callNow;later=function(){timeout=null;if(!immediate){result=func.apply(context,args)}};callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args)}return result}},throttle:function(func,wait){var context,args,timeout,result,previous,later;previous=0;later=function(){previous=new Date;timeout=null;result=func.apply(context,args)};return function(){var now=new Date,remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args)}else if(!timeout){timeout=setTimeout(later,remaining)}return result}},noop:function(){}};var VERSION="0.10.2";var tokenizers=function(root){return{nonword:nonword,whitespace:whitespace,obj:{nonword:getObjTokenizer(nonword),whitespace:getObjTokenizer(whitespace)}};function whitespace(s){return s.split(/\s+/)}function nonword(s){return s.split(/\W+/)}function getObjTokenizer(tokenizer){return function setKey(key){return function tokenize(o){return tokenizer(o[key])}}}}();var LruCache=function(){function LruCache(maxSize){this.maxSize=maxSize||100;this.size=0;this.hash={};this.list=new List}_.mixin(LruCache.prototype,{set:function set(key,val){var tailItem=this.list.tail,node;if(this.size>=this.maxSize){this.list.remove(tailItem);delete this.hash[tailItem.key]}if(node=this.hash[key]){node.val=val;this.list.moveToFront(node)}else{node=new Node(key,val);this.list.add(node);this.hash[key]=node;this.size++}},get:function get(key){var node=this.hash[key];if(node){this.list.moveToFront(node);return node.val}}});function List(){this.head=this.tail=null}_.mixin(List.prototype,{add:function add(node){if(this.head){node.next=this.head;this.head.prev=node}this.head=node;this.tail=this.tail||node},remove:function remove(node){node.prev?node.prev.next=node.next:this.head=node.next;node.next?node.next.prev=node.prev:this.tail=node.prev},moveToFront:function(node){this.remove(node);this.add(node)}});function Node(key,val){this.key=key;this.val=val;this.prev=this.next=null}return LruCache}();var PersistentStorage=function(){var ls,methods;try{ls=window.localStorage;ls.setItem("~~~","!");ls.removeItem("~~~")}catch(err){ls=null}function PersistentStorage(namespace){this.prefix=["__",namespace,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}if(ls&&window.JSON){methods={_prefix:function(key){return this.prefix+key},_ttlKey:function(key){return this._prefix(key)+this.ttlKey},get:function(key){if(this.isExpired(key)){this.remove(key)}return decode(ls.getItem(this._prefix(key)))},set:function(key,val,ttl){if(_.isNumber(ttl)){ls.setItem(this._ttlKey(key),encode(now()+ttl))}else{ls.removeItem(this._ttlKey(key))}return ls.setItem(this._prefix(key),encode(val))},remove:function(key){ls.removeItem(this._ttlKey(key));ls.removeItem(this._prefix(key));return this},clear:function(){var i,key,keys=[],len=ls.length;for(i=0;i<len;i++){if((key=ls.key(i)).match(this.keyMatcher)){keys.push(key.replace(this.keyMatcher,""))}}for(i=keys.length;i--;){this.remove(keys[i])}return this},isExpired:function(key){var ttl=decode(ls.getItem(this._ttlKey(key)));return _.isNumber(ttl)&&now()>ttl?true:false}}}else{methods={get:_.noop,set:_.noop,remove:_.noop,clear:_.noop,isExpired:_.noop}}_.mixin(PersistentStorage.prototype,methods);return PersistentStorage;function now(){return(new Date).getTime()}function encode(val){return JSON.stringify(_.isUndefined(val)?null:val)}function decode(val){return JSON.parse(val)}}();var Transport=function(){var pendingRequestsCount=0,pendingRequests={},maxPendingRequests=6,requestCache=new LruCache(10);function Transport(o){o=o||{};this._send=o.transport?callbackToDeferred(o.transport):$.ajax;this._get=o.rateLimiter?o.rateLimiter(this._get):this._get}Transport.setMaxPendingRequests=function setMaxPendingRequests(num){maxPendingRequests=num};Transport.resetCache=function clearCache(){requestCache=new LruCache(10)};_.mixin(Transport.prototype,{_get:function(url,o,cb){var that=this,jqXhr;if(jqXhr=pendingRequests[url]){jqXhr.done(done).fail(fail)}else if(pendingRequestsCount<maxPendingRequests){pendingRequestsCount++;pendingRequests[url]=this._send(url,o).done(done).fail(fail).always(always)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function done(resp){cb&&cb(null,resp);requestCache.set(url,resp)}function fail(){cb&&cb(true)}function always(){pendingRequestsCount--;delete pendingRequests[url];if(that.onDeckRequestArgs){that._get.apply(that,that.onDeckRequestArgs);that.onDeckRequestArgs=null}}},get:function(url,o,cb){var resp;if(_.isFunction(o)){cb=o;o={}}if(resp=requestCache.get(url)){_.defer(function(){cb&&cb(null,resp)})}else{this._get(url,o,cb)}return!!resp}});return Transport;function callbackToDeferred(fn){return function customSendWrapper(url,o){var deferred=$.Deferred();fn(url,o,onSuccess,onError);return deferred;function onSuccess(resp){_.defer(function(){deferred.resolve(resp)})}function onError(err){_.defer(function(){deferred.reject(err)})}}}}();var SearchIndex=function(){function SearchIndex(o){o=o||{};if(!o.datumTokenizer||!o.queryTokenizer){$.error("datumTokenizer and queryTokenizer are both required")}this.datumTokenizer=o.datumTokenizer;this.queryTokenizer=o.queryTokenizer;this.reset()}_.mixin(SearchIndex.prototype,{bootstrap:function bootstrap(o){this.datums=o.datums;this.trie=o.trie},add:function(data){var that=this;data=_.isArray(data)?data:[data];_.each(data,function(datum){var id,tokens;id=that.datums.push(datum)-1;tokens=normalizeTokens(that.datumTokenizer(datum));_.each(tokens,function(token){var node,chars,ch;node=that.trie;chars=token.split("");while(ch=chars.shift()){node=node.children[ch]||(node.children[ch]=newNode());node.ids.push(id)}})})},get:function get(query){var that=this,tokens,matches;tokens=normalizeTokens(this.queryTokenizer(query));_.each(tokens,function(token){var node,chars,ch,ids;if(matches&&matches.length===0){return false}node=that.trie;chars=token.split("");while(node&&(ch=chars.shift())){node=node.children[ch]}if(node&&chars.length===0){ids=node.ids.slice(0);matches=matches?getIntersection(matches,ids):ids}else{matches=[];return false}});return matches?_.map(unique(matches),function(id){return that.datums[id]}):[]},reset:function reset(){this.datums=[];this.trie=newNode()},serialize:function serialize(){return{datums:this.datums,trie:this.trie}}});return SearchIndex;function normalizeTokens(tokens){tokens=_.filter(tokens,function(token){return!!token});tokens=_.map(tokens,function(token){return token.toLowerCase()});return tokens}function newNode(){return{ids:[],children:{}}}function unique(array){var seen={},uniques=[];for(var i=0;i<array.length;i++){if(!seen[array[i]]){seen[array[i]]=true;uniques.push(array[i])}}return uniques}function getIntersection(arrayA,arrayB){var ai=0,bi=0,intersection=[];arrayA=arrayA.sort(compare);arrayB=arrayB.sort(compare);while(ai<arrayA.length&&bi<arrayB.length){if(arrayA[ai]<arrayB[bi]){ai++}else if(arrayA[ai]>arrayB[bi]){bi++}else{intersection.push(arrayA[ai]);ai++;bi++}}return intersection;function compare(a,b){return a-b}}}();var oParser=function(){return{local:getLocal,prefetch:getPrefetch,remote:getRemote};function getLocal(o){return o.local||null}function getPrefetch(o){var prefetch,defaults;defaults={url:null,thumbprint:"",ttl:24*60*60*1e3,filter:null,ajax:{}};if(prefetch=o.prefetch||null){prefetch=_.isString(prefetch)?{url:prefetch}:prefetch;prefetch=_.mixin(defaults,prefetch);prefetch.thumbprint=VERSION+prefetch.thumbprint;prefetch.ajax.type=prefetch.ajax.type||"GET";prefetch.ajax.dataType=prefetch.ajax.dataType||"json";!prefetch.url&&$.error("prefetch requires url to be set")}return prefetch}function getRemote(o){var remote,defaults;defaults={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}};if(remote=o.remote||null){remote=_.isString(remote)?{url:remote}:remote;remote=_.mixin(defaults,remote);remote.rateLimiter=/^throttle$/i.test(remote.rateLimitBy)?byThrottle(remote.rateLimitWait):byDebounce(remote.rateLimitWait);remote.ajax.type=remote.ajax.type||"GET";remote.ajax.dataType=remote.ajax.dataType||"json";delete remote.rateLimitBy;delete remote.rateLimitWait;!remote.url&&$.error("remote requires url to be set")}return remote;function byDebounce(wait){return function(fn){return _.debounce(fn,wait)}}function byThrottle(wait){return function(fn){return _.throttle(fn,wait)}}}}();(function(root){var old,keys;old=root.Bloodhound;keys={data:"data",protocol:"protocol",thumbprint:"thumbprint"};root.Bloodhound=Bloodhound;function Bloodhound(o){if(!o||!o.local&&!o.prefetch&&!o.remote){$.error("one of local, prefetch, or remote is required")}this.limit=o.limit||5;this.sorter=getSorter(o.sorter);this.dupDetector=o.dupDetector||ignoreDuplicates;this.local=oParser.local(o);this.prefetch=oParser.prefetch(o);this.remote=oParser.remote(o);this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null;this.index=new SearchIndex({datumTokenizer:o.datumTokenizer,queryTokenizer:o.queryTokenizer});this.storage=this.cacheKey?new PersistentStorage(this.cacheKey):null}Bloodhound.noConflict=function noConflict(){root.Bloodhound=old;return Bloodhound};Bloodhound.tokenizers=tokenizers;_.mixin(Bloodhound.prototype,{_loadPrefetch:function loadPrefetch(o){var that=this,serialized,deferred;if(serialized=this._readFromStorage(o.thumbprint)){this.index.bootstrap(serialized);deferred=$.Deferred().resolve()}else{deferred=$.ajax(o.url,o.ajax).done(handlePrefetchResponse)}return deferred;function handlePrefetchResponse(resp){that.clear();that.add(o.filter?o.filter(resp):resp);that._saveToStorage(that.index.serialize(),o.thumbprint,o.ttl)}},_getFromRemote:function getFromRemote(query,cb){var that=this,url,uriEncodedQuery;query=query||"";uriEncodedQuery=encodeURIComponent(query);url=this.remote.replace?this.remote.replace(this.remote.url,query):this.remote.url.replace(this.remote.wildcard,uriEncodedQuery);return this.transport.get(url,this.remote.ajax,handleRemoteResponse);function handleRemoteResponse(err,resp){err?cb([]):cb(that.remote.filter?that.remote.filter(resp):resp)}},_saveToStorage:function saveToStorage(data,thumbprint,ttl){if(this.storage){this.storage.set(keys.data,data,ttl);this.storage.set(keys.protocol,location.protocol,ttl);this.storage.set(keys.thumbprint,thumbprint,ttl)}},_readFromStorage:function readFromStorage(thumbprint){var stored={},isExpired;if(this.storage){stored.data=this.storage.get(keys.data);stored.protocol=this.storage.get(keys.protocol);stored.thumbprint=this.storage.get(keys.thumbprint)}isExpired=stored.thumbprint!==thumbprint||stored.protocol!==location.protocol;return stored.data&&!isExpired?stored.data:null},_initialize:function initialize(){var that=this,local=this.local,deferred;deferred=this.prefetch?this._loadPrefetch(this.prefetch):$.Deferred().resolve();local&&deferred.done(addLocalToIndex);this.transport=this.remote?new Transport(this.remote):null;return this.initPromise=deferred.promise();function addLocalToIndex(){that.add(_.isFunction(local)?local():local)}},initialize:function initialize(force){return!this.initPromise||force?this._initialize():this.initPromise},add:function add(data){this.index.add(data)},get:function get(query,cb){var that=this,matches=[],cacheHit=false;matches=this.index.get(query);matches=this.sorter(matches).slice(0,this.limit);if(matches.length<this.limit&&this.transport){cacheHit=this._getFromRemote(query,returnRemoteMatches)}if(!cacheHit){(matches.length>0||!this.transport)&&cb&&cb(matches)}function returnRemoteMatches(remoteMatches){var matchesWithBackfill=matches.slice(0);_.each(remoteMatches,function(remoteMatch){var isDuplicate;isDuplicate=_.some(matchesWithBackfill,function(match){return that.dupDetector(remoteMatch,match)});!isDuplicate&&matchesWithBackfill.push(remoteMatch);return matchesWithBackfill.length<that.limit});cb&&cb(that.sorter(matchesWithBackfill))}},clear:function clear(){this.index.reset()},clearPrefetchCache:function clearPrefetchCache(){this.storage&&this.storage.clear()},clearRemoteCache:function clearRemoteCache(){this.transport&&Transport.resetCache()},ttAdapter:function ttAdapter(){return _.bind(this.get,this)}});return Bloodhound;function getSorter(sortFn){return _.isFunction(sortFn)?sort:noSort;function sort(array){return array.sort(sortFn)}function noSort(array){return array}}function ignoreDuplicates(){return false}})(this);var html={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'};var css={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"9999",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(_.isMsie()){_.mixin(css.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}if(_.isMsie()&&_.isMsie()<=7){_.mixin(css.input,{marginTop:"-1px"})}var EventBus=function(){var namespace="typeahead:";function EventBus(o){if(!o||!o.el){$.error("EventBus initialized without el")}this.$el=$(o.el)}_.mixin(EventBus.prototype,{trigger:function(type){var args=[].slice.call(arguments,1);this.$el.trigger(namespace+type,args)}});return EventBus}();var EventEmitter=function(){var splitter=/\s+/,nextTick=getNextTick();return{onSync:onSync,onAsync:onAsync,off:off,trigger:trigger};function on(method,types,cb,context){var type;if(!cb){return this}types=types.split(splitter);cb=context?bindContext(cb,context):cb;this._callbacks=this._callbacks||{};while(type=types.shift()){this._callbacks[type]=this._callbacks[type]||{sync:[],async:[]};this._callbacks[type][method].push(cb)}return this}function onAsync(types,cb,context){return on.call(this,"async",types,cb,context)}function onSync(types,cb,context){return on.call(this,"sync",types,cb,context)}function off(types){var type;if(!this._callbacks){return this}types=types.split(splitter);while(type=types.shift()){delete this._callbacks[type]}return this}function trigger(types){var type,callbacks,args,syncFlush,asyncFlush;if(!this._callbacks){return this}types=types.split(splitter);args=[].slice.call(arguments,1);while((type=types.shift())&&(callbacks=this._callbacks[type])){syncFlush=getFlush(callbacks.sync,this,[type].concat(args));asyncFlush=getFlush(callbacks.async,this,[type].concat(args));syncFlush()&&nextTick(asyncFlush)}return this}function getFlush(callbacks,context,args){return flush;function flush(){var cancelled;for(var i=0;!cancelled&&i<callbacks.length;i+=1){cancelled=callbacks[i].apply(context,args)===false}return!cancelled}}function getNextTick(){var nextTickFn;if(window.setImmediate){nextTickFn=function nextTickSetImmediate(fn){setImmediate(function(){fn()})}}else{nextTickFn=function nextTickSetTimeout(fn){setTimeout(function(){fn()},0)}}return nextTickFn}function bindContext(fn,context){return fn.bind?fn.bind(context):function(){fn.apply(context,[].slice.call(arguments,0))}}}();var highlight=function(doc){var defaults={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false};return function hightlight(o){var regex;o=_.mixin({},defaults,o);if(!o.node||!o.pattern){return}o.pattern=_.isArray(o.pattern)?o.pattern:[o.pattern];regex=getRegex(o.pattern,o.caseSensitive,o.wordsOnly);traverse(o.node,hightlightTextNode);function hightlightTextNode(textNode){var match,patternNode;if(match=regex.exec(textNode.data)){wrapperNode=doc.createElement(o.tagName);o.className&&(wrapperNode.className=o.className);patternNode=textNode.splitText(match.index);patternNode.splitText(match[0].length);wrapperNode.appendChild(patternNode.cloneNode(true));textNode.parentNode.replaceChild(wrapperNode,patternNode)}return!!match}function traverse(el,hightlightTextNode){var childNode,TEXT_NODE_TYPE=3;for(var i=0;i<el.childNodes.length;i++){childNode=el.childNodes[i];if(childNode.nodeType===TEXT_NODE_TYPE){i+=hightlightTextNode(childNode)?1:0}else{traverse(childNode,hightlightTextNode)}}}};function getRegex(patterns,caseSensitive,wordsOnly){var escapedPatterns=[],regexStr;for(var i=0;i<patterns.length;i++){escapedPatterns.push(_.escapeRegExChars(patterns[i]))}regexStr=wordsOnly?"\\b("+escapedPatterns.join("|")+")\\b":"("+escapedPatterns.join("|")+")";return caseSensitive?new RegExp(regexStr):new RegExp(regexStr,"i")}}(window.document);var Input=function(){var specialKeyCodeMap;specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function Input(o){var that=this,onBlur,onFocus,onKeydown,onInput;o=o||{};if(!o.input){$.error("input is missing")}onBlur=_.bind(this._onBlur,this);onFocus=_.bind(this._onFocus,this);onKeydown=_.bind(this._onKeydown,this);onInput=_.bind(this._onInput,this);this.$hint=$(o.hint);this.$input=$(o.input).on("blur.tt",onBlur).on("focus.tt",onFocus).on("keydown.tt",onKeydown);if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=_.noop}if(!_.isMsie()){this.$input.on("input.tt",onInput)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function($e){if(specialKeyCodeMap[$e.which||$e.keyCode]){return}_.defer(_.bind(that._onInput,that,$e))})}this.query=this.$input.val();this.$overflowHelper=buildOverflowHelper(this.$input)}Input.normalizeQuery=function(str){return(str||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")};_.mixin(Input.prototype,EventEmitter,{_onBlur:function onBlur(){this.resetInputValue();this.trigger("blurred")},_onFocus:function onFocus(){this.trigger("focused")},_onKeydown:function onKeydown($e){var keyName=specialKeyCodeMap[$e.which||$e.keyCode];this._managePreventDefault(keyName,$e);if(keyName&&this._shouldTrigger(keyName,$e)){this.trigger(keyName+"Keyed",$e)}},_onInput:function onInput(){this._checkInputValue()},_managePreventDefault:function managePreventDefault(keyName,$e){var preventDefault,hintValue,inputValue;switch(keyName){case"tab":hintValue=this.getHint();inputValue=this.getInputValue();preventDefault=hintValue&&hintValue!==inputValue&&!withModifier($e);break;case"up":case"down":preventDefault=!withModifier($e);break;default:preventDefault=false}preventDefault&&$e.preventDefault()},_shouldTrigger:function shouldTrigger(keyName,$e){var trigger;switch(keyName){case"tab":trigger=!withModifier($e);break;default:trigger=true}return trigger},_checkInputValue:function checkInputValue(){var inputValue,areEquivalent,hasDifferentWhitespace;inputValue=this.getInputValue();areEquivalent=areQueriesEquivalent(inputValue,this.query);hasDifferentWhitespace=areEquivalent?this.query.length!==inputValue.length:false;if(!areEquivalent){this.trigger("queryChanged",this.query=inputValue)}else if(hasDifferentWhitespace){this.trigger("whitespaceChanged",this.query)}},focus:function focus(){this.$input.focus()},blur:function blur(){this.$input.blur()},getQuery:function getQuery(){return this.query},setQuery:function setQuery(query){this.query=query},getInputValue:function getInputValue(){return this.$input.val()},setInputValue:function setInputValue(value,silent){this.$input.val(value);silent?this.clearHint():this._checkInputValue()},resetInputValue:function resetInputValue(){this.setInputValue(this.query,true)},getHint:function getHint(){return this.$hint.val()},setHint:function setHint(value){this.$hint.val(value)},clearHint:function clearHint(){this.setHint("")},clearHintIfInvalid:function clearHintIfInvalid(){var val,hint,valIsPrefixOfHint,isValid;val=this.getInputValue();hint=this.getHint();valIsPrefixOfHint=val!==hint&&hint.indexOf(val)===0;isValid=val!==""&&valIsPrefixOfHint&&!this.hasOverflow();!isValid&&this.clearHint()},getLanguageDirection:function getLanguageDirection(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function hasOverflow(){var constraint=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=constraint},isCursorAtEnd:function(){var valueLength,selectionStart,range;valueLength=this.$input.val().length;selectionStart=this.$input[0].selectionStart;if(_.isNumber(selectionStart)){return selectionStart===valueLength}else if(document.selection){range=document.selection.createRange();range.moveStart("character",-valueLength);return valueLength===range.text.length}return true},destroy:function destroy(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null}});return Input;function buildOverflowHelper($input){return $('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",textIndent:$input.css("text-indent"),textRendering:$input.css("text-rendering"),textTransform:$input.css("text-transform")}).insertAfter($input)}function areQueriesEquivalent(a,b){return Input.normalizeQuery(a)===Input.normalizeQuery(b)}function withModifier($e){return $e.altKey||$e.ctrlKey||$e.metaKey||$e.shiftKey}}();var Dataset=function(){var datasetKey="ttDataset",valueKey="ttValue",datumKey="ttDatum";function Dataset(o){o=o||{};o.templates=o.templates||{};if(!o.source){$.error("missing source")}if(o.name&&!isValidName(o.name)){$.error("invalid dataset name: "+o.name)}this.query=null;this.highlight=!!o.highlight;this.name=o.name||_.getUniqueId();this.source=o.source;this.displayFn=getDisplayFn(o.display||o.displayKey);this.templates=getTemplates(o.templates,this.displayFn);this.$el=$(html.dataset.replace("%CLASS%",this.name))}Dataset.extractDatasetName=function extractDatasetName(el){return $(el).data(datasetKey)};Dataset.extractValue=function extractDatum(el){return $(el).data(valueKey)};Dataset.extractDatum=function extractDatum(el){return $(el).data(datumKey)};_.mixin(Dataset.prototype,EventEmitter,{_render:function render(query,suggestions){if(!this.$el){return}var that=this,hasSuggestions;this.$el.empty();hasSuggestions=suggestions&&suggestions.length;if(!hasSuggestions&&this.templates.empty){this.$el.html(getEmptyHtml()).prepend(that.templates.header?getHeaderHtml():null).append(that.templates.footer?getFooterHtml():null)}else if(hasSuggestions){this.$el.html(getSuggestionsHtml()).prepend(that.templates.header?getHeaderHtml():null).append(that.templates.footer?getFooterHtml():null)}this.trigger("rendered");function getEmptyHtml(){return that.templates.empty({query:query,isEmpty:true})}function getSuggestionsHtml(){var $suggestions,nodes;$suggestions=$(html.suggestions).css(css.suggestions);nodes=_.map(suggestions,getSuggestionNode);$suggestions.append.apply($suggestions,nodes);that.highlight&&highlight({node:$suggestions[0],pattern:query});return $suggestions;function getSuggestionNode(suggestion){var $el;$el=$(html.suggestion).append(that.templates.suggestion(suggestion)).data(datasetKey,that.name).data(valueKey,that.displayFn(suggestion)).data(datumKey,suggestion);$el.children().each(function(){$(this).css(css.suggestionChild)});return $el}}function getHeaderHtml(){return that.templates.header({query:query,isEmpty:!hasSuggestions})}function getFooterHtml(){return that.templates.footer({query:query,isEmpty:!hasSuggestions})}},getRoot:function getRoot(){return this.$el},update:function update(query){var that=this;this.query=query;this.canceled=false;this.source(query,render);function render(suggestions){if(!that.canceled&&query===that.query){that._render(query,suggestions)}}},cancel:function cancel(){this.canceled=true},clear:function clear(){this.cancel();this.$el.empty();this.trigger("rendered")},isEmpty:function isEmpty(){return this.$el.is(":empty")},destroy:function destroy(){this.$el=null}});return Dataset;function getDisplayFn(display){display=display||"value";return _.isFunction(display)?display:displayFn;function displayFn(obj){return obj[display]}}function getTemplates(templates,displayFn){return{empty:templates.empty&&_.templatify(templates.empty),header:templates.header&&_.templatify(templates.header),footer:templates.footer&&_.templatify(templates.footer),suggestion:templates.suggestion||suggestionTemplate};function suggestionTemplate(context){return"<p>"+displayFn(context)+"</p>"}}function isValidName(str){return/^[_a-zA-Z0-9-]+$/.test(str)}}();var Dropdown=function(){function Dropdown(o){var that=this,onSuggestionClick,onSuggestionMouseEnter,onSuggestionMouseLeave;o=o||{};if(!o.menu){$.error("menu is required")}this.isOpen=false;this.isEmpty=true;this.datasets=_.map(o.datasets,initializeDataset);onSuggestionClick=_.bind(this._onSuggestionClick,this);onSuggestionMouseEnter=_.bind(this._onSuggestionMouseEnter,this);onSuggestionMouseLeave=_.bind(this._onSuggestionMouseLeave,this);this.$menu=$(o.menu).on("click.tt",".tt-suggestion",onSuggestionClick).on("mouseenter.tt",".tt-suggestion",onSuggestionMouseEnter).on("mouseleave.tt",".tt-suggestion",onSuggestionMouseLeave);_.each(this.datasets,function(dataset){that.$menu.append(dataset.getRoot());dataset.onSync("rendered",that._onRendered,that)})}_.mixin(Dropdown.prototype,EventEmitter,{_onSuggestionClick:function onSuggestionClick($e){this.trigger("suggestionClicked",$($e.currentTarget))},_onSuggestionMouseEnter:function onSuggestionMouseEnter($e){this._removeCursor();this._setCursor($($e.currentTarget),true)},_onSuggestionMouseLeave:function onSuggestionMouseLeave(){this._removeCursor()},_onRendered:function onRendered(){this.isEmpty=_.every(this.datasets,isDatasetEmpty);this.isEmpty?this._hide():this.isOpen&&this._show();this.trigger("datasetRendered");function isDatasetEmpty(dataset){return dataset.isEmpty()}},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function getSuggestions(){return this.$menu.find(".tt-suggestion")},_getCursor:function getCursor(){return this.$menu.find(".tt-cursor").first()},_setCursor:function setCursor($el,silent){$el.first().addClass("tt-cursor");!silent&&this.trigger("cursorMoved")},_removeCursor:function removeCursor(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function moveCursor(increment){var $suggestions,$oldCursor,newCursorIndex,$newCursor;if(!this.isOpen){return}$oldCursor=this._getCursor();$suggestions=this._getSuggestions();this._removeCursor();newCursorIndex=$suggestions.index($oldCursor)+increment;newCursorIndex=(newCursorIndex+1)%($suggestions.length+1)-1;if(newCursorIndex===-1){this.trigger("cursorRemoved");return}else if(newCursorIndex<-1){newCursorIndex=$suggestions.length-1}this._setCursor($newCursor=$suggestions.eq(newCursorIndex));this._ensureVisible($newCursor)},_ensureVisible:function ensureVisible($el){var elTop,elBottom,menuScrollTop,menuHeight;elTop=$el.position().top;elBottom=elTop+$el.outerHeight(true);menuScrollTop=this.$menu.scrollTop();menuHeight=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);if(elTop<0){this.$menu.scrollTop(menuScrollTop+elTop)}else if(menuHeight<elBottom){this.$menu.scrollTop(menuScrollTop+(elBottom-menuHeight))}},close:function close(){if(this.isOpen){this.isOpen=false;this._removeCursor();this._hide();this.trigger("closed")}},open:function open(){if(!this.isOpen){this.isOpen=true;!this.isEmpty&&this._show();this.trigger("opened")}},setLanguageDirection:function setLanguageDirection(dir){this.$menu.css(dir==="ltr"?css.ltr:css.rtl)},moveCursorUp:function moveCursorUp(){this._moveCursor(-1)},moveCursorDown:function moveCursorDown(){this._moveCursor(+1)},getDatumForSuggestion:function getDatumForSuggestion($el){var datum=null;if($el.length){datum={raw:Dataset.extractDatum($el),value:Dataset.extractValue($el),datasetName:Dataset.extractDatasetName($el)}}return datum},getDatumForCursor:function getDatumForCursor(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function getDatumForTopSuggestion(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function update(query){_.each(this.datasets,updateDataset);function updateDataset(dataset){dataset.update(query)}},empty:function empty(){_.each(this.datasets,clearDataset);this.isEmpty=true;function clearDataset(dataset){dataset.clear()}},isVisible:function isVisible(){return this.isOpen&&!this.isEmpty},destroy:function destroy(){this.$menu.off(".tt");this.$menu=null;_.each(this.datasets,destroyDataset);function destroyDataset(dataset){dataset.destroy()}}});return Dropdown;function initializeDataset(oDataset){return new Dataset(oDataset)}}();var Typeahead=function(){var attrsKey="ttAttrs";function Typeahead(o){var $menu,$input,$hint;o=o||{};if(!o.input){$.error("missing input")}this.isActivated=false;this.autoselect=!!o.autoselect;this.minLength=_.isNumber(o.minLength)?o.minLength:1;this.$node=buildDomStructure(o.input,o.withHint);$menu=this.$node.find(".tt-dropdown-menu");$input=this.$node.find(".tt-input");$hint=this.$node.find(".tt-hint");$input.on("blur.tt",function($e){var active,isActive,hasActive;active=document.activeElement;isActive=$menu.is(active);hasActive=$menu.has(active).length>0;if(_.isMsie()&&(isActive||hasActive)){$e.preventDefault();$e.stopImmediatePropagation();_.defer(function(){$input.focus()})}});$menu.on("mousedown.tt",function($e){$e.preventDefault()});this.eventBus=o.eventBus||new EventBus({el:$input});this.dropdown=new Dropdown({menu:$menu,datasets:o.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this);this.input=new Input({input:$input,hint:$hint}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this);this._setLanguageDirection()}_.mixin(Typeahead.prototype,{_onSuggestionClicked:function onSuggestionClicked(type,$el){var datum;if(datum=this.dropdown.getDatumForSuggestion($el)){this._select(datum)}},_onCursorMoved:function onCursorMoved(){var datum=this.dropdown.getDatumForCursor();this.input.setInputValue(datum.value,true);this.eventBus.trigger("cursorchanged",datum.raw,datum.datasetName)},_onCursorRemoved:function onCursorRemoved(){this.input.resetInputValue();this._updateHint()},_onDatasetRendered:function onDatasetRendered(){this._updateHint()},_onOpened:function onOpened(){this._updateHint();this.eventBus.trigger("opened")},_onClosed:function onClosed(){this.input.clearHint();this.eventBus.trigger("closed")},_onFocused:function onFocused(){this.isActivated=true;this.dropdown.open()},_onBlurred:function onBlurred(){this.isActivated=false;this.dropdown.empty();this.dropdown.close()},_onEnterKeyed:function onEnterKeyed(type,$e){var cursorDatum,topSuggestionDatum;cursorDatum=this.dropdown.getDatumForCursor();topSuggestionDatum=this.dropdown.getDatumForTopSuggestion();if(cursorDatum){this._select(cursorDatum);$e.preventDefault()}else if(this.autoselect&&topSuggestionDatum){this._select(topSuggestionDatum);$e.preventDefault()}},_onTabKeyed:function onTabKeyed(type,$e){var datum;if(datum=this.dropdown.getDatumForCursor()){this._select(datum);$e.preventDefault()}else{this._autocomplete(true)}},_onEscKeyed:function onEscKeyed(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function onUpKeyed(){var query=this.input.getQuery();this.dropdown.isEmpty&&query.length>=this.minLength?this.dropdown.update(query):this.dropdown.moveCursorUp();this.dropdown.open()},_onDownKeyed:function onDownKeyed(){var query=this.input.getQuery();this.dropdown.isEmpty&&query.length>=this.minLength?this.dropdown.update(query):this.dropdown.moveCursorDown();this.dropdown.open()},_onLeftKeyed:function onLeftKeyed(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function onRightKeyed(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function onQueryChanged(e,query){this.input.clearHintIfInvalid();query.length>=this.minLength?this.dropdown.update(query):this.dropdown.empty();this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function onWhitespaceChanged(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function setLanguageDirection(){var dir;if(this.dir!==(dir=this.input.getLanguageDirection())){this.dir=dir;this.$node.css("direction",dir);this.dropdown.setLanguageDirection(dir)}},_updateHint:function updateHint(){var datum,val,query,escapedQuery,frontMatchRegEx,match;datum=this.dropdown.getDatumForTopSuggestion();if(datum&&this.dropdown.isVisible()&&!this.input.hasOverflow()){val=this.input.getInputValue();query=Input.normalizeQuery(val);escapedQuery=_.escapeRegExChars(query);frontMatchRegEx=new RegExp("^(?:"+escapedQuery+")(.+$)","i");match=frontMatchRegEx.exec(datum.value);match?this.input.setHint(val+match[1]):this.input.clearHint()}else{this.input.clearHint()}},_autocomplete:function autocomplete(laxCursor){var hint,query,isCursorAtEnd,datum;hint=this.input.getHint();query=this.input.getQuery();isCursorAtEnd=laxCursor||this.input.isCursorAtEnd();if(hint&&query!==hint&&isCursorAtEnd){datum=this.dropdown.getDatumForTopSuggestion();datum&&this.input.setInputValue(datum.value);this.eventBus.trigger("autocompleted",datum.raw,datum.datasetName)}},_select:function select(datum){this.input.setQuery(datum.value);this.input.setInputValue(datum.value,true);this._setLanguageDirection();this.eventBus.trigger("selected",datum.raw,datum.datasetName);this.dropdown.close();_.defer(_.bind(this.dropdown.empty,this.dropdown))},open:function open(){this.dropdown.open()},close:function close(){this.dropdown.close()},setVal:function setVal(val){if(this.isActivated){this.input.setInputValue(val)}else{this.input.setQuery(val);this.input.setInputValue(val,true)}this._setLanguageDirection()},getVal:function getVal(){return this.input.getQuery()},destroy:function destroy(){this.input.destroy();this.dropdown.destroy();destroyDomStructure(this.$node);this.$node=null}});return Typeahead;function buildDomStructure(input,withHint){var $input,$wrapper,$dropdown,$hint;$input=$(input);$wrapper=$(html.wrapper).css(css.wrapper);$dropdown=$(html.dropdown).css(css.dropdown);$hint=$input.clone().css(css.hint).css(getBackgroundStyles($input));$hint.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",true).attr({autocomplete:"off",spellcheck:"false"});$input.data(attrsKey,{dir:$input.attr("dir"),autocomplete:$input.attr("autocomplete"),spellcheck:$input.attr("spellcheck"),style:$input.attr("style")});$input.addClass("tt-input").attr({autocomplete:"off",spellcheck:false}).css(withHint?css.input:css.inputWithNoHint);try{!$input.attr("dir")&&$input.attr("dir","auto")}catch(e){}return $input.wrap($wrapper).parent().prepend(withHint?$hint:null).append($dropdown)}function getBackgroundStyles($el){return{backgroundAttachment:$el.css("background-attachment"),backgroundClip:$el.css("background-clip"),backgroundColor:$el.css("background-color"),backgroundImage:$el.css("background-image"),backgroundOrigin:$el.css("background-origin"),backgroundPosition:$el.css("background-position"),backgroundRepeat:$el.css("background-repeat"),backgroundSize:$el.css("background-size")}}function destroyDomStructure($node){var $input=$node.find(".tt-input");_.each($input.data(attrsKey),function(val,key){_.isUndefined(val)?$input.removeAttr(key):$input.attr(key,val)});$input.detach().removeData(attrsKey).removeClass("tt-input").insertAfter($node);$node.remove()}}();(function(){var old,typeaheadKey,methods;old=$.fn.typeahead;typeaheadKey="ttTypeahead";methods={initialize:function initialize(o,datasets){datasets=_.isArray(datasets)?datasets:[].slice.call(arguments,1);o=o||{};return this.each(attach);function attach(){var $input=$(this),eventBus,typeahead;_.each(datasets,function(d){d.highlight=!!o.highlight});typeahead=new Typeahead({input:$input,eventBus:eventBus=new EventBus({el:$input}),withHint:_.isUndefined(o.hint)?true:!!o.hint,minLength:o.minLength,autoselect:o.autoselect,datasets:datasets});$input.data(typeaheadKey,typeahead)}},open:function open(){return this.each(openTypeahead);function openTypeahead(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.open()}}},close:function close(){return this.each(closeTypeahead);function closeTypeahead(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.close()}}},val:function val(newVal){return!arguments.length?getVal(this.first()):this.each(setVal);function setVal(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.setVal(newVal)}}function getVal($input){var typeahead,query;if(typeahead=$input.data(typeaheadKey)){query=typeahead.getVal()}return query}},destroy:function destroy(){return this.each(unattach);function unattach(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.destroy();$input.removeData(typeaheadKey)}}}};$.fn.typeahead=function(method){if(methods[method]){return methods[method].apply(this,[].slice.call(arguments,1))}else{return methods.initialize.apply(this,arguments)}};$.fn.typeahead.noConflict=function noConflict(){$.fn.typeahead=old;return this}})()})(window.jQuery);if(typeof jQuery==="undefined"){console.error("jQuery was not defined before inclusion of ch.global.js")}else{jQuery("a[data-loading-state='0']").on("click",function(){jQuery(this).attr("data-loading-state","1")});var CourseHeroUniversalBanner=new function(){var UNIVERSAL_BANNER_DOM_ID="ch_sitewide_notification";return{setup:function(){this.dom=jQuery("#"+UNIVERSAL_BANNER_DOM_ID);if(this.dom.length===0){return}this.setupActions()},setupActions:function(){this.dom.find("[data-dismiss]").on("click",function(e){var node=jQuery(this);e.preventDefault();CourseHeroUniversalBanner.dismiss(node.data("dismiss-url"))})},dismiss:function(url){this.dom.hide();this.onDismiss(url)},onDismiss:function(url){if(typeof url==="undefined"||url.length===0){return}jQuery.post(url)}}};CourseHeroUniversalBanner.setup();var loginRedirect=function(event){event.preventDefault();window.location.href=this.href+"&login_refer_url="+encodeURIComponent(window.location.href)};jQuery("#ch-header_primary-nav_login").on("click",loginRedirect);window.devLog=function(){if(window.location.hostname!="www.coursehero.com"){console.log.apply(console,arguments)}}}!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=55)}([function(t,e,n){var r=n(33),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(62),o=n(68);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(16),o=n(17);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):r(n,c,l)}return n}},function(t,e,n){var r=n(19),o=n(64),i=n(65),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(18),o=n(37);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(39),o=n(81),i=n(6);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(85),o=n(86),i=n(87),a=n(88),s=n(89);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(7);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(2)(Object,"create");t.exports=r},function(t,e,n){var r=n(104);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(39),o=n(111),i=n(6);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(17),o=n(7),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(32);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(5),o=n(1),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==u}},function(t,e,n){var r=n(0).Symbol;t.exports=r},function(t,e,n){(function(t){var r=n(0),o=n(79),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;t.exports=u}).call(this,n(21)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(33),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(21)(t))},function(t,e,n){var r=n(2)(n(0),"Map");t.exports=r},function(t,e,n){var r=n(114),o=n(46),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return i.call(t,e)}))}:o;t.exports=s},function(t,e,n){var r=n(42)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(118),o=n(24),i=n(119),a=n(120),s=n(121),u=n(5),c=n(34),l=c(r),f=c(o),p=c(i),d=c(a),h=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(124);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},a=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,n=r.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return void 0===e||r.call(t,e)};t.exports=function t(){var e,n,r,o,s,u,c=arguments[0],l=1,f=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[1]||{},l=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});l<f;++l)if(null!=(e=arguments[l]))for(n in e)r=c[n],c!==(o=e[n])&&(p&&o&&(a(o)||(s=i(o)))?(s?(s=!1,u=r&&i(r)?r:[]):u=r&&a(r)?r:{},c[n]=t(p,u,o)):void 0!==o&&(c[n]=o));return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.routes=t}return t.prototype.isRoute=function(t){return void 0!==this.routes[t]},t.prototype.callRoute=function(t,e){return this.routes[t](e)},t.prototype.handleRequest=function(t,e,n,r){return this.routes[t](e,n,r)},t}();e.RoutingConfig=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=n(61),i=n(83),a=n(133),s=function(){function t(){this.state=null,this.stateHistory=[],this.listeners=[],this._nextState=null,this.debug=!1,this.highPerformance=!1,this.dirtyState=!1,this.listen=this.listen.bind(this),this.ignore=this.ignore.bind(this),this.stateChange=this.stateChange.bind(this),this.newState=this.newState.bind(this),this.nextState=this.nextState.bind(this),this.cloneState=this.cloneState.bind(this),this.notify=this.notify.bind(this),this.upsertItem=this.upsertItem.bind(this),this.removeItem=this.removeItem.bind(this),this.removeItems=this.removeItems.bind(this)}return t.prototype.listen=function(t){this.listeners.push(t)},t.prototype.getState=function(){return this.state},t.prototype.ignore=function(t){var e=this.listeners.indexOf(t);return e>=0&&(this.listeners.splice(e,1),!0)},t.prototype.stateChange=function(t,e){var n={};return o(n,this.state),this.debug&&this.stateHistory.push({actionName:t,state:n}),this.state=e,this._nextState=null,this.dirtyState||(this.dirtyState=!0,this.highPerformance?requestAnimationFrame(this.notify.bind(this,n)):this.notify(n)),e},t.prototype.cloneState=function(){return i(this.state,function(t){return window&&window.moment&&window.moment.isMoment(t)?t.clone():t instanceof Date?new Date(t.getTime()):void 0})},t.prototype.newState=function(){return this.nextState()},t.prototype.nextState=function(){return this._nextState?this._nextState:this._nextState=this.cloneState()},t.prototype.notify=function(t){var e=this;this.debug&&console.debug("Store state changed, notifying "+this.listeners.length+" listener(s) of change","Old State",t,"New State",this.state),this.listeners.forEach(function(n){n(e.state,t)}),this.dirtyState=!1},t.prototype.upsertItem=function(t,e,n,r){void 0===r&&(r=!1);if(void 0!==t&&Array.isArray(t)||(console.warn("Non array passed in as modelArray"),t=[]),"object"!=typeof n)return console.warn("Upserted item must be an object",typeof n,"given"),!1;if(void 0!==n.__bID&&n.__bID!==e)return console.warn("Upserted item does not match the keyValue passed in",n.__bID,"!=",e),!1;for(var o=null,i=0;i<t.length;i++){if(t[i].__bID===e){o=i;break}}if(null===o)n.__bID=e,t.push(n);else{var a=t[o];t[o]=r?n:this.merge(a,n),t[o].__bID=e}return!0},t.prototype.getItem=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.__bID===e)return r}return null},t.prototype.removeItem=function(t,e){for(var n=null,r=0;r<t.length;r++){if(t[r].__bID===e){n=r;break}}return null!==n&&t.splice(n,1)},t.prototype.removeItems=function(t,e){var n=this;e.forEach(function(e){n.removeItem(t,e)})},t.prototype.sanitizeAndValidate=function(t,e){var n=this.sanitize(t,e,!1),r=this.validate(n,e);return!0===r?n:r},t.prototype.validate=function(t,e){var n=[];for(var r in e)if(void 0!==e[r].validation)for(var o in e[r].validation){if(n.length>0)break;var i=t[r],a=e[r].validation[o];if("object"===e[r].type&&"validate"===o&&a){var s=this.validate(i,e[r].schema());if(!0!==s){n=n.concat(s);break}}var u=e[r].label?e[r].label:r;switch(o){case"required":null!=i&&""!==i||n.push(u+" is required");break;case"minLength":i.length<a&&n.push(u+" must be at least "+a+" characters");break;case"maxLength":i.length>a&&n.push(u+" must be at under "+a+" characters");break;default:if("function"==typeof a){var c=a(i);!0!==c&&(n=n.concat(c))}}}return!(n.length>0)||n},t.prototype.sanitize=function(t,e,n){void 0===n&&(n=!1);var o={},i=r(!0,{},t);for(var a in e)o[a]=this.sanitizeField(a,i,e,n);return o},t.prototype.merge=function(t,e){return a(t,e),t},t.prototype.sortBy=function(t,e){return void 0===e&&(e="desc"),function(n,r){return r[t]&&!n[t]||r[t]&&n[t]&&r[t]>n[t]?"desc"===e.toLowerCase()?1:-1:!r[t]&&n[t]||r[t]&&n[t]&&r[t]<n[t]?"desc"===e.toLowerCase()?-1:1:r[t]&&n[t]&&r[t]==n[t]?0:r[t]&&!n[t]?0:void 0}},t.prototype.money=function(t){return t.toFixed(2)},t.prototype.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.string=function(t){return void 0===t&&(t={}),r(!0,{type:"string"},t)},t.int=function(t){return void 0===t&&(t={}),r(!0,{type:"int"},t)},t.double=function(t){return void 0===t&&(t={}),r(!0,{type:"double"},t)},t.bool=function(t){return void 0===t&&(t={}),r(!0,{type:"bool"},t)},t.float=function(t){return void 0===t&&(t={}),r(!0,{type:"float"},t)},t.array=function(t){return void 0===t&&(t={}),r(!0,{type:"array",schema:null},t)},t.object=function(t){return void 0===t&&(t={}),r(!0,{type:"object",schema:null},t)},t.datetime=function(t){return void 0===t&&(t={}),r(!0,{type:"datetime",schema:null,format:"YYYY-MM-DD HH:mm:ss"},t)},t.callback=function(t){return void 0===t&&(t={}),r(!0,{type:"callback",schema:null},t)},t.customType=function(t,e){return void 0===e&&(e={}),r(!0,{type:t,schema:null},e)},t.prototype.sanitizeField=function(t,e,n,r){if("function"===n[t].type)return n[t].value;void 0===e[t]&&(void 0!==n[t].initial?e[t]=n[t].initial():e[t]=null);var o=n[t].type;if(null===e[t]&&"obj"!==o&&"object"!==o)return null;switch(n[t].field=t,o){case"int":case"integer":return this.sanitizeInteger(e[t],n[t]);case"float":case"double":return this.sanitizeFloat(e[t],n[t]);case"string":case"char":case"varchar":return this.sanitizeString(e[t],n[t]);case"date":case"datetime":case"timestamp":return this.sanitizeDateTime(e[t],n[t],r);case"bool":case"boolean":return this.sanitizeBoolean(e[t],n[t]);case"obj":case"object":return this.sanitizeObject(e[t],n[t],r);case"array":case"collection":return this.sanitizeArray(e[t],n[t],r);case"callback":return this.sanitizeCallback(e[t],n[t]);default:if(void 0!==n[t].sanitize)return n[t].sanitize(e[t],n[t])}},t.prototype.sanitizeCallback=function(t,e){if("function"!=typeof t)throw new Error("Provided callback is not a valid function");return t},t.prototype.sanitizeInteger=function(t,e){if("string"==typeof t&&0===(t=t.replace(/[a-zA-Z]+/gi,"")).length)return"";if(t=parseInt(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed");return isNaN(t)?"":t},t.prototype.sanitizeFloat=function(t,e){if(t=parseFloat(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum float allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed");return t},t.prototype.sanitizeString=function(t,e){if(t=String(t),void 0!==e.minLength&&t.length<e.minLength)throw new Error("Provided value cannot be sanitized, string length is below minimum allowed");return void 0!==e.maxLength&&t.length>e.maxLength&&(console.warn("Value was truncated during sanitization"),t=t.substr(0,e.maxLength)),t},t.prototype.sanitizeDateTime=function(t,e,n){if(void 0===e.utc||e.utc)var r=moment.utc(t,e.format);else r=moment(t,e.format);if(r.isValid())return n?r.utc().format("YYYY-MM-DD hh:mm:ss"):r;throw new Error("Provided value ("+t+") cannot be sanitized for field ("+e.field+"), is not a valid date")},t.prototype.sanitizeBoolean=function(t,e){if(!1===t||!0===t)return t;if("string"==typeof t){if("false"===t.toLowerCase().trim())return!1;if("true"===t.toLowerCase().trim())return!0}if(0===parseInt(t))return!1;if(1===parseInt(t))return!0;throw new Error("Provided value cannot be santized, is not a valid boolean")},t.prototype.sanitizeObject=function(t,e,n){if(void 0===e.schema)throw new Error("Provided value cannot be santized, no reference schema provided for field type of object");return null===e.schema?t:null===t?null:n||"function"!=typeof e.constructor?this.sanitize(t,e.schema(),n):new e.constructor(this.sanitize(t,e.schema()))},t.prototype.sanitizeArray=function(t,e,n){var r=this;return void 0===e.schema||null===e.schema||!1===e.schema?t:void 0===t.length?[]:t.map(function(t){return n||"function"!=typeof e.constructor?r.sanitize(t,e.schema(),n):new e.constructor(r.sanitize(t,e.schema()))})},t}();e.default=s},function(t,e,n){var r=n(2),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(63))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(69),o=n(76);t.exports=function(t){return r(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e){t.exports=function(t){return t}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?n:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(77),o=n(40),i=n(10),a=n(20),s=n(38),u=n(41),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),p=!n&&!l&&!f&&u(t),d=n||l||f||p,h=d?r(t.length,String):[],v=h.length;for(var y in t)!e&&!c.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||h.push(y);return h}},function(t,e,n){var r=n(78),o=n(3),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(80),o=n(22),i=n(23),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(11),o=n(90),i=n(91),a=n(92),s=n(93),u=n(94);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){(function(t){var r=n(0),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(21)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(48),o=n(26),i=n(25),a=n(46),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(48),o=n(10);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(128),o=n(26),i=n(8);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(17),o=n(7);t.exports=function(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){"use strict";var r=n(56),o=n(30),i=n(59),a=n(60),s=n(31),u=n(141),c=n(142),l=n(143);t.exports={Actions:c.default,ApiService:r.ApiService,ApiServiceClass:r.ApiServiceClass,Model:l.default,RoutingConfig:o.RoutingConfig,sanitize:i.sanitize,RoutingService:a.RoutingService,RoutingServiceClass:a.RoutingServiceClass,Store:s.default,Schema:u.Schema}},function(t,e,n){"use strict";n.r(e);var r=n(54);n(144);window.BeefFlux=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),o=n(29),i=function(){function t(){}return t.prototype.throttle=function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}},t.prototype.get=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e),method:"get"},n))},t.prototype.post=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e,!1),method:"post",data:JSON.stringify(e),contentType:"application/json"},n))},t.prototype.put=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e,!1),method:"put",data:JSON.stringify(e),contentType:"application/json"},n))},t.prototype.delete=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e),method:"delete"},n))},t.prototype._buildUrl=function(t,e,n){for(var r in void 0===n&&(n=!0),e)-1===t.indexOf("{"+r+"}")?!1!==n&&(-1!==t.indexOf("?")?t+="&":t+="?",t+=r+"="+e[r]):t=t.replace("{"+r+"}",e[r]);return t},t.prototype._buildConfig=function(t,e){return void 0===e&&(e={}),null===e?t:o(!0,{},t,e)},t}();e.ApiServiceClass=i;var a=new i;e.ApiService=a},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,definition;definition=function(){var context=this,XHR2;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else try{XHR2=__webpack_require__(58)}catch(t){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(t){if(!0===t.crossOrigin){var e=context[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(t){return t}};function succeed(t){var e=protocolRe.exec(t.url);return e=e&&e[1]||context.location.protocol,httpsRe.test(e)?twoHundo.test(t.request.status):!!t.request.response}function handleReadyState(t,e,n){return function(){return t._aborted?n(t.request):t._timedOut?n(t.request,"Request is aborted: timeout"):void(t.request&&4==t.request[readyState]&&(t.request.onreadystatechange=noop,succeed(t)?e(t.request):n(t.request)))}}function setHeaders(t,e){var n,r=e.headers||{};r.Accept=r.Accept||defaultHeaders.accept[e.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&e.data instanceof FormData;for(n in e.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||o||(r[contentType]=e.contentType||defaultHeaders.contentType),r)r.hasOwnProperty(n)&&"setRequestHeader"in t&&t.setRequestHeader(n,r[n])}function setCredentials(t,e){void 0!==e.withCredentials&&void 0!==t.withCredentials&&(t.withCredentials=!!e.withCredentials)}function generalCallback(t){lastValue=t}function urlappend(t,e){return t+(/\?/.test(t)?"&":"?")+e}function handleJsonp(t,e,n,r){var o=uniqid++,i=t.jsonpCallback||"callback",a=t.jsonpCallbackName||reqwest.getcallbackPrefix(o),s=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),u=r.match(s),c=doc.createElement("script"),l=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return u?"?"===u[3]?r=r.replace(s,"$1="+a):a=u[3]:r=urlappend(r,i+"="+a),context[a]=generalCallback,c.type="text/javascript",c.src=r,c.async=!0,void 0===c.onreadystatechange||f||(c.htmlFor=c.id="_reqwest_"+o),c.onload=c.onreadystatechange=function(){if(c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||l)return!1;c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),e(lastValue),lastValue=void 0,head.removeChild(c),l=1},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),l=1}}}function getRequest(t,e){var n,r=this.o,o=(r.method||"GET").toUpperCase(),i="string"==typeof r?r:r.url,a=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=o||!a||(i=urlappend(i,a),a=null),"jsonp"==r.type?handleJsonp(r,t,e,i):((n=r.xhr&&r.xhr(r)||xhr(r)).open(o,i,!1!==r.async),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=t,n.onerror=e,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,t,e),r.before&&r.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(t,e){this.o=t,this.fn=e,init.apply(this,arguments)}function setType(t){if(null!==t)return t.match("json")?"json":t.match("javascript")?"js":t.match("text")?"html":t.match("xml")?"xml":void 0}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(t){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(t)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(t){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(t){return error(resp,"Could not parse JSON in response",t)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(t,e,n){for(t=self.request,self._responseArgs.resp=t,self._responseArgs.msg=e,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(t,e,n);complete(t)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(t,e){return new Reqwest(t,e)}function normalize(t){return t?t.replace(/\r?\n/g,"\r\n"):""}function serial(t,e){var n,r,o,i,a=t.name,s=t.tagName.toLowerCase(),u=function(t){t&&!t.disabled&&e(a,normalize(t.attributes.value&&t.attributes.value.specified?t.value:t.text))};if(!t.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(t.type)||(n=/checkbox/i.test(t.type),r=/radio/i.test(t.type),o=t.value,(!n&&!r||t.checked)&&e(a,normalize(n&&""===o?"on":o)));break;case"textarea":e(a,normalize(t.value));break;case"select":if("select-one"===t.type.toLowerCase())u(t.selectedIndex>=0?t.options[t.selectedIndex]:null);else for(i=0;t.length&&i<t.length;i++)t.options[i].selected&&u(t.options[i])}}function eachFormElement(){var t,e,n=this,r=function(t,e){var r,o,i;for(r=0;r<e.length;r++)for(i=t[byTag](e[r]),o=0;o<i.length;o++)serial(i[o],n)};for(e=0;e<arguments.length;e++)t=arguments[e],/input|select|textarea/i.test(t.tagName)&&serial(t,n),r(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var t={};return eachFormElement.apply(function(e,n){e in t?(t[e]&&!isArray(t[e])&&(t[e]=[t[e]]),t[e].push(n)):t[e]=n},arguments),t}function buildParams(t,e,n,r){var o,i,a,s=/\[\]$/;if(isArray(e))for(i=0;e&&i<e.length;i++)a=e[i],n||s.test(t)?r(t,a):buildParams(t+"["+("object"==typeof a?i:"")+"]",a,n,r);else if(e&&"[object Object]"===e.toString())for(o in e)buildParams(t+"["+o+"]",e[o],n,r);else r(t,e)}return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(t,e){return t=t||function(){},e=e||function(){},this._fulfilled?this._responseArgs.resp=t(this._responseArgs.resp):this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(t),this._errorHandlers.push(e)),this},always:function(t){return this._fulfilled||this._erred?t(this._responseArgs.resp):this._completeHandlers.push(t),this},fail:function(t){return this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(t),this},catch:function(t){return this.fail(t)}},reqwest.serializeArray=function(){var t=[];return eachFormElement.apply(function(e,n){t.push({name:e,value:n})},arguments),t},reqwest.serialize=function(){if(0===arguments.length)return"";var t,e=Array.prototype.slice.call(arguments,0);return(t=e.pop())&&t.nodeType&&e.push(t)&&(t=null),t&&(t=t.type),("map"==t?serializeHash:"array"==t?reqwest.serializeArray:serializeQueryString).apply(null,e)},reqwest.toQueryString=function(t,e){var n,r,o=e||!1,i=[],a=encodeURIComponent,s=function(t,e){e="function"==typeof e?e():null==e?"":e,i[i.length]=a(t)+"="+a(e)};if(isArray(t))for(r=0;t&&r<t.length;r++)s(t[r].name,t[r].value);else for(n in t)t.hasOwnProperty(n)&&buildParams(n,t[n],o,s);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(t,e){return t&&(t.type&&(t.method=t.type)&&delete t.type,t.dataType&&(t.type=t.dataType),t.jsonpCallback&&(t.jsonpCallbackName=t.jsonpCallback)&&delete t.jsonpCallback,t.jsonp&&(t.jsonpCallback=t.jsonp)),new Reqwest(t,e)},reqwest.ajaxSetup=function(t){for(var e in t=t||{})globalSetupOptions[e]=t[e]},reqwest},module.exports?module.exports=definition():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=definition)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){switch(e.type){case"int":case"integer":return parseInt(t);case"float":return parseFloat(t);case"string":return""+t;case"bool":case"boolean":return void 0!==t&&(!0===t||"string"==typeof t&&"yes"===t.toLowerCase()||1===t||"1"===t)}};e.sanitize=function(t){return function(e,n,o){var i=e[n];o.value=function(n){var o=n;for(var a in o)void 0!==t[a]&&(o[a]=r(o[a],t[a]));return i.apply(e,[o])}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),o=function(){function t(){}return t.prototype.onRouteFinished=function(){},t.prototype.routes=function(t){return this.routingConfig=new r.RoutingConfig(t),this},t.prototype.route=function(t,e){if(this.routingConfig.isRoute(t)||(t="/"),this.routingConfig.isRoute(t)){var n=this.routingConfig.callRoute(t,e);return this.activeRoute=t,this.onRouteFinished(),n}return null},t.prototype.handleRequest=function(t,e,n,r){if(this.routingConfig.isRoute(t)||(t="default:/"),this.routingConfig.isRoute(t)){n=this.routingConfig.handleRequest(t,e,n,r);return this.activeRoute=t,this.onRouteFinished(),n}return null},t.prototype.doRouting=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null);var r="";for(var o in this.routingConfig.routes){r=o;var i=t||window.location.hash;i.indexOf("?")>=0&&(i=i.substring(0,i.indexOf("?")));var a=o.match(/\{[a-z\_\-\+]+\}/gi),s={};if(null!==a){var u=o.split("/"),c=i.split("/");if(0===u[0].length&&(u=u.splice(1,u.length-1)),0===c[0].length&&(c=c.splice(1,c.length-1)),c.length!==u.length)continue;var l=0,f=!1;if(c.forEach(function(t){u[l].match(/\{[a-z\_\-\+]+\}/gi)||t!==u[l]&&(f=!0),l++}),f)continue;r="",u.forEach(function(t,e){e>0&&(r+="/"),r+=c[e],e>0&&(s[t.replace(/[\{\}]/gi,"")]=c[e])})}r=r.replace("+","\\+");var p=new RegExp("^[#/]*"+r+"$","gi");if(null!==i.match(p)){if(this.activeRoute===o&&s===this.routeData)return;return this.routeData=s,this.activeRoute=o,e?this.handleRequest(o,e,n,s):this.route(o,s)}}return e?this.handleRequest("default:/",e,n,{}):this.route("/",{})},t}();e.RoutingServiceClass=o;var i=new o;e.RoutingService=i},function(t,e,n){var r=n(16),o=n(4),i=n(35),a=n(6),s=n(8),u=n(9),c=Object.prototype.hasOwnProperty,l=i(function(t,e){if(s(e)||a(e))o(e,u(e),t);else for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e,n){var r=n(18),o=n(66),i=n(1),a=n(34),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:s).test(a(t))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(19),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(67),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(0)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(36),o=n(70),i=n(72);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){var r=n(71),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(73),o=n(75)(r);t.exports=o},function(t,e,n){var r=n(74),o=n(32),i=n(36),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(7),o=n(6),i=n(38),a=n(1);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(5),o=n(3),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(5),o=n(37),i=n(3),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(8),o=n(82),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(42)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(84),o=1,i=4;t.exports=function(t,e){return r(t,o|i,e="function"==typeof e?e:void 0)}},function(t,e,n){var r=n(43),o=n(108),i=n(16),a=n(109),s=n(110),u=n(44),c=n(45),l=n(113),f=n(115),p=n(116),d=n(117),h=n(27),v=n(122),y=n(123),b=n(51),g=n(10),x=n(20),m=n(129),_=n(1),w=n(131),j=n(9),A=1,O=2,S=4,R="[object Arguments]",z="[object Function]",C="[object GeneratorFunction]",E="[object Object]",P={};P[R]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[E]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[z]=P["[object WeakMap]"]=!1,t.exports=function t(e,n,I,k,q,D){var T,F=n&A,M=n&O,H=n&S;if(I&&(T=q?I(e,k,q,D):I(e)),void 0!==T)return T;if(!_(e))return e;var L=g(e);if(L){if(T=v(e),!F)return c(e,T)}else{var U=h(e),N=U==z||U==C;if(x(e))return u(e,F);if(U==E||U==R||N&&!q){if(T=M||N?{}:b(e),!F)return M?f(e,s(T,e)):l(e,a(T,e))}else{if(!P[U])return q?e:{};T=y(e,U,F)}}D||(D=new r);var B=D.get(e);if(B)return B;D.set(e,T),w(e)?e.forEach(function(r){T.add(t(r,n,I,r,e,D))}):m(e)&&e.forEach(function(r,o){T.set(o,t(r,n,I,o,e,D))});var V=H?M?d:p:M?keysIn:j,Q=L?void 0:V(e);return o(Q||e,function(r,o){Q&&(r=e[o=r]),i(T,o,t(r,n,I,o,e,D))}),T}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(12),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(12);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(12);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(12);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(11);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(11),o=n(24),i=n(95),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(96),o=n(103),i=n(105),a=n(106),s=n(107);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(97),o=n(11),i=n(24);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(98),o=n(99),i=n(100),a=n(101),s=n(102);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(13);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(13),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(13),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(13),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},function(t,e,n){var r=n(14);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(14);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(14);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(14);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(4),o=n(9);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(4),o=n(15);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(1),o=n(8),i=n(112),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(4),o=n(25);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e,n){var r=n(4),o=n(47);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(49),o=n(25),i=n(9);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(49),o=n(47),i=n(15);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(2)(n(0),"DataView");t.exports=r},function(t,e,n){var r=n(2)(n(0),"Promise");t.exports=r},function(t,e,n){var r=n(2)(n(0),"Set");t.exports=r},function(t,e,n){var r=n(2)(n(0),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(28),o=n(125),i=n(126),a=n(127),s=n(50),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",p="[object RegExp]",d="[object Set]",h="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",m="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",j="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",S="[object Uint32Array]";t.exports=function(t,e,n){var R=t.constructor;switch(e){case y:return r(t);case u:case c:return new R(+t);case b:return o(t,n);case g:case x:case m:case _:case w:case j:case A:case O:case S:return s(t,n);case l:return new R;case f:case h:return new R(t);case p:return i(t);case d:return new R;case v:return a(t)}}},function(t,e,n){var r=n(0).Uint8Array;t.exports=r},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(19),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(1),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(130),o=n(22),i=n(23),a=i&&i.isMap,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(27),o=n(3),i="[object Map]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(132),o=n(22),i=n(23),a=i&&i.isSet,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(27),o=n(3),i="[object Set]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(134),o=n(35)(function(t,e,n){r(t,e,n)});t.exports=o},function(t,e,n){var r=n(43),o=n(52),i=n(135),a=n(137),s=n(1),u=n(15),c=n(53);t.exports=function t(e,n,l,f,p){e!==n&&i(n,function(i,u){if(p||(p=new r),s(i))a(e,n,u,l,t,f,p);else{var d=f?f(c(e,u),i,u+"",e,n,p):void 0;void 0===d&&(d=i),o(e,u,d)}},u)}},function(t,e,n){var r=n(136)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}},function(t,e,n){var r=n(52),o=n(44),i=n(50),a=n(45),s=n(51),u=n(40),c=n(10),l=n(138),f=n(20),p=n(18),d=n(1),h=n(139),v=n(41),y=n(53),b=n(140);t.exports=function(t,e,n,g,x,m,_){var w=y(t,n),j=y(e,n),A=_.get(j);if(A)r(t,n,A);else{var O=m?m(w,j,n+"",t,e,_):void 0,S=void 0===O;if(S){var R=c(j),z=!R&&f(j),C=!R&&!z&&v(j);O=j,R||z||C?c(w)?O=w:l(w)?O=a(w):z?(S=!1,O=o(j,!0)):C?(S=!1,O=i(j,!0)):O=[]:h(j)||u(j)?(O=w,u(w)?O=b(w):d(w)&&!p(w)||(O=s(j))):S=!1}S&&(_.set(j,O),x(O,j,g,m,_),_.delete(j)),r(t,n,O)}}},function(t,e,n){var r=n(6),o=n(3);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(5),o=n(26),i=n(3),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!i(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(4),o=n(15);t.exports=function(t){return r(t,o(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31);e.Schema={int:function(t){return void 0===t&&(t=null),o.bind(null,r.default.int.bind(null,t))},string:function(t){return void 0===t&&(t=null),o.bind(null,r.default.string.bind(null,t))},double:function(t){return void 0===t&&(t=null),o.bind(null,r.default.double.bind(null,t))},bool:function(t){return void 0===t&&(t=null),o.bind(null,r.default.bool.bind(null,t))},float:function(t){return void 0===t&&(t=null),o.bind(null,r.default.float.bind(null,t))},array:function(t){return void 0===t&&(t=null),o.bind(null,r.default.array.bind(null,t))},object:function(t){return void 0===t&&(t=null),o.bind(null,r.default.object.bind(null,t))},datetime:function(t){return void 0===t&&(t=null),o.bind(null,r.default.datetime.bind(null,t))},callback:function(t){return void 0===t&&(t=null),o.bind(null,r.default.callback.bind(null,t))},custom:function(t,e){return void 0===e&&(e=null),o.bind(null,r.default.customType.bind(null,t,e))},uuid:function(t){return void 0===t&&(t={}),t.initial=function(){return i()},o.bind(null,r.default.string.bind(null,t))}};var o=function(t,e,n,r){e.constructor.schema[n]=t()},i=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.actions={},this.define=this.define.bind(this),this.dispatch=this.dispatch.bind(this),this.register=this.register.bind(this),this.debug=!1}return t.prototype.setDebug=function(t){return this.debug=t,this},t.prototype.define=function(t,e){"string"!=typeof t&&console.error("actionName is not a valid string",t),"function"!=typeof e&&console.error("Must pass valid callback for action: ",e),void 0!==this.actions[t]&&console.warn("Action with name "+t+" was already defined, and is now being overwritten"),this.actions[t]={cb:e,stores:[]};var n=function(){this.dispatch(t,arguments)};return(n=n.bind(this)).toString=function(){return t},n.original_argument_length=e.length,n},t.prototype.dispatch=function(t,e,n){void 0===this.actions[t]&&console.warn("Attempting to call non registered action: "+t),this._debug("ACTION.DISPATCH: "+t,e);var r=this.actions[t].cb.apply(null,e);this.actions[t].stores.forEach(function(e){var o=e.store,i=e.cb;o.stateChange(t,i(r,n))})},t.prototype.register=function(t,e){for(var n in t)void 0!==this.actions[n]?(this._debug(n+" registered for ",e),this.actions[n].stores.push({store:e,cb:t[n]})):console.warn("Store attempting to register missing action: "+n)},t.prototype._debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.debug&&console.debug.apply(null,arguments)},t}();e.ActionsClass=r;var o=new r;e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(void 0===t&&(t=null),t&&"object"==typeof t)for(var e in t)this[e]=t[e]};e.default=r},function(t,e){var n=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},r=function(){function t(){}return t.service=function(t,e){return void 0===e&&(e=null),null!==e&&(this.services[t]=e),this.services[t]},t.setup=function(t){this.setupCallbacks.push(t)},t.start=function(){this.started||(this.setupCallbacks.forEach(function(t){t()}),this.started=!0)},t.started=!1,t.Actions=function(){return t.start(),{create:function(t){return o.create(t)}}},t.Api=function(){return t.start(),t.service(p.SERVICE_ID)},t.Dispatcher=function(){return t.start(),t.service(d.SERVICE_ID)},t.Store=function(){return t.start(),{create:function(t){var e=jQuery.extend(!0,new f,t);return e.actions(),e}}},t.Router=function(){return t.start(),t.service(h.SERVICE_ID)},t.services={},t.setupCallbacks=[],t}();window.Beef=r;var o=function(){function t(){}return t.create=function(e){var n=new i;for(var r in e)"_"===r[0]||t.ignoreFunctions.indexOf(r)>=0||(n[r]=new function(){return new Function("return function (fn) { return function "+r+" () { return fn(this, arguments) }; };")()(Function.apply.bind(function(t){var r=[];for(var o in arguments)"0"!==o&&r.push(arguments[o]);n._dispatch(t,e[t].bind(n),r)}.bind(null,r)))});return n},t.ignoreFunctions=["constructor"],t}();window.Actions=o;var i=function(){function t(){this._callbacks={}}return t.prototype._register=function(t,e){for(var n in t){var r=t[n].name?t[n].name:t[n].toString().match(/^function\s*([^\s(]+)/)[1];void 0===this._callbacks[r]&&(this._callbacks[r]=[]),this._callbacks[r].push(e[n].bind(e))}},t.prototype._dispatch=function(t,e,n){if(void 0!==this._callbacks[t]){var r=e.apply(this,n);this._callbacks[t].forEach(function(t){t(r)})}},t}();window.Action=i;var a=function(){function t(){}return t.prototype.setup=function(){},t.prototype.run=function(){},t}();window.BaseApp=a;var s=function(){};window.BaseService=s;var u=function(t,e,n){void 0===e&&(e=[]),this.func=t,this.dependencies=e,this.dispatchId=n};window.DispatcherCallback=u;var c=function(t,e){this.action=t,this.data=e};window.DispatcherPayload=c;var l=function(){function t(t){this.routes=t}return t.prototype.isRoute=function(t){return void 0!==this.routes[t]},t.prototype.callRoute=function(t,e){return this.routes[t](e)},t}();window.RoutingConfig=l;var f=function(){function t(){this.rows={},this.actions=function(){},this.dispatchIndex=null}return t.prototype.listen=function(t,e){jQuery(window).on(t,e)},t.prototype.ignore=function(t,e){jQuery(window).off(t,e)},t.prototype.emit=function(t,e){void 0===e&&(e=!1),jQuery(window).trigger(t,[e])},t.prototype.upsertRow=function(t,e,n,r,o){void 0===o&&(o=!1);var i=!1;void 0===this.rows[t]&&(this.rows[t]=[]);var a=this.rows[t],s=this;a.forEach(function(t,u){void 0!==t[e]&&t[e]===n&&(void 0===a[u]&&(a[u]={}),a[u]=o?a[u]=r:s.merge(a[u],r),i=!0)}),i||this.rows[t].push(r)},t.prototype.removeRow=function(t,e,n){if(void 0!==this.rows[t]){var r=this.rows[t],o=[];if(r.forEach(function(t,r){void 0!==t[e]&&t[e]==n&&o.push(r)}),0!==o.length)for(var i=0;i<o.length;i++)this.rows[t].splice(o[i],1)}},t.prototype.removeRows=function(t,e,n){var r=this;n.forEach(function(n){r.removeRow(t,e,n)})},t.prototype.clearAll=function(t){this.rows[t]=[]},t.prototype.getRows=function(t,e){return void 0===e&&(e=!0),void 0!==this.rows[t]?e?this.rows[t]:this.rows[t].slice(0):[]},t.prototype.sanitizeAndValidate=function(t,e){var n=this.sanitize(t,e,!1),r=this.validate(n,e);return!0===r?n:r},t.prototype.validate=function(t,e){var n=[];for(var r in e)if(void 0!==e[r].validation)for(var o in e[r].validation){if(n.length>0)break;var i=t[r],a=e[r].label?e[r].label:r;switch(o){case"required":null!=i&&""!==i||n.push(a+" is required");break;case"minLength":i.length<e[r].validation[o]&&n.push(a+" must be at least "+e[r].validation[o]+" characters");break;case"maxLength":i.length>e[r].validation[o]&&n.push(a+" must be at under "+e[r].validation[o]+" characters");break;default:if("function"==typeof e[r].validation[o]){var s=e[r].validation[o](i);!0!==s&&n.concat(s)}}}return!(n.length>0)||n},t.prototype.sanitize=function(t,e,n){void 0===n&&(n=!1);var r={},o=jQuery.extend(!0,{},t);for(var i in e)r[i]=this.sanitizeField(i,o,e,n);return r},t.prototype.merge=function(t,e,n){void 0===n&&(n=1);if(3===n)return e;for(var r in e)try{e[r].constructor===Object?t[r]=this.merge(t[r],e[r],n+1):t[r]=e[r]}catch(n){t[r]=e[r]}return t},t.prototype.sortBy=function(t,e){return void 0===e&&(e="desc"),function(n,r){return r[t]&&!n[t]||r[t]&&n[t]&&r[t]>n[t]?"desc"===e.toLowerCase()?1:-1:!r[t]&&n[t]||r[t]&&n[t]&&r[t]<n[t]?"desc"===e.toLowerCase()?-1:1:r[t]&&n[t]&&r[t]==n[t]?0:r[t]&&!n[t]?0:void 0}},t.prototype.money=function(t){return t.toFixed(2)},t.prototype.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.string=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"string"},t)},t.int=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"int"},t)},t.double=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"double"},t)},t.bool=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"bool"},t)},t.float=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"float"},t)},t.array=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"array",schema:null},t)},t.object=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"object",schema:null},t)},t.datetime=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"datetime",schema:null,format:"YYYY-MM-DD HH:mm:ss"},t)},t.callback=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"callback",schema:null},t)},t.prototype.sanitizeField=function(t,e,n,r){if("function"===n[t].type)return n[t].value;void 0===e[t]&&(void 0!==n[t].initial?e[t]=n[t].initial():e[t]=null);var o=n[t].type;if(null===e[t]&&"obj"!==o&&"object"!==o)return null;switch(n[t].field=t,o){case"int":case"integer":return this.sanitizeInteger(e[t],n[t]);case"float":case"double":return this.sanitizeFloat(e[t],n[t]);case"string":case"char":case"varchar":return this.sanitizeString(e[t],n[t]);case"date":case"datetime":case"timestamp":return this.sanitizeDateTime(e[t],n[t],r);case"bool":case"boolean":return this.sanitizeBoolean(e[t],n[t]);case"obj":case"object":return this.sanitizeObject(e[t],n[t],r);case"array":case"collection":return this.sanitizeArray(e[t],n[t],r);default:if("undefined"!==n[t].sanitize)return n[t].sanitize(e[t],n[t])}},t.prototype.sanitizeInteger=function(t,e){if("string"==typeof t&&0===(t=t.replace(/[a-zA-Z]+/gi,"")).length)return"";if(t=parseInt(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed");return isNaN(t)?"":t},t.prototype.sanitizeFloat=function(t,e){if(t=parseFloat(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum float allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed");return t},t.prototype.sanitizeString=function(t,e){if(t=String(t),void 0!==e.minLength&&t.length<e.minLength)throw new Error("Provided value cannot be sanitized, string length is below minimum allowed");return void 0!==e.maxLength&&t.length>e.maxLength&&(console.warn("Value was truncated during sanitation"),t=t.substr(0,e.maxLength)),t},t.prototype.sanitizeDateTime=function(t,e,n){if(moment(t,e.format).isValid())return n?moment(t).utc().format("YYYY-MM-DD hh:mm:ss"):void 0===e.utc||e.utc?moment.utc(t):moment(t);throw new Error("Provided value ("+t+") cannot be sanitized for field ("+e.field+"), is not a valid date")},t.prototype.sanitizeBoolean=function(t,e){if(!1===t||!0===t)return t;if("string"==typeof t){if("false"===t.toLowerCase().trim())return!1;if("true"===t.toLowerCase().trim())return!0}if(0===parseInt(t))return!1;if(1===parseInt(t))return!0;throw new Error("Provided value cannot be santized, is not a valid boolean")},t.prototype.sanitizeObject=function(t,e,n){if(void 0===e.schema)throw new Error("Provided value cannot be santized, no reference schema provided for field type of object");return null===e.schema?t:null===t?null:this.sanitize(t,e.schema(),n)},t.prototype.sanitizeArray=function(t,e,n){if(void 0===e.schema||null===e.schema||!1===e.schema)return t;if(void 0===t.length)return[];var r=this;return t.map(function(t){return r.sanitize(t,e.schema(),n)})},t.prototype.getDispatcher=function(){return r.service(d.SERVICE_ID)},t}();window.Store=f;var p=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.throttle=function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}},e.prototype.get=function(t,e){return this.doAjaxCall("GET",{url:this.buildUrl(t,e),dataType:"json"})},e.prototype.post=function(t,e){return this.doAjaxCall("POST",{url:this.buildUrl(t,e,!1),data:JSON.stringify(e),dataType:"json"})},e.prototype.put=function(t,e){return this.doAjaxCall("PUT",{url:this.buildUrl(t,e,!1),data:JSON.stringify(e),dataType:"json"})},e.prototype.delete=function(t,e){return this.doAjaxCall("DELETE",{url:this.buildUrl(t,e),dataType:"json"})},e.prototype.buildUrl=function(t,e,n){for(var r in void 0===n&&(n=!0),e)-1===t.indexOf("{"+r+"}")?!1!==n&&(-1!==t.indexOf("?")?t+="&":t+="?",t+=r+"="+e[r]):t=t.replace("{"+r+"}",e[r]);return t},e.prototype.doAjaxCall=function(t,e){var n=window.jQuery.fn.jquery.split("."),r=n[0],o=n[1];return 1==r&&o<9?(e.type=t,jQuery.ajax(e)):(e.method=t,jQuery.ajax(e))},e.SERVICE_ID="beef.service.api",e}(s);window.ApiService=p;var d=function(t){function e(){t.apply(this,arguments),this.maxIterations=10,this.callbacks=[]}return n(e,t),e.prototype.register=function(t,e){var n=this.callbacks.length;return this.callbacks.push(new u(t,e,n)),n},e.prototype.dispatch=function(t,e){for(var n=new c(t,e),r=[],o=0,i=0;o<this.maxIterations&&r.length<this.callbacks.length;){i>=this.callbacks.length&&(i=0,o++);var a=this.callbacks[i];r.filter(function(t){return-1!==a.dependencies.indexOf(t)}).length===a.dependencies.length&&(a.func(n),r.push(a.dispatchId),i++)}o>=this.maxIterations&&console.warn("Hit max dispatcher iterations, check dependencies of callbacks")},e.SERVICE_ID="beef.service.dispatcher",e}(s);window.Dispatcher=d;var h=function(){function t(){}return t.prototype.onRouteFinished=function(){},t.prototype.routes=function(t){return this.routingConfig=new l(t),this},t.prototype.route=function(t,e){if(this.routingConfig.isRoute(t)||(t="/"),this.routingConfig.isRoute(t)){var n=this.routingConfig.callRoute(t,e);return this.activeRoute=t,this.onRouteFinished(),n}return null},t.prototype.doRouting=function(t){void 0===t&&(t=null);var e="";for(var n in this.routingConfig.routes){e=n,(t=null!==t?t:window.location.hash).indexOf("?")>=0&&(t=t.substring(0,t.indexOf("?")));var r=n.match(/\{[a-z\_\-\+]+\}/gi),o={};if(null!==r){var i=n.split("/"),a=t.split("/");if((a=a.splice(1,a.length-1)).length!==i.length)continue;var s=0,u=!1;if(a.forEach(function(t){i[s].match(/\{[a-z\_\-\+]+\}/gi)||t!==i[s]&&(u=!0),s++}),u)continue;e="",i.forEach(function(t,n){n>0&&(e+="/"),e+=a[n],n>0&&(o[t.replace(/[\{\}]/gi,"")]=a[n])})}e=e.replace("+","\\+");var c=new RegExp("^#/"+e+"$","gi");if(null!==t.match(c))return this.activeRoute===n&&o===this.routeData?this.lastResponse:(this.routeData=o,this.activeRoute=n,this.lastResponse=this.route(n,o))}return this.lastResponse=this.route("/",{})},t.SERVICE_ID="beef.service.routing",t}();window.RoutingService=h,r.setup(function(){r.service(p.SERVICE_ID,new p),r.service(d.SERVICE_ID,new d),r.service(h.SERVICE_ID,new h)})}]);function ResponsiveHeader(){this.init=function(){jQuery("#ch-header_mobile-nav_action").click(function(e){jQuery("body").toggleClass("ch_mobile-nav_enabled");jQuery(this).toggleClass("highlighted");jQuery("#ch-header_product-user-nav_container").toggleClass("show");e.preventDefault()});jQuery("#ch-header_mobile-search_action").click(function(e){jQuery("#ch-header_secondary-nav_wrapper").slideToggle();jQuery(this).toggleClass("highlighted");e.preventDefault()})}}var CourseHeroUtils=new function(){var IMAGE_MISSING_THUMB_PATH="/img/reviewer_nothumb.gif";return{imageErrorBackup:function(me,url){if(typeof jQuery==="undefined"||url===""){return false}var tries=jQuery.data(me,"tries");if(typeof tries==="undefined"){tries=0}tries++;jQuery.data(me,"tries",tries);if(tries<2){me.src=url}else{me.src=IMAGE_MISSING_THUMB_PATH}},truncate:function(){return function(text,length,end){if(typeof text=="undefined"){return""}if(isNaN(length))length=10;if(end===undefined)end="...";if(text.length<=length||text.length-end.length<=length){return text}else{return String(text).substring(0,length-end.length)+end}}},boldWord:function(source,word){var regex=new RegExp("("+word+")","gi");return source.replace(regex,"<strong>$1</strong>")},formatNumber:function(number){return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}};jQuery.ajax({type:"GET",url:"/ajax/tracker_pageview.php",data:{url:document.location.href}});(function($){var CLOSE_EVENT="Close",BEFORE_CLOSE_EVENT="BeforeClose",AFTER_CLOSE_EVENT="AfterClose",BEFORE_APPEND_EVENT="BeforeAppend",MARKUP_PARSE_EVENT="MarkupParse",OPEN_EVENT="Open",CHANGE_EVENT="Change",NS="mfp",EVENT_NS="."+NS,READY_CLASS="mfp-ready",REMOVING_CLASS="mfp-removing",PREVENT_CLOSE_CLASS="mfp-prevent-close";var mfp,MagnificPopup=function(){},_isJQ=!!window.jQuery,_prevStatus,_window=$(window),_body,_document,_prevContentType,_wrapClasses,_currPopupType;var _mfpOn=function(name,f){mfp.ev.on(NS+name+EVENT_NS,f)},_getEl=function(className,appendTo,html,raw){var el=document.createElement("div");el.className="mfp-"+className;if(html){el.innerHTML=html}if(!raw){el=$(el);if(appendTo){el.appendTo(appendTo)}}else if(appendTo){appendTo.appendChild(el)}return el},_mfpTrigger=function(e,data){mfp.ev.triggerHandler(NS+e,data);if(mfp.st.callbacks){e=e.charAt(0).toLowerCase()+e.slice(1);if(mfp.st.callbacks[e]){mfp.st.callbacks[e].apply(mfp,$.isArray(data)?data:[data])}}},_getCloseBtn=function(type){if(type!==_currPopupType||!mfp.currTemplate.closeBtn){mfp.currTemplate.closeBtn=$(mfp.st.closeMarkup.replace("%title%",mfp.st.tClose));_currPopupType=type}return mfp.currTemplate.closeBtn},_checkInstance=function(){if(!$.magnificPopup.instance){mfp=new MagnificPopup;mfp.init();$.magnificPopup.instance=mfp}},supportsTransitions=function(){var s=document.createElement("p").style,v=["ms","O","Moz","Webkit"];if(s["transition"]!==undefined){return true}while(v.length){if(v.pop()+"Transition"in s){return true}}return false};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var appVersion=navigator.appVersion;mfp.isIE7=appVersion.indexOf("MSIE 7.")!==-1;mfp.isIE8=appVersion.indexOf("MSIE 8.")!==-1;mfp.isLowIE=mfp.isIE7||mfp.isIE8;mfp.isAndroid=/android/gi.test(appVersion);mfp.isIOS=/iphone|ipad|ipod/gi.test(appVersion);mfp.supportsTransition=supportsTransitions();mfp.probablyMobile=mfp.isAndroid||mfp.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);_document=$(document);mfp.popupsCache={}},open:function(data){if(!_body){_body=$(document.body)}var i;if(data.isObj===false){mfp.items=data.items.toArray();mfp.index=0;var items=data.items,item;for(i=0;i<items.length;i++){item=items[i];if(item.parsed){item=item.el[0]}if(item===data.el[0]){mfp.index=i;break}}}else{mfp.items=$.isArray(data.items)?data.items:[data.items];mfp.index=data.index||0}if(mfp.isOpen){mfp.updateItemHTML();return}mfp.types=[];_wrapClasses="";if(data.mainEl&&data.mainEl.length){mfp.ev=data.mainEl.eq(0)}else{mfp.ev=_document}if(data.key){if(!mfp.popupsCache[data.key]){mfp.popupsCache[data.key]={}}mfp.currTemplate=mfp.popupsCache[data.key]}else{mfp.currTemplate={}}mfp.st=$.extend(true,{},$.magnificPopup.defaults,data);mfp.fixedContentPos=mfp.st.fixedContentPos==="auto"?!mfp.probablyMobile:mfp.st.fixedContentPos;if(mfp.st.modal){mfp.st.closeOnContentClick=false;mfp.st.closeOnBgClick=false;mfp.st.showCloseBtn=false;mfp.st.enableEscapeKey=false}if(!mfp.bgOverlay){mfp.bgOverlay=_getEl("bg").on("click"+EVENT_NS,function(){mfp.close()});mfp.wrap=_getEl("wrap").attr("tabindex",-1).on("click"+EVENT_NS,function(e){if(mfp._checkIfClose(e.target)){mfp.close()}});mfp.container=_getEl("container",mfp.wrap)}mfp.contentContainer=_getEl("content");if(mfp.st.preloader){mfp.preloader=_getEl("preloader",mfp.container,mfp.st.tLoading)}var modules=$.magnificPopup.modules;for(i=0;i<modules.length;i++){var n=modules[i];n=n.charAt(0).toUpperCase()+n.slice(1);mfp["init"+n].call(mfp)}_mfpTrigger("BeforeOpen");if(mfp.st.showCloseBtn){if(!mfp.st.closeBtnInside){mfp.wrap.append(_getCloseBtn())}else{_mfpOn(MARKUP_PARSE_EVENT,function(e,template,values,item){values.close_replaceWith=_getCloseBtn(item.type)});_wrapClasses+=" mfp-close-btn-in"}}if(mfp.st.alignTop){_wrapClasses+=" mfp-align-top"}if(mfp.fixedContentPos){mfp.wrap.css({overflow:mfp.st.overflowY,overflowX:"hidden",overflowY:mfp.st.overflowY})}else{mfp.wrap.css({top:_window.scrollTop(),position:"absolute"})}if(mfp.st.fixedBgPos===false||mfp.st.fixedBgPos==="auto"&&!mfp.fixedContentPos){mfp.bgOverlay.css({height:_document.height(),position:"absolute"})}if(mfp.st.enableEscapeKey){_document.on("keyup"+EVENT_NS,function(e){if(e.keyCode===27){mfp.close()}})}_window.on("resize"+EVENT_NS,function(){mfp.updateSize()});if(!mfp.st.closeOnContentClick){_wrapClasses+=" mfp-auto-cursor"}if(_wrapClasses)mfp.wrap.addClass(_wrapClasses);var windowHeight=mfp.wH=_window.height();var windowStyles={};if(mfp.fixedContentPos){if(mfp._hasScrollBar(windowHeight)){var s=mfp._getScrollbarSize();if(s){windowStyles.marginRight=s}}}if(mfp.fixedContentPos){if(!mfp.isIE7){windowStyles.overflow="hidden"}else{$("body, html").css("overflow","hidden")}}var classesToadd=mfp.st.mainClass;if(mfp.isIE7){classesToadd+=" mfp-ie7"}if(classesToadd){mfp._addClassToMFP(classesToadd)}mfp.updateItemHTML();_mfpTrigger("BuildControls");$("html").css(windowStyles);mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo||_body);mfp._lastFocusedEl=document.activeElement;setTimeout(function(){if(mfp.content){mfp._addClassToMFP(READY_CLASS);mfp._setFocus()}else{mfp.bgOverlay.addClass(READY_CLASS)}_document.on("focusin"+EVENT_NS,mfp._onFocusIn)},16);mfp.isOpen=true;mfp.updateSize(windowHeight);_mfpTrigger(OPEN_EVENT);return data},close:function(){if(!mfp.isOpen)return;_mfpTrigger(BEFORE_CLOSE_EVENT);mfp.isOpen=false;if(mfp.st.removalDelay&&!mfp.isLowIE&&mfp.supportsTransition){mfp._addClassToMFP(REMOVING_CLASS);setTimeout(function(){mfp._close()},mfp.st.removalDelay)}else{mfp._close()}},_close:function(){_mfpTrigger(CLOSE_EVENT);var classesToRemove=REMOVING_CLASS+" "+READY_CLASS+" ";mfp.bgOverlay.detach();mfp.wrap.detach();mfp.container.empty();if(mfp.st.mainClass){classesToRemove+=mfp.st.mainClass+" "}mfp._removeClassFromMFP(classesToRemove);if(mfp.fixedContentPos){var windowStyles={marginRight:""};if(mfp.isIE7){$("body, html").css("overflow","")}else{windowStyles.overflow=""}$("html").css(windowStyles)}_document.off("keyup"+EVENT_NS+" focusin"+EVENT_NS);mfp.ev.off(EVENT_NS);mfp.wrap.attr("class","mfp-wrap").removeAttr("style");mfp.bgOverlay.attr("class","mfp-bg");mfp.container.attr("class","mfp-container");if(mfp.st.showCloseBtn&&(!mfp.st.closeBtnInside||mfp.currTemplate[mfp.currItem.type]===true)){if(mfp.currTemplate.closeBtn)mfp.currTemplate.closeBtn.detach()}if(mfp._lastFocusedEl){$(mfp._lastFocusedEl).focus()}mfp.currItem=null;mfp.content=null;mfp.currTemplate=null;mfp.prevHeight=0;_mfpTrigger(AFTER_CLOSE_EVENT)},updateSize:function(winHeight){if(mfp.isIOS){var zoomLevel=document.documentElement.clientWidth/window.innerWidth;var height=window.innerHeight*zoomLevel;mfp.wrap.css("height",height);mfp.wH=height}else{mfp.wH=winHeight||_window.height()}if(!mfp.fixedContentPos){mfp.wrap.css("height",mfp.wH)}_mfpTrigger("Resize")},updateItemHTML:function(){var item=mfp.items[mfp.index];mfp.contentContainer.detach();if(mfp.content)mfp.content.detach();if(!item.parsed){item=mfp.parseEl(mfp.index)}var type=item.type;_mfpTrigger("BeforeChange",[mfp.currItem?mfp.currItem.type:"",type]);mfp.currItem=item;if(!mfp.currTemplate[type]){var markup=mfp.st[type]?mfp.st[type].markup:false;_mfpTrigger("FirstMarkupParse",markup);if(markup){mfp.currTemplate[type]=$(markup)}else{mfp.currTemplate[type]=true}}if(_prevContentType&&_prevContentType!==item.type){mfp.container.removeClass("mfp-"+_prevContentType+"-holder")}var newContent=mfp["get"+type.charAt(0).toUpperCase()+type.slice(1)](item,mfp.currTemplate[type]);mfp.appendContent(newContent,type);item.preloaded=true;_mfpTrigger(CHANGE_EVENT,item);_prevContentType=item.type;mfp.container.prepend(mfp.contentContainer);_mfpTrigger("AfterChange")},appendContent:function(newContent,type){mfp.content=newContent;if(newContent){if(mfp.st.showCloseBtn&&mfp.st.closeBtnInside&&mfp.currTemplate[type]===true){if(!mfp.content.find(".mfp-close").length){mfp.content.append(_getCloseBtn())}}else{mfp.content=newContent}}else{mfp.content=""}_mfpTrigger(BEFORE_APPEND_EVENT);mfp.container.addClass("mfp-"+type+"-holder");mfp.contentContainer.append(mfp.content)},parseEl:function(index){var item=mfp.items[index],type;if(item.tagName){item={el:$(item)}}else{type=item.type;item={data:item,src:item.src}}if(item.el){var types=mfp.types;for(var i=0;i<types.length;i++){if(item.el.hasClass("mfp-"+types[i])){type=types[i];break}}item.src=item.el.attr("data-mfp-src");if(!item.src){item.src=item.el.attr("href")}}item.type=type||mfp.st.type||"inline";item.index=index;item.parsed=true;mfp.items[index]=item;_mfpTrigger("ElementParse",item);return mfp.items[index]},addGroup:function(el,options){var eHandler=function(e){e.mfpEl=this;mfp._openClick(e,el,options)};if(!options){options={}}var eName="click.magnificPopup";options.mainEl=el;if(options.items){options.isObj=true;el.off(eName).on(eName,eHandler)}else{options.isObj=false;if(options.delegate){el.off(eName).on(eName,options.delegate,eHandler)}else{options.items=el;el.off(eName).on(eName,eHandler)}}},_openClick:function(e,el,options){var midClick=options.midClick!==undefined?options.midClick:$.magnificPopup.defaults.midClick;if(!midClick&&(e.which===2||e.ctrlKey||e.metaKey)){return}var disableOn=options.disableOn!==undefined?options.disableOn:$.magnificPopup.defaults.disableOn;if(disableOn){if($.isFunction(disableOn)){if(!disableOn.call(mfp)){return true}}else{if(_window.width()<disableOn){return true}}}if(e.type){e.preventDefault();if(mfp.isOpen){e.stopPropagation()}}options.el=$(e.mfpEl);if(options.delegate){options.items=el.find(options.delegate)}mfp.open(options)},updateStatus:function(status,text){if(mfp.preloader){if(_prevStatus!==status){mfp.container.removeClass("mfp-s-"+_prevStatus)}if(!text&&status==="loading"){text=mfp.st.tLoading}var data={status:status,text:text};_mfpTrigger("UpdateStatus",data);status=data.status;text=data.text;mfp.preloader.html(text);mfp.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()});mfp.container.addClass("mfp-s-"+status);_prevStatus=status}},_checkIfClose:function(target){if($(target).hasClass(PREVENT_CLOSE_CLASS)){return}var closeOnContent=mfp.st.closeOnContentClick;var closeOnBg=mfp.st.closeOnBgClick;if(closeOnContent&&closeOnBg){return true}else{if(!mfp.content||$(target).hasClass("mfp-close")||mfp.preloader&&target===mfp.preloader[0]){return true}if(target!==mfp.content[0]&&!$.contains(mfp.content[0],target)){if(closeOnBg){if($.contains(document,target)){return true}}}else if(closeOnContent){return true}}return false},_addClassToMFP:function(cName){mfp.bgOverlay.addClass(cName);mfp.wrap.addClass(cName)},_removeClassFromMFP:function(cName){this.bgOverlay.removeClass(cName);mfp.wrap.removeClass(cName)},_hasScrollBar:function(winHeight){return(mfp.isIE7?_document.height():document.body.scrollHeight)>(winHeight||_window.height())},_setFocus:function(){(mfp.st.focus?mfp.content.find(mfp.st.focus).eq(0):mfp.wrap).focus()},_onFocusIn:function(e){if(e.target!==mfp.wrap[0]&&!$.contains(mfp.wrap[0],e.target)){mfp._setFocus();return false}},_parseMarkup:function(template,values,item){var arr;if(item.data){values=$.extend(item.data,values)}_mfpTrigger(MARKUP_PARSE_EVENT,[template,values,item]);$.each(values,function(key,value){if(value===undefined||value===false){return true}arr=key.split("_");if(arr.length>1){var el=template.find(EVENT_NS+"-"+arr[0]);if(el.length>0){var attr=arr[1];if(attr==="replaceWith"){if(el[0]!==value[0]){el.replaceWith(value)}}else if(attr==="img"){if(el.is("img")){el.attr("src",value)}else{el.replaceWith('<img src="'+value+'" class="'+el.attr("class")+'" />')}}else{el.attr(arr[1],value)}}}else{template.find(EVENT_NS+"-"+key).html(value)}})},_getScrollbarSize:function(){if(mfp.scrollbarSize===undefined){var scrollDiv=document.createElement("div");scrollDiv.id="mfp-sbm";scrollDiv.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(scrollDiv);mfp.scrollbarSize=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv)}return mfp.scrollbarSize}};$.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(options,index){_checkInstance();if(!options){options={}}else{options=$.extend(true,{},options)}options.isObj=true;options.index=index||0;return this.instance.open(options)},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close()},registerModule:function(name,module){if(module.options){$.magnificPopup.defaults[name]=module.options}$.extend(this.proto,module.proto);this.modules.push(name)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};$.fn.magnificPopup=function(options){_checkInstance();var jqEl=$(this);if(typeof options==="string"){if(options==="open"){var items,itemOpts=_isJQ?jqEl.data("magnificPopup"):jqEl[0].magnificPopup,index=parseInt(arguments[1],10)||0;if(itemOpts.items){items=itemOpts.items[index]}else{items=jqEl;if(itemOpts.delegate){items=items.find(itemOpts.delegate)}items=items.eq(index)}mfp._openClick({mfpEl:items},jqEl,itemOpts)}else{if(mfp.isOpen)mfp[options].apply(mfp,Array.prototype.slice.call(arguments,1))}}else{options=$.extend(true,{},options);if(_isJQ){jqEl.data("magnificPopup",options)}else{jqEl[0].magnificPopup=options}mfp.addGroup(jqEl,options)}return jqEl};var INLINE_NS="inline",_hiddenClass,_inlinePlaceholder,_lastInlineElement,_putInlineElementsBack=function(){if(_lastInlineElement){_inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();_lastInlineElement=null}};$.magnificPopup.registerModule(INLINE_NS,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){mfp.types.push(INLINE_NS);_mfpOn(CLOSE_EVENT+"."+INLINE_NS,function(){_putInlineElementsBack()})},getInline:function(item,template){_putInlineElementsBack();if(item.src){var inlineSt=mfp.st.inline,el=$(item.src);if(el.length){var parent=el[0].parentNode;if(parent&&parent.tagName){if(!_inlinePlaceholder){_hiddenClass=inlineSt.hiddenClass;_inlinePlaceholder=_getEl(_hiddenClass);_hiddenClass="mfp-"+_hiddenClass}_lastInlineElement=el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass)}mfp.updateStatus("ready")}else{mfp.updateStatus("error",inlineSt.tNotFound);el=$("<div>")}item.inlineElement=el;return el}mfp.updateStatus("ready");mfp._parseMarkup(template,{},item);return template}}});var AJAX_NS="ajax",_ajaxCur,_removeAjaxCursor=function(){if(_ajaxCur){_body.removeClass(_ajaxCur)}},_destroyAjaxRequest=function(){_removeAjaxCursor();if(mfp.req){mfp.req.abort()}};$.magnificPopup.registerModule(AJAX_NS,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){mfp.types.push(AJAX_NS);_ajaxCur=mfp.st.ajax.cursor;_mfpOn(CLOSE_EVENT+"."+AJAX_NS,_destroyAjaxRequest);_mfpOn("BeforeChange."+AJAX_NS,_destroyAjaxRequest)},getAjax:function(item){if(_ajaxCur)_body.addClass(_ajaxCur);mfp.updateStatus("loading");var opts=$.extend({url:item.src,success:function(data,textStatus,jqXHR){var temp={data:data,xhr:jqXHR};_mfpTrigger("ParseAjax",temp);mfp.appendContent($(temp.data),AJAX_NS);item.finished=true;_removeAjaxCursor();mfp._setFocus();setTimeout(function(){mfp.wrap.addClass(READY_CLASS)},16);mfp.updateStatus("ready");_mfpTrigger("AjaxContentAdded")},error:function(){_removeAjaxCursor();item.finished=item.loadError=true;mfp.updateStatus("error",mfp.st.ajax.tError.replace("%url%",item.src))}},mfp.st.ajax.settings);mfp.req=$.ajax(opts);return""}}});var _imgInterval,_getTitle=function(item){if(item.data&&item.data.title!==undefined)return item.data.title;var src=mfp.st.image.titleSrc;if(src){if($.isFunction(src)){return src.call(mfp,item)}else if(item.el){return item.el.attr(src)||""}}return""};$.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure">'+'<div class="mfp-close"></div>'+"<figure>"+'<div class="mfp-img"></div>'+"<figcaption>"+'<div class="mfp-bottom-bar">'+'<div class="mfp-title"></div>'+'<div class="mfp-counter"></div>'+"</div>"+"</figcaption>"+"</figure>"+"</div>",cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var imgSt=mfp.st.image,ns=".image";mfp.types.push("image");_mfpOn(OPEN_EVENT+ns,function(){if(mfp.currItem.type==="image"&&imgSt.cursor){_body.addClass(imgSt.cursor)}});_mfpOn(CLOSE_EVENT+ns,function(){if(imgSt.cursor){_body.removeClass(imgSt.cursor)}_window.off("resize"+EVENT_NS)});_mfpOn("Resize"+ns,mfp.resizeImage);if(mfp.isLowIE){_mfpOn("AfterChange",mfp.resizeImage)}},resizeImage:function(){var item=mfp.currItem;if(!item||!item.img)return;if(mfp.st.image.verticalFit){var decr=0;if(mfp.isLowIE){decr=parseInt(item.img.css("padding-top"),10)+parseInt(item.img.css("padding-bottom"),10)}item.img.css("max-height",mfp.wH-decr)}},_onImageHasSize:function(item){if(item.img){item.hasSize=true;if(_imgInterval){clearInterval(_imgInterval)}item.isCheckingImgSize=false;_mfpTrigger("ImageHasSize",item);if(item.imgHidden){if(mfp.content)mfp.content.removeClass("mfp-loading");item.imgHidden=false}}},findImageSize:function(item){var counter=0,img=item.img[0],mfpSetInterval=function(delay){if(_imgInterval){clearInterval(_imgInterval)}_imgInterval=setInterval(function(){if(img.naturalWidth>0){mfp._onImageHasSize(item);return}if(counter>200){clearInterval(_imgInterval)}counter++;if(counter===3){mfpSetInterval(10)}else if(counter===40){mfpSetInterval(50)}else if(counter===100){mfpSetInterval(500)}},delay)};mfpSetInterval(1)},getImage:function(item,template){var guard=0,onLoadComplete=function(){if(item){if(item.img[0].complete){item.img.off(".mfploader");if(item===mfp.currItem){mfp._onImageHasSize(item);mfp.updateStatus("ready")}item.hasSize=true;item.loaded=true;_mfpTrigger("ImageLoadComplete")}else{guard++;if(guard<200){setTimeout(onLoadComplete,100)}else{onLoadError()}}}},onLoadError=function(){if(item){item.img.off(".mfploader");if(item===mfp.currItem){mfp._onImageHasSize(item);mfp.updateStatus("error",imgSt.tError.replace("%url%",item.src))}item.hasSize=true;item.loaded=true;item.loadError=true}},imgSt=mfp.st.image;var el=template.find(".mfp-img");if(el.length){var img=document.createElement("img");img.className="mfp-img";item.img=$(img).on("load.mfploader",onLoadComplete).on("error.mfploader",onLoadError);img.src=item.src;if(el.is("img")){item.img=item.img.clone()}img=item.img[0];if(img.naturalWidth>0){item.hasSize=true}else if(!img.width){item.hasSize=false}}mfp._parseMarkup(template,{title:_getTitle(item),img_replaceWith:item.img},item);mfp.resizeImage();if(item.hasSize){if(_imgInterval)clearInterval(_imgInterval);if(item.loadError){template.addClass("mfp-loading");mfp.updateStatus("error",imgSt.tError.replace("%url%",item.src))}else{template.removeClass("mfp-loading");mfp.updateStatus("ready")}return template}mfp.updateStatus("loading");item.loading=true;if(!item.hasSize){item.imgHidden=true;template.addClass("mfp-loading");mfp.findImageSize(item)}return template}}});var hasMozTransform,getHasMozTransform=function(){if(hasMozTransform===undefined){hasMozTransform=document.createElement("p").style.MozTransform!==undefined}return hasMozTransform};$.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(element){return element.is("img")?element:element.find("img")}},proto:{initZoom:function(){var zoomSt=mfp.st.zoom,ns=".zoom",image;if(!zoomSt.enabled||!mfp.supportsTransition){return}var duration=zoomSt.duration,getElToAnimate=function(image){var newImg=image.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),transition="all "+zoomSt.duration/1e3+"s "+zoomSt.easing,cssObj={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},t="transition";cssObj["-webkit-"+t]=cssObj["-moz-"+t]=cssObj["-o-"+t]=cssObj[t]=transition;newImg.css(cssObj);return newImg},showMainContent=function(){mfp.content.css("visibility","visible")},openTimeout,animatedImg;_mfpOn("BuildControls"+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.content.css("visibility","hidden");image=mfp._getItemToZoom();if(!image){showMainContent();return}animatedImg=getElToAnimate(image);animatedImg.css(mfp._getOffset());mfp.wrap.append(animatedImg);openTimeout=setTimeout(function(){animatedImg.css(mfp._getOffset(true));openTimeout=setTimeout(function(){showMainContent();setTimeout(function(){animatedImg.remove();image=animatedImg=null;_mfpTrigger("ZoomAnimationEnded")},16)},duration)},16)}});_mfpOn(BEFORE_CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.st.removalDelay=duration;if(!image){image=mfp._getItemToZoom();if(!image){return}animatedImg=getElToAnimate(image)}animatedImg.css(mfp._getOffset(true));mfp.wrap.append(animatedImg);mfp.content.css("visibility","hidden");setTimeout(function(){animatedImg.css(mfp._getOffset())},16)}});_mfpOn(CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){showMainContent();if(animatedImg){animatedImg.remove()}image=null}})},_allowZoom:function(){return mfp.currItem.type==="image"},_getItemToZoom:function(){if(mfp.currItem.hasSize){return mfp.currItem.img}else{return false}},_getOffset:function(isLarge){var el;if(isLarge){el=mfp.currItem.img}else{el=mfp.st.zoom.opener(mfp.currItem.el||mfp.currItem)}var offset=el.offset();var paddingTop=parseInt(el.css("padding-top"),10);var paddingBottom=parseInt(el.css("padding-bottom"),10);offset.top-=$(window).scrollTop()-paddingTop;var obj={width:el.width(),height:(_isJQ?el.innerHeight():el[0].offsetHeight)-paddingBottom-paddingTop};if(getHasMozTransform()){obj["-moz-transform"]=obj["transform"]="translate("+offset.left+"px,"+offset.top+"px)"}else{obj.left=offset.left;obj.top=offset.top}return obj}}});var IFRAME_NS="iframe",_emptyPage="//about:blank",_fixIframeBugs=function(isShowing){if(mfp.currTemplate[IFRAME_NS]){var el=mfp.currTemplate[IFRAME_NS].find("iframe");if(el.length){if(!isShowing){el[0].src=_emptyPage}if(mfp.isIE8){el.css("display",isShowing?"block":"none")}}}};$.magnificPopup.registerModule(IFRAME_NS,{options:{markup:'<div class="mfp-iframe-scaler">'+'<div class="mfp-close"></div>'+'<iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe>'+"</div>",srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){mfp.types.push(IFRAME_NS);_mfpOn("BeforeChange",function(e,prevType,newType){if(prevType!==newType){if(prevType===IFRAME_NS){_fixIframeBugs()}else if(newType===IFRAME_NS){_fixIframeBugs(true)}}});_mfpOn(CLOSE_EVENT+"."+IFRAME_NS,function(){_fixIframeBugs()})},getIframe:function(item,template){var embedSrc=item.src;var iframeSt=mfp.st.iframe;$.each(iframeSt.patterns,function(){if(embedSrc.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){embedSrc=embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length,embedSrc.length)}else{embedSrc=this.id.call(this,embedSrc)}}embedSrc=this.src.replace("%id%",embedSrc);return false}});var dataObj={};if(iframeSt.srcAction){dataObj[iframeSt.srcAction]=embedSrc}mfp._parseMarkup(template,dataObj,item);mfp.updateStatus("ready");return template}}});var _getLoopedId=function(index){var numSlides=mfp.items.length;if(index>numSlides-1){return index-numSlides}else if(index<0){return numSlides+index}return index},_replaceCurrTotal=function(text,curr,total){return text.replace(/%curr%/gi,curr+1).replace(/%total%/gi,total)};$.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var gSt=mfp.st.gallery,ns=".mfp-gallery",supportsFastClick=Boolean($.fn.mfpFastClick);mfp.direction=true;if(!gSt||!gSt.enabled)return false;_wrapClasses+=" mfp-gallery";_mfpOn(OPEN_EVENT+ns,function(){if(gSt.navigateByImgClick){mfp.wrap.on("click"+ns,".mfp-img",function(){if(mfp.items.length>1){mfp.next();return false}})}_document.on("keydown"+ns,function(e){if(e.keyCode===37){mfp.prev()}else if(e.keyCode===39){mfp.next()}})});_mfpOn("UpdateStatus"+ns,function(e,data){if(data.text){data.text=_replaceCurrTotal(data.text,mfp.currItem.index,mfp.items.length)}});_mfpOn(MARKUP_PARSE_EVENT+ns,function(e,element,values,item){var l=mfp.items.length;values.counter=l>1?_replaceCurrTotal(gSt.tCounter,item.index,l):""});_mfpOn("BuildControls"+ns,function(){if(mfp.items.length>1&&gSt.arrows&&!mfp.arrowLeft){var markup=gSt.arrowMarkup,arrowLeft=mfp.arrowLeft=$(markup.replace(/%title%/gi,gSt.tPrev).replace(/%dir%/gi,"left")).addClass(PREVENT_CLOSE_CLASS),arrowRight=mfp.arrowRight=$(markup.replace(/%title%/gi,gSt.tNext).replace(/%dir%/gi,"right")).addClass(PREVENT_CLOSE_CLASS);var eName=supportsFastClick?"mfpFastClick":"click";arrowLeft[eName](function(){mfp.prev()});arrowRight[eName](function(){mfp.next()});if(mfp.isIE7){_getEl("b",arrowLeft[0],false,true);_getEl("a",arrowLeft[0],false,true);_getEl("b",arrowRight[0],false,true);_getEl("a",arrowRight[0],false,true)}mfp.container.append(arrowLeft.add(arrowRight))}});_mfpOn(CHANGE_EVENT+ns,function(){if(mfp._preloadTimeout)clearTimeout(mfp._preloadTimeout);mfp._preloadTimeout=setTimeout(function(){mfp.preloadNearbyImages();mfp._preloadTimeout=null},16)});_mfpOn(CLOSE_EVENT+ns,function(){_document.off(ns);mfp.wrap.off("click"+ns);if(mfp.arrowLeft&&supportsFastClick){mfp.arrowLeft.add(mfp.arrowRight).destroyMfpFastClick()}mfp.arrowRight=mfp.arrowLeft=null})},next:function(){mfp.direction=true;mfp.index=_getLoopedId(mfp.index+1);mfp.updateItemHTML()},prev:function(){mfp.direction=false;mfp.index=_getLoopedId(mfp.index-1);mfp.updateItemHTML()},goTo:function(newIndex){mfp.direction=newIndex>=mfp.index;mfp.index=newIndex;mfp.updateItemHTML()},preloadNearbyImages:function(){var p=mfp.st.gallery.preload,preloadBefore=Math.min(p[0],mfp.items.length),preloadAfter=Math.min(p[1],mfp.items.length),i;for(i=1;i<=(mfp.direction?preloadAfter:preloadBefore);i++){mfp._preloadItem(mfp.index+i)}for(i=1;i<=(mfp.direction?preloadBefore:preloadAfter);i++){mfp._preloadItem(mfp.index-i)}},_preloadItem:function(index){index=_getLoopedId(index);if(mfp.items[index].preloaded){return}var item=mfp.items[index];if(!item.parsed){item=mfp.parseEl(index)}_mfpTrigger("LazyLoad",item);if(item.type==="image"){item.img=$('<img class="mfp-img" />').on("load.mfploader",function(){item.hasSize=true}).on("error.mfploader",function(){item.hasSize=true;item.loadError=true;_mfpTrigger("LazyLoadError",item)}).attr("src",item.src)}item.preloaded=true}}});var RETINA_NS="retina";$.magnificPopup.registerModule(RETINA_NS,{options:{replaceSrc:function(item){return item.src.replace(/\.\w+$/,function(m){return"@2x"+m})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var st=mfp.st.retina,ratio=st.ratio;ratio=!isNaN(ratio)?ratio:ratio();if(ratio>1){_mfpOn("ImageHasSize"+"."+RETINA_NS,function(e,item){item.img.css({"max-width":item.img[0].naturalWidth/ratio,width:"100%"})});_mfpOn("ElementParse"+"."+RETINA_NS,function(e,item){item.src=st.replaceSrc(item,ratio)})}}}}});(function(){var ghostClickDelay=1e3,supportsTouch="ontouchstart"in window,unbindTouchMove=function(){_window.off("touchmove"+ns+" touchend"+ns)},eName="mfpFastClick",ns="."+eName;$.fn.mfpFastClick=function(callback){return $(this).each(function(){var elem=$(this),lock;if(supportsTouch){var timeout,startX,startY,pointerMoved,point,numPointers;elem.on("touchstart"+ns,function(e){pointerMoved=false;numPointers=1;point=e.originalEvent?e.originalEvent.touches[0]:e.touches[0];startX=point.clientX;startY=point.clientY;_window.on("touchmove"+ns,function(e){point=e.originalEvent?e.originalEvent.touches:e.touches;numPointers=point.length;point=point[0];if(Math.abs(point.clientX-startX)>10||Math.abs(point.clientY-startY)>10){pointerMoved=true;unbindTouchMove()}}).on("touchend"+ns,function(e){unbindTouchMove();if(pointerMoved||numPointers>1){return}lock=true;e.preventDefault();clearTimeout(timeout);timeout=setTimeout(function(){lock=false},ghostClickDelay);callback()})})}elem.on("click"+ns,function(){if(!lock){callback()}})})};$.fn.destroyMfpFastClick=function(){$(this).off("touchstart"+ns+" click"+ns);if(supportsTouch)_window.off("touchmove"+ns+" touchend"+ns)}})();_checkInstance()})(window.jQuery||window.Zepto);if(typeof Object.create!=="function"){Object.create=function(obj){function F(){}F.prototype=obj;return new F}}(function($,window,document){var Carousel={init:function(options,el){var base=this;base.$elem=$(el);base.options=$.extend({},$.fn.owlCarousel.options,base.$elem.data(),options);base.userOptions=options;base.loadContent()},loadContent:function(){var base=this,url;function getData(data){var i,content="";if(typeof base.options.jsonSuccess==="function"){base.options.jsonSuccess.apply(this,[data])}else{for(i in data.owl){if(data.owl.hasOwnProperty(i)){content+=data.owl[i].item}}base.$elem.html(content)}base.logIn()}if(typeof base.options.beforeInit==="function"){base.options.beforeInit.apply(this,[base.$elem])}if(typeof base.options.jsonPath==="string"){url=base.options.jsonPath;$.getJSON(url,getData)}else{base.logIn()}},logIn:function(){var base=this;base.$elem.data("owl-originalStyles",base.$elem.attr("style")).data("owl-originalClasses",base.$elem.attr("class"));base.$elem.css({opacity:0});base.orignalItems=base.options.items;base.checkBrowser();base.wrapperWidth=0;base.checkVisible=null;base.setVars()},setVars:function(){var base=this;if(base.$elem.children().length===0){return false}base.baseClass();base.eventTypes();base.$userItems=base.$elem.children();base.itemsAmount=base.$userItems.length;base.wrapItems();base.$owlItems=base.$elem.find(".ch_carousel_item");base.$owlWrapper=base.$elem.find(".ch_carousel_wrapper");base.playDirection="next";base.prevItem=0;base.prevArr=[0];base.currentItem=0;base.customEvents();base.onStartup()},onStartup:function(){var base=this;base.updateItems();base.calculateAll();base.buildControls();base.updateControls();base.response();base.moveEvents();base.stopOnHover();base.owlStatus();if(base.options.transitionStyle!==false){base.transitionTypes(base.options.transitionStyle)}if(base.options.autoPlay===true){base.options.autoPlay=5e3}base.play();base.$elem.find(".ch_carousel_wrapper").css("display","block");if(!base.$elem.is(":visible")){base.watchVisibility()}else{base.$elem.css("opacity",1)}base.onstartup=false;base.eachMoveUpdate();if(typeof base.options.afterInit==="function"){base.options.afterInit.apply(this,[base.$elem])}},eachMoveUpdate:function(){var base=this;if(base.options.lazyLoad===true){base.lazyLoad()}if(base.options.autoHeight===true){base.autoHeight()}base.onVisibleItems();if(typeof base.options.afterAction==="function"){base.options.afterAction.apply(this,[base.$elem])}},updateVars:function(){var base=this;if(typeof base.options.beforeUpdate==="function"){base.options.beforeUpdate.apply(this,[base.$elem])}base.watchVisibility();base.updateItems();base.calculateAll();base.updatePosition();base.updateControls();base.eachMoveUpdate();if(typeof base.options.afterUpdate==="function"){base.options.afterUpdate.apply(this,[base.$elem])}},reload:function(){var base=this;window.setTimeout(function(){base.updateVars()},0)},watchVisibility:function(){var base=this;if(base.$elem.is(":visible")===false){base.$elem.css({opacity:0});window.clearInterval(base.autoPlayInterval);window.clearInterval(base.checkVisible)}else{return false}base.checkVisible=window.setInterval(function(){if(base.$elem.is(":visible")){base.reload();base.$elem.animate({opacity:1},200);window.clearInterval(base.checkVisible)}},500)},wrapItems:function(){var base=this;base.$userItems.wrapAll('<div class="ch_carousel_wrapper">').wrap('<div class="ch_carousel_item"></div>');base.$elem.find(".ch_carousel_wrapper").wrap('<div class="ch_carousel_wrapper-outer">');base.wrapperOuter=base.$elem.find(".ch_carousel_wrapper-outer");base.$elem.css("display","block")},baseClass:function(){var base=this,hasBaseClass=base.$elem.hasClass(base.options.baseClass),hasThemeClass=base.$elem.hasClass(base.options.theme);if(!hasBaseClass){base.$elem.addClass(base.options.baseClass)}if(!hasThemeClass){base.$elem.addClass(base.options.theme)}},updateItems:function(){var base=this,width,i;if(base.options.responsive===false){return false}if(base.options.singleItem===true){base.options.items=base.orignalItems=1;base.options.itemsCustom=false;base.options.itemsDesktop=false;base.options.itemsDesktopSmall=false;base.options.itemsTablet=false;base.options.itemsTabletSmall=false;base.options.itemsMobile=false;return false}width=$(base.options.responsiveBaseWidth).width();if(width>(base.options.itemsDesktop[0]||base.orignalItems)){base.options.items=base.orignalItems}if(base.options.itemsCustom!==false){base.options.itemsCustom.sort(function(a,b){return a[0]-b[0]});for(i=0;i<base.options.itemsCustom.length;i+=1){if(base.options.itemsCustom[i][0]<=width){base.options.items=base.options.itemsCustom[i][1]}}}else{if(width<=base.options.itemsDesktop[0]&&base.options.itemsDesktop!==false){base.options.items=base.options.itemsDesktop[1]}if(width<=base.options.itemsDesktopSmall[0]&&base.options.itemsDesktopSmall!==false){base.options.items=base.options.itemsDesktopSmall[1]}if(width<=base.options.itemsTablet[0]&&base.options.itemsTablet!==false){base.options.items=base.options.itemsTablet[1]}if(width<=base.options.itemsTabletSmall[0]&&base.options.itemsTabletSmall!==false){base.options.items=base.options.itemsTabletSmall[1]}if(width<=base.options.itemsMobile[0]&&base.options.itemsMobile!==false){base.options.items=base.options.itemsMobile[1]}}if(base.options.items>base.itemsAmount&&base.options.itemsScaleUp===true){base.options.items=base.itemsAmount}},response:function(){var base=this,smallDelay,lastWindowWidth;if(base.options.responsive!==true){return false}lastWindowWidth=$(window).width();base.resizer=function(){if($(window).width()!==lastWindowWidth){if(base.options.autoPlay!==false){window.clearInterval(base.autoPlayInterval)}window.clearTimeout(smallDelay);smallDelay=window.setTimeout(function(){lastWindowWidth=$(window).width();base.updateVars()},base.options.responsiveRefreshRate)}};$(window).resize(base.resizer)},updatePosition:function(){var base=this;base.jumpTo(base.currentItem);if(base.options.autoPlay!==false){base.checkAp()}},appendItemsSizes:function(){var base=this,roundPages=0,lastItem=base.itemsAmount-base.options.items;base.$owlItems.each(function(index){var $this=$(this);$this.css({width:base.itemWidth}).data("ch_carousel_item",Number(index));if(index%base.options.items===0||index===lastItem){if(!(index>lastItem)){roundPages+=1}}$this.data("owl-roundPages",roundPages)})},appendWrapperSizes:function(){var base=this,width=base.$owlItems.length*base.itemWidth;base.$owlWrapper.css({width:width*2,left:0});base.appendItemsSizes()},calculateAll:function(){var base=this;base.calculateWidth();base.appendWrapperSizes();base.loops();base.max()},calculateWidth:function(){var base=this;base.itemWidth=Math.round(base.$elem.width()/base.options.items)},max:function(){var base=this,maximum=(base.itemsAmount*base.itemWidth-base.options.items*base.itemWidth)*-1;if(base.options.items>base.itemsAmount){base.maximumItem=0;maximum=0;base.maximumPixels=0}else{base.maximumItem=base.itemsAmount-base.options.items;base.maximumPixels=maximum}return maximum},min:function(){return 0},loops:function(){var base=this,prev=0,elWidth=0,i,item,roundPageNum;base.positionsInArray=[0];base.pagesInArray=[];for(i=0;i<base.itemsAmount;i+=1){elWidth+=base.itemWidth;base.positionsInArray.push(-elWidth);if(base.options.scrollPerPage===true){item=$(base.$owlItems[i]);roundPageNum=item.data("owl-roundPages");if(roundPageNum!==prev){base.pagesInArray[prev]=base.positionsInArray[i];prev=roundPageNum}}}},buildControls:function(){var base=this;if(base.options.navigation===true||base.options.pagination===true){base.owlControls=$('<div class="ch_carousel_controls"/>').toggleClass("clickable",!base.browser.isTouch).appendTo(base.$elem)}if(base.options.pagination===true){base.buildPagination()}if(base.options.navigation===true){base.buildButtons()}},buildButtons:function(){var base=this,buttonsWrapper=$('<div class="ch_carousel_buttons"/>');base.owlControls.append(buttonsWrapper);base.buttonPrev=$("<div/>",{class:"ch_carousel_buttons-prev",html:base.options.navigationText[0]||""});base.buttonNext=$("<div/>",{class:"ch_carousel_buttons-next",html:base.options.navigationText[1]||""});buttonsWrapper.append(base.buttonPrev).append(base.buttonNext);buttonsWrapper.on("touchstart.owlControls mousedown.owlControls",'div[class^="ch_carousel"]',function(event){event.preventDefault()});buttonsWrapper.on("touchend.owlControls mouseup.owlControls",'div[class^="ch_carousel"]',function(event){event.preventDefault();if($(this).hasClass("ch_carousel_buttons-next")){base.next()}else{base.prev()}})},buildPagination:function(){var base=this;base.paginationWrapper=$('<div class="ch_carousel_pagination"/>');base.owlControls.append(base.paginationWrapper);base.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".ch_carousel_page",function(event){event.preventDefault();if(Number($(this).data("owl-page"))!==base.currentItem){base.goTo(Number($(this).data("owl-page")),true)}})},updatePagination:function(){var base=this,counter,lastPage,lastItem,i,paginationButton,paginationButtonInner;if(base.options.pagination===false){return false}base.paginationWrapper.html("");counter=0;lastPage=base.itemsAmount-base.itemsAmount%base.options.items;for(i=0;i<base.itemsAmount;i+=1){if(i%base.options.items===0){counter+=1;if(lastPage===i){lastItem=base.itemsAmount-base.options.items}paginationButton=$("<div/>",{class:"ch_carousel_page"});paginationButtonInner=$("<span></span>",{text:base.options.paginationNumbers===true?counter:"",class:base.options.paginationNumbers===true?"ch_carousel_numbers":""});paginationButton.append(paginationButtonInner);paginationButton.data("owl-page",lastPage===i?lastItem:i);paginationButton.data("owl-roundPages",counter);base.paginationWrapper.append(paginationButton)}}base.checkPagination()},checkPagination:function(){var base=this;if(base.options.pagination===false){return false}base.paginationWrapper.find(".ch_carousel_page").each(function(){if($(this).data("owl-roundPages")===$(base.$owlItems[base.currentItem]).data("owl-roundPages")){base.paginationWrapper.find(".ch_carousel_page").removeClass("active");$(this).addClass("active")}})},checkNavigation:function(){var base=this;if(base.options.navigation===false){return false}if(base.options.rewindNav===false){if(base.currentItem===0&&base.maximumItem===0){base.buttonPrev.addClass("disabled");base.buttonNext.addClass("disabled")}else if(base.currentItem===0&&base.maximumItem!==0){base.buttonPrev.addClass("disabled");base.buttonNext.removeClass("disabled")}else if(base.currentItem===base.maximumItem){base.buttonPrev.removeClass("disabled");base.buttonNext.addClass("disabled")}else if(base.currentItem!==0&&base.currentItem!==base.maximumItem){base.buttonPrev.removeClass("disabled");base.buttonNext.removeClass("disabled")}}},updateControls:function(){var base=this;base.updatePagination();base.checkNavigation();if(base.owlControls){if(base.options.items>=base.itemsAmount){base.owlControls.hide()}else{base.owlControls.show()}}},destroyControls:function(){var base=this;if(base.owlControls){base.owlControls.remove()}},next:function(speed){var base=this;if(base.isTransition){return false}base.currentItem+=base.options.scrollPerPage===true?base.options.items:1;if(base.currentItem>base.maximumItem+(base.options.scrollPerPage===true?base.options.items-1:0)){if(base.options.rewindNav===true){base.currentItem=0;speed="rewind"}else{base.currentItem=base.maximumItem;return false}}base.goTo(base.currentItem,speed)},prev:function(speed){var base=this;if(base.isTransition){return false}if(base.options.scrollPerPage===true&&base.currentItem>0&&base.currentItem<base.options.items){base.currentItem=0}else{base.currentItem-=base.options.scrollPerPage===true?base.options.items:1}if(base.currentItem<0){if(base.options.rewindNav===true){base.currentItem=base.maximumItem;speed="rewind"}else{base.currentItem=0;return false}}base.goTo(base.currentItem,speed)},goTo:function(position,speed,drag){var base=this,goToPixel;if(base.isTransition){return false}if(typeof base.options.beforeMove==="function"){base.options.beforeMove.apply(this,[base.$elem])}if(position>=base.maximumItem){position=base.maximumItem}else if(position<=0){position=0}base.currentItem=base.owl.currentItem=position;if(base.options.transitionStyle!==false&&drag!=="drag"&&base.options.items===1&&base.browser.support3d===true){base.swapSpeed(0);if(base.browser.support3d===true){base.transition3d(base.positionsInArray[position])}else{base.css2slide(base.positionsInArray[position],1)}base.afterGo();base.singleItemTransition();return false}goToPixel=base.positionsInArray[position];if(base.browser.support3d===true){base.isCss3Finish=false;if(speed===true){base.swapSpeed("paginationSpeed");window.setTimeout(function(){base.isCss3Finish=true},base.options.paginationSpeed)}else if(speed==="rewind"){base.swapSpeed(base.options.rewindSpeed);window.setTimeout(function(){base.isCss3Finish=true},base.options.rewindSpeed)}else{base.swapSpeed("slideSpeed");window.setTimeout(function(){base.isCss3Finish=true},base.options.slideSpeed)}base.transition3d(goToPixel)}else{if(speed===true){base.css2slide(goToPixel,base.options.paginationSpeed)}else if(speed==="rewind"){base.css2slide(goToPixel,base.options.rewindSpeed)}else{base.css2slide(goToPixel,base.options.slideSpeed)}}base.afterGo()},jumpTo:function(position){var base=this;if(typeof base.options.beforeMove==="function"){base.options.beforeMove.apply(this,[base.$elem])}if(position>=base.maximumItem||position===-1){position=base.maximumItem}else if(position<=0){position=0}base.swapSpeed(0);if(base.browser.support3d===true){base.transition3d(base.positionsInArray[position])}else{base.css2slide(base.positionsInArray[position],1)}base.currentItem=base.owl.currentItem=position;base.afterGo()},afterGo:function(){var base=this;base.prevArr.push(base.currentItem);base.prevItem=base.owl.prevItem=base.prevArr[base.prevArr.length-2];base.prevArr.shift(0);if(base.prevItem!==base.currentItem){base.checkPagination();base.checkNavigation();base.eachMoveUpdate();if(base.options.autoPlay!==false){base.checkAp()}}if(typeof base.options.afterMove==="function"&&base.prevItem!==base.currentItem){base.options.afterMove.apply(this,[base.$elem])}},stop:function(){var base=this;base.apStatus="stop";window.clearInterval(base.autoPlayInterval)},checkAp:function(){var base=this;if(base.apStatus!=="stop"){base.play()}},play:function(){var base=this;base.apStatus="play";if(base.options.autoPlay===false){return false}window.clearInterval(base.autoPlayInterval);base.autoPlayInterval=window.setInterval(function(){base.next(true)},base.options.autoPlay)},swapSpeed:function(action){var base=this;if(action==="slideSpeed"){base.$owlWrapper.css(base.addCssSpeed(base.options.slideSpeed))}else if(action==="paginationSpeed"){base.$owlWrapper.css(base.addCssSpeed(base.options.paginationSpeed))}else if(typeof action!=="string"){base.$owlWrapper.css(base.addCssSpeed(action))}},addCssSpeed:function(speed){return{"-webkit-transition":"all "+speed+"ms ease","-moz-transition":"all "+speed+"ms ease","-o-transition":"all "+speed+"ms ease",transition:"all "+speed+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(pixels){return{"-webkit-transform":"translate3d("+pixels+"px, 0px, 0px)","-moz-transform":"translate3d("+pixels+"px, 0px, 0px)","-o-transform":"translate3d("+pixels+"px, 0px, 0px)","-ms-transform":"translate3d("+pixels+"px, 0px, 0px)",transform:"translate3d("+pixels+"px, 0px,0px)"}},transition3d:function(value){var base=this;base.$owlWrapper.css(base.doTranslate(value))},css2move:function(value){var base=this;base.$owlWrapper.css({left:value})},css2slide:function(value,speed){var base=this;base.isCssFinish=false;base.$owlWrapper.stop(true,true).animate({left:value},{duration:speed||base.options.slideSpeed,complete:function(){base.isCssFinish=true}})},checkBrowser:function(){var base=this,translate3D="translate3d(0px, 0px, 0px)",tempElem=document.createElement("div"),regex,asSupport,support3d,isTouch;tempElem.style.cssText="  -moz-transform:"+translate3D+"; -ms-transform:"+translate3D+"; -o-transform:"+translate3D+"; -webkit-transform:"+translate3D+"; transform:"+translate3D;regex=/translate3d\(0px, 0px, 0px\)/g;asSupport=tempElem.style.cssText.match(regex);support3d=asSupport!==null&&asSupport.length===1;isTouch="ontouchstart"in window||window.navigator.msMaxTouchPoints;base.browser={support3d:support3d,isTouch:isTouch}},moveEvents:function(){var base=this;if(base.options.mouseDrag!==false||base.options.touchDrag!==false){base.gestures();base.disabledEvents()}},eventTypes:function(){var base=this,types=["s","e","x"];base.ev_types={};if(base.options.mouseDrag===true&&base.options.touchDrag===true){types=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]}else if(base.options.mouseDrag===false&&base.options.touchDrag===true){types=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]}else if(base.options.mouseDrag===true&&base.options.touchDrag===false){types=["mousedown.owl","mousemove.owl","mouseup.owl"]}base.ev_types.start=types[0];base.ev_types.move=types[1];base.ev_types.end=types[2]},disabledEvents:function(){var base=this;base.$elem.on("dragstart.owl",function(event){event.preventDefault()});base.$elem.on("mousedown.disableTextSelect",function(e){return $(e.target).is("input, textarea, select, option")})},gestures:function(){var base=this,locals={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};base.isCssFinish=true;function getTouches(event){if(event.touches!==undefined){return{x:event.touches[0].pageX,y:event.touches[0].pageY}}if(event.touches===undefined){if(event.pageX!==undefined){return{x:event.pageX,y:event.pageY}}if(event.pageX===undefined){return{x:event.clientX,y:event.clientY}}}}function swapEvents(type){if(type==="on"){$(document).on(base.ev_types.move,dragMove);$(document).on(base.ev_types.end,dragEnd)}else if(type==="off"){$(document).off(base.ev_types.move);$(document).off(base.ev_types.end)}}function dragStart(event){var ev=event.originalEvent||event||window.event,position;if(ev.which===3){return false}if(base.itemsAmount<=base.options.items){return}if(base.isCssFinish===false&&!base.options.dragBeforeAnimFinish){return false}if(base.isCss3Finish===false&&!base.options.dragBeforeAnimFinish){return false}if(base.options.autoPlay!==false){window.clearInterval(base.autoPlayInterval)}if(base.browser.isTouch!==true&&!base.$owlWrapper.hasClass("grabbing")){base.$owlWrapper.addClass("grabbing")}base.newPosX=0;base.newRelativeX=0;$(this).css(base.removeTransition());position=$(this).position();locals.relativePos=position.left;locals.offsetX=getTouches(ev).x-position.left;locals.offsetY=getTouches(ev).y-position.top;swapEvents("on");locals.sliding=false;locals.targetElement=ev.target||ev.srcElement}function dragMove(event){var ev=event.originalEvent||event||window.event,minSwipe,maxSwipe;base.newPosX=getTouches(ev).x-locals.offsetX;base.newPosY=getTouches(ev).y-locals.offsetY;base.newRelativeX=base.newPosX-locals.relativePos;if(typeof base.options.startDragging==="function"&&locals.dragging!==true&&base.newRelativeX!==0){locals.dragging=true;base.options.startDragging.apply(base,[base.$elem])}if((base.newRelativeX>8||base.newRelativeX<-8)&&base.browser.isTouch===true){if(ev.preventDefault!==undefined){ev.preventDefault()}else{ev.returnValue=false}locals.sliding=true}if((base.newPosY>10||base.newPosY<-10)&&locals.sliding===false){$(document).off("touchmove.owl")}minSwipe=function(){return base.newRelativeX/5};maxSwipe=function(){return base.maximumPixels+base.newRelativeX/5};base.newPosX=Math.max(Math.min(base.newPosX,minSwipe()),maxSwipe());if(base.browser.support3d===true){base.transition3d(base.newPosX)}else{base.css2move(base.newPosX)}}function dragEnd(event){var ev=event.originalEvent||event||window.event,newPosition,handlers,owlStopEvent;ev.target=ev.target||ev.srcElement;locals.dragging=false;if(base.browser.isTouch!==true){base.$owlWrapper.removeClass("grabbing")}if(base.newRelativeX<0){base.dragDirection=base.owl.dragDirection="left"}else{base.dragDirection=base.owl.dragDirection="right"}if(base.newRelativeX!==0){newPosition=base.getNewPosition();base.goTo(newPosition,false,"drag");if(locals.targetElement===ev.target&&base.browser.isTouch!==true){$(ev.target).on("click.disable",function(ev){ev.stopImmediatePropagation();ev.stopPropagation();ev.preventDefault();$(ev.target).off("click.disable")});handlers=$._data(ev.target,"events").click;owlStopEvent=handlers.pop();handlers.splice(0,0,owlStopEvent)}}swapEvents("off")}base.$elem.on(base.ev_types.start,".ch_carousel_wrapper",dragStart)},getNewPosition:function(){var base=this,newPosition=base.closestItem();if(newPosition>base.maximumItem){base.currentItem=base.maximumItem;newPosition=base.maximumItem}else if(base.newPosX>=0){newPosition=0;base.currentItem=0}return newPosition},closestItem:function(){var base=this,array=base.options.scrollPerPage===true?base.pagesInArray:base.positionsInArray,goal=base.newPosX,closest=null;$.each(array,function(i,v){if(goal-base.itemWidth/20>array[i+1]&&goal-base.itemWidth/20<v&&base.moveDirection()==="left"){closest=v;if(base.options.scrollPerPage===true){base.currentItem=$.inArray(closest,base.positionsInArray)}else{base.currentItem=i}}else if(goal+base.itemWidth/20<v&&goal+base.itemWidth/20>(array[i+1]||array[i]-base.itemWidth)&&base.moveDirection()==="right"){if(base.options.scrollPerPage===true){closest=array[i+1]||array[array.length-1];base.currentItem=$.inArray(closest,base.positionsInArray)}else{closest=array[i+1];base.currentItem=i+1}}});return base.currentItem},moveDirection:function(){var base=this,direction;if(base.newRelativeX<0){direction="right";base.playDirection="Next"}else{direction="left";base.playDirection="Prev"}return direction},customEvents:function(){var base=this;base.$elem.on("owl.next",function(){base.next()});base.$elem.on("owl.prev",function(){base.prev()});base.$elem.on("owl.play",function(event,speed){base.options.autoPlay=speed;base.play();base.hoverStatus="play"});base.$elem.on("owl.stop",function(){base.stop();base.hoverStatus="stop"});base.$elem.on("owl.goTo",function(event,item){base.goTo(item)});base.$elem.on("owl.jumpTo",function(event,item){base.jumpTo(item)})},stopOnHover:function(){var base=this;if(base.options.stopOnHover===true&&base.browser.isTouch!==true&&base.options.autoPlay!==false){base.$elem.on("mouseover",function(){base.stop()});base.$elem.on("mouseout",function(){if(base.hoverStatus!=="stop"){base.play()}})}},lazyLoad:function(){var base=this,i,$item,itemNumber,$lazyImg,follow;if(base.options.lazyLoad===false){return false}for(i=0;i<base.itemsAmount;i+=1){$item=$(base.$owlItems[i]);if($item.data("owl-loaded")==="loaded"){continue}itemNumber=$item.data("ch_carousel_item");$lazyImg=$item.find(".lazyOwl");if(typeof $lazyImg.data("src")!=="string"){$item.data("owl-loaded","loaded");continue}if($item.data("owl-loaded")===undefined){$lazyImg.hide();$item.addClass("loading").data("owl-loaded","checked")}if(base.options.lazyFollow===true){follow=itemNumber>=base.currentItem}else{follow=true}if(follow&&itemNumber<base.currentItem+base.options.items&&$lazyImg.length){base.lazyPreload($item,$lazyImg)}}},lazyPreload:function($item,$lazyImg){var base=this,iterations=0,isBackgroundImg;if($lazyImg.prop("tagName")==="DIV"){$lazyImg.css("background-image","url("+$lazyImg.data("src")+")");isBackgroundImg=true}else{$lazyImg[0].src=$lazyImg.data("src")}function showImage(){$item.data("owl-loaded","loaded").removeClass("loading");$lazyImg.removeAttr("data-src");if(base.options.lazyEffect==="fade"){$lazyImg.fadeIn(400)}else{$lazyImg.show()}if(typeof base.options.afterLazyLoad==="function"){base.options.afterLazyLoad.apply(this,[base.$elem])}}function checkLazyImage(){iterations+=1;if(base.completeImg($lazyImg.get(0))||isBackgroundImg===true){showImage()}else if(iterations<=100){window.setTimeout(checkLazyImage,100)}else{showImage()}}checkLazyImage()},autoHeight:function(){var base=this,$currentimg=$(base.$owlItems[base.currentItem]).find("img"),iterations;function addHeight(){var $currentItem=$(base.$owlItems[base.currentItem]).height();base.wrapperOuter.css("height",$currentItem+"px");if(!base.wrapperOuter.hasClass("autoHeight")){window.setTimeout(function(){base.wrapperOuter.addClass("autoHeight")},0)}}function checkImage(){iterations+=1;if(base.completeImg($currentimg.get(0))){addHeight()}else if(iterations<=100){window.setTimeout(checkImage,100)}else{base.wrapperOuter.css("height","")}}if($currentimg.get(0)!==undefined){iterations=0;checkImage()}else{addHeight()}},completeImg:function(img){var naturalWidthType;if(!img.complete){return false}naturalWidthType=typeof img.naturalWidth;if(naturalWidthType!=="undefined"&&img.naturalWidth===0){return false}return true},onVisibleItems:function(){var base=this,i;if(base.options.addClassActive===true){base.$owlItems.removeClass("active")}base.visibleItems=[];for(i=base.currentItem;i<base.currentItem+base.options.items;i+=1){base.visibleItems.push(i);if(base.options.addClassActive===true){$(base.$owlItems[i]).addClass("active")}}base.owl.visibleItems=base.visibleItems},transitionTypes:function(className){var base=this;base.outClass="owl-"+className+"-out";base.inClass="owl-"+className+"-in"},singleItemTransition:function(){var base=this,outClass=base.outClass,inClass=base.inClass,$currentItem=base.$owlItems.eq(base.currentItem),$prevItem=base.$owlItems.eq(base.prevItem),prevPos=Math.abs(base.positionsInArray[base.currentItem])+base.positionsInArray[base.prevItem],origin=Math.abs(base.positionsInArray[base.currentItem])+base.itemWidth/2,animEnd="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";base.isTransition=true;base.$owlWrapper.addClass("ch_carousel_origin").css({"-webkit-transform-origin":origin+"px","-moz-perspective-origin":origin+"px","perspective-origin":origin+"px"});function transStyles(prevPos){return{position:"relative",left:prevPos+"px"}}$prevItem.css(transStyles(prevPos,10)).addClass(outClass).on(animEnd,function(){base.endPrev=true;$prevItem.off(animEnd);base.clearTransStyle($prevItem,outClass)});$currentItem.addClass(inClass).on(animEnd,function(){base.endCurrent=true;$currentItem.off(animEnd);base.clearTransStyle($currentItem,inClass)})},clearTransStyle:function(item,classToRemove){var base=this;item.css({position:"",left:""}).removeClass(classToRemove);if(base.endPrev&&base.endCurrent){base.$owlWrapper.removeClass("ch_carousel_origin");base.endPrev=false;base.endCurrent=false;base.isTransition=false}},owlStatus:function(){var base=this;base.owl={userOptions:base.userOptions,baseElement:base.$elem,userItems:base.$userItems,owlItems:base.$owlItems,currentItem:base.currentItem,prevItem:base.prevItem,visibleItems:base.visibleItems,isTouch:base.browser.isTouch,browser:base.browser,dragDirection:base.dragDirection}},clearEvents:function(){var base=this;base.$elem.off(".owl owl mousedown.disableTextSelect");$(document).off(".owl owl");$(window).off("resize",base.resizer)},unWrap:function(){var base=this;if(base.$elem.children().length!==0){base.$owlWrapper.unwrap();base.$userItems.unwrap().unwrap();if(base.owlControls){base.owlControls.remove()}}base.clearEvents();base.$elem.attr("style",base.$elem.data("owl-originalStyles")||"").attr("class",base.$elem.data("owl-originalClasses"))},destroy:function(){var base=this;base.stop();window.clearInterval(base.checkVisible);base.unWrap();base.$elem.removeData()},reinit:function(newOptions){var base=this,options=$.extend({},base.userOptions,newOptions);base.unWrap();base.init(options,base.$elem)},addItem:function(htmlString,targetPosition){var base=this,position;if(!htmlString){return false}if(base.$elem.children().length===0){base.$elem.append(htmlString);base.setVars();return false}base.unWrap();if(targetPosition===undefined||targetPosition===-1){position=-1}else{position=targetPosition}if(position>=base.$userItems.length||position===-1){base.$userItems.eq(-1).after(htmlString)}else{base.$userItems.eq(position).before(htmlString)}base.setVars()},removeItem:function(targetPosition){var base=this,position;if(base.$elem.children().length===0){return false}if(targetPosition===undefined||targetPosition===-1){position=-1}else{position=targetPosition}base.unWrap();base.$userItems.eq(position).remove();base.setVars()}};$.fn.owlCarousel=function(options){return this.each(function(){if($(this).data("owl-init")===true){return false}$(this).data("owl-init",true);var carousel=Object.create(Carousel);carousel.init(options,this);$.data(this,"owlCarousel",carousel)})};$.fn.owlCarousel.options={items:5,itemsCustom:false,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:false,itemsMobile:[479,1],singleItem:false,itemsScaleUp:false,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:false,stopOnHover:false,navigation:false,navigationText:["<i class='fa fa-angle-left'></i> Prev","Next <i class='fa fa-angle-right'></i>"],rewindNav:true,scrollPerPage:false,pagination:true,paginationNumbers:false,responsive:true,responsiveRefreshRate:200,responsiveBaseWidth:window,baseClass:"ch_carousel",theme:"ch_carousel_theme",lazyLoad:false,lazyFollow:true,lazyEffect:"fade",autoHeight:false,jsonPath:false,jsonSuccess:false,dragBeforeAnimFinish:true,mouseDrag:false,touchDrag:true,addClassActive:false,transitionStyle:false,beforeUpdate:false,afterUpdate:false,beforeInit:false,afterInit:false,beforeMove:false,afterMove:false,afterAction:false,startDragging:false,afterLazyLoad:false}})(jQuery,window,document);!function(a){"undefined"==typeof a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&b.call(c[0],d,c)!==!1;);return this}})}(jQuery),function(a,b){"use strict";function n(b){var c=a(document.createTextNode(""));b.before(c),c.before(b),c.remove()}function o(a){var b,c,d,e;if(!a||a.length<1)return a;for(b="",c=0,d=a.length;d>c;c++)e=a.charAt(c),b+=m[e]||e;return b}function p(a,b){for(var c=0,d=b.length;d>c;c+=1)if(r(a,b[c]))return c;return-1}function q(){var b=a(l);b.appendTo("body");var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),c}function r(a,c){return a===c?!0:a===b||c===b?!1:null===a||null===c?!1:a.constructor===String?a+""==c+"":c.constructor===String?c+""==a+"":!1}function s(b,c){var d,e,f;if(null===b||b.length<1)return[];for(d=b.split(c),e=0,f=d.length;f>e;e+=1)d[e]=a.trim(d[e]);return d}function t(a){return a.outerWidth(!1)-a.width()}function u(c){var d="keyup-change-value";c.on("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function v(c){c.on("mousemove",function(c){var d=i;(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function w(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function x(a){var c,b=!1;return function(){return b===!1&&(c=a(),b=!0),c}}function y(a,b){var c=w(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){p(a.target,b.get())>=0&&c(a)})}function z(a){a[0]!==document.activeElement&&window.setTimeout(function(){var d,b=a[0],c=a.val().length;a.focus();var e=b.offsetWidth>0||b.offsetHeight>0;e&&b===document.activeElement&&(b.setSelectionRange?b.setSelectionRange(c,c):b.createTextRange&&(d=b.createTextRange(),d.collapse(!1),d.select()))},0)}function A(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{offset:c,length:d}}function B(a){a.preventDefault(),a.stopPropagation()}function C(a){a.preventDefault(),a.stopImmediatePropagation()}function D(b){if(!h){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);h=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),h.attr("class","select2-sizer"),a("body").append(h)}return h.text(b.val()),h.width()}function E(b,c,d){var e,g,f=[];e=b.attr("class"),e&&(e=""+e,a(e.split(" ")).each2(function(){0===this.indexOf("select2-")&&f.push(this)})),e=c.attr("class"),e&&(e=""+e,a(e.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(g=d(this),g&&f.push(g))})),b.attr("class",f.join(" "))}function F(a,b,c,d){var e=o(a.toUpperCase()).indexOf(o(b.toUpperCase())),f=b.length;return 0>e?(c.push(d(a)),void 0):(c.push(d(a.substring(0,e))),c.push("<span class='select2-match'>"),c.push(d(a.substring(e,e+f))),c.push("</span>"),c.push(d(a.substring(e+f,a.length))),void 0)}function G(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function H(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&"function"==typeof e.abort&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{url:f,dataType:c.dataType,data:d,success:function(a){var b=c.results(a,i.page);i.callback(b)}}),e=j.call(h,l)},f)}}function I(b){var d,e,c=b,f=function(a){return""+a.text};a.isArray(c)&&(e=c,c={results:e}),a.isFunction(c)===!1&&(e=c,c=function(){return e});var g=c();return g.text&&(f=g.text,a.isFunction(f)||(d=g.text,f=function(a){return a[d]})),function(b){var g,d=b.term,e={results:[]};return""===d?(b.callback(c()),void 0):(g=function(c,e){var h,i;if(c=c[0],c.children){h={};for(i in c)c.hasOwnProperty(i)&&(h[i]=c[i]);h.children=[],a(c.children).each2(function(a,b){g(b,h.children)}),(h.children.length||b.matcher(d,f(h),c))&&e.push(h)}else b.matcher(d,f(c),c)&&e.push(c)},a(c().results).each2(function(a,b){g(b,e.results)}),b.callback(e),void 0)}}function J(c){var d=a.isFunction(c);return function(e){var f=e.term,g={results:[]};a(d?c():c).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{id:this,text:this})}),e.callback(g)}}function K(b,c){if(a.isFunction(b))return!0;if(!b)return!1;if("string"==typeof b)return!0;throw new Error(c+" must be a string, function, or falsy value")}function L(b){if(a.isFunction(b)){var c=Array.prototype.slice.call(arguments,1);return b.apply(null,c)}return b}function M(b){var c=0;return a.each(b,function(a,b){b.children?c+=M(b.children):c++}),c}function N(a,c,d,e){var h,i,j,k,l,f=a,g=!1;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(i=-1,j=0,k=e.tokenSeparators.length;k>j&&(l=e.tokenSeparators[j],i=a.indexOf(l),!(i>=0));j++);if(0>i)break;if(h=a.substring(0,i),a=a.substring(i+l.length),h.length>0&&(h=e.createSearchChoice.call(this,h,c),h!==b&&null!==h&&e.id(h)!==b&&null!==e.id(h))){for(g=!1,j=0,k=c.length;k>j;j++)if(r(e.id(h),e.id(c[j]))){g=!0;break}g||d(h)}}return f!==a?a:void 0}function O(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var c,d,e,f,g,h,j,k,i={x:0,y:0},c={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case c.LEFT:case c.RIGHT:case c.UP:case c.DOWN:return!0}return!1},isControl:function(a){var b=a.which;switch(b){case c.SHIFT:case c.CTRL:case c.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a}},l="<div class='select2-measure-scrollbar'></div>",m={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A"," ":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A"," ":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G"," ":"G","":"G"," ":"G","":"G","":"G","":"G","":"G"," ":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L"," ":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N"," ":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O"," ":"O","":"O","":"O"," ":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S"," ":"S"," ":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V"," ":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a"," ":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g"," ":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p"," ":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};j=a(document),g=function(){var a=1;return function(){return a++}}(),j.on("mousemove",function(a){i.x=a.pageX,i.y=a.pageY}),d=O(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,f=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+g()).replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.containerSelector="#"+this.containerId,this.container.attr("id",this.containerId),this.body=x(function(){return c.element.closest("body")}),E(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(L(c.containerCss)),this.container.addClass(L(c.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",B),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),E(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(L(c.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",B),this.results=d=this.container.find(f),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",B),v(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",f,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchend",f,this.bind(this.selectHighlighted)),this.dropdown.on("touchmove",f,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",f,this.bind(this.clearTouchMoved)),y(80,this.results),this.dropdown.on("scroll-debounced",f,this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),B(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),B(a))}),u(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",f,this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown focusin",function(a){a.stopPropagation()}),this.nextSearchTerm=b,a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var h=c.element.prop("disabled");h===b&&(h=!1),this.enable(!h);var i=c.element.prop("readonly");i===b&&(i=!1),this.readonly(i),k=k||q(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",c.searchInputPlaceholder)},destroy:function(){var a=this.opts.element,c=a.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),c!==b&&(c.container.remove(),c.liveRegion.remove(),c.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:r(a.attr("locked"),"locked")||r(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(c){var d,e,f,h,i=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var h,j=this.opts.id,k=this.liveRegion;h=function(d,e,l){var m,n,o,p,q,r,s,t,u,v;for(d=c.sortResults(d,e,f),m=0,n=d.length;n>m;m+=1)o=d[m],q=o.disabled===!0,p=!q&&j(o)!==b,r=o.children&&o.children.length>0,s=a("<li></li>"),s.addClass("select2-results-dept-"+l),s.addClass("select2-result"),s.addClass(p?"select2-result-selectable":"select2-result-unselectable"),q&&s.addClass("select2-disabled"),r&&s.addClass("select2-result-with-children"),s.addClass(i.opts.formatResultCssClass(o)),s.attr("role","presentation"),t=a(document.createElement("div")),t.addClass("select2-result-label"),t.attr("id","select2-result-label-"+g()),t.attr("role","option"),v=c.formatResult(o,t,f,i.opts.escapeMarkup),v!==b&&(t.html(v),s.append(t)),r&&(u=a("<ul></ul>"),u.addClass("select2-result-sub"),h(o.children,u,l+1),s.append(u)),s.data("select2-data",o),e.append(s);k.text(c.formatMatches(d.length))},h(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(f=c.id,c.id=function(a){return a[f]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var f,g,h,c={results:[],more:!1},e=a.term;h=function(b,c){var d;b.is("option")?a.matcher(e,b.text(),b)&&c.push(i.optionToData(b)):b.is("optgroup")&&(d=i.optionToData(b),b.children().each2(function(a,b){h(b,d.children)}),d.children.length>0&&c.push(d))},f=d.children(),this.getPlaceholder()!==b&&f.length>0&&(g=this.getPlaceholderOption(),g&&(f=f.not(g))),f.each2(function(a,b){h(b,c.results)}),a.callback(c)}),c.id=function(a){return a.id}):"query"in c||("ajax"in c?(h=c.element.data("ajax-url"),h&&h.length>0&&(c.ajax.url=h),c.query=H.call(c.element,c.ajax)):"data"in c?c.query=I(c.data):"tags"in c&&(c.query=J(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(s(b.val(),c.separator)).each(function(){var b={id:this,text:this},d=c.tags;a.isFunction(d)&&(d=d()),a(d).each(function(){return r(this.id,b.id)?(b=this,!1):void 0}),e.push(b)}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");if("top"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.unshift(b)};else if("bottom"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.push(b)};else if("function"!=typeof c.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return c},monitorSource:function(){var c,d,a=this.opts.element;a.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),c=this.bind(function(){var c=a.prop("disabled");c===b&&(c=!1),this.enable(!c);var d=a.prop("readonly");d===b&&(d=!1),this.readonly(d),E(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(L(this.opts.containerCssClass)),E(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(L(this.opts.dropdownCssClass))}),a.on("propertychange.select2",c),this.mutationCallback===b&&(this.mutationCallback=function(a){a.forEach(c)}),d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,d!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new d(this.mutationCallback),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){var c=a.Event("select2-selecting",{val:this.id(b),object:b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===b&&(a=!1),this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,u,v,w,x,b=this.dropdown,c=this.container.offset(),d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),g=a(window),h=g.width(),i=g.height(),j=g.scrollLeft()+h,l=g.scrollTop()+i,m=c.top+d,n=c.left,o=l>=m+f,p=c.top-f>=g.scrollTop(),q=b.outerWidth(!1),r=j>=n+q,s=b.hasClass("select2-drop-above");s?(u=!0,!p&&o&&(v=!0,u=!1)):(u=!1,!o&&p&&(v=!0,u=!0)),v&&(b.hide(),c=this.container.offset(),d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),j=g.scrollLeft()+h,l=g.scrollTop()+i,m=c.top+d,n=c.left,q=b.outerWidth(!1),r=j>=n+q,b.show()),this.opts.dropdownAutoWidth?(x=a(".select2-results",b)[0],b.addClass("select2-drop-auto-width"),b.css("width",""),q=b.outerWidth(!1)+(x.scrollHeight===x.clientHeight?0:k.width),q>e?e=q:q=e,r=j>=n+q):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),m-=t.top,n-=t.left),r||(n=c.left+this.container.outerWidth(!1)-q),w={left:n,width:e},u?(w.top=c.top-f,w.bottom="auto",this.container.addClass("select2-drop-above"),b.addClass("select2-drop-above")):(w.top=m,w.bottom="auto",this.container.removeClass("select2-drop-above"),b.removeClass("select2-drop-above")),w=a.extend(w,L(this.opts.dropdownCss)),b.css(w)},shouldOpen:function(){var b;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var f,b=this.containerId,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),f=a("#select2-drop-mask"),0==f.length&&(f=a(document.createElement("div")),f.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),f.hide(),f.appendTo(this.body()),f.on("mousedown touchstart click",function(b){n(f);var d,c=a("#select2-drop");c.length>0&&(d=c.data("select2"),d.opts.selectOnBlur&&d.selectHighlighted({noFocus:!0}),d.close(),b.preventDefault(),b.stopPropagation())})),this.dropdown.prev()[0]!==f[0]&&this.dropdown.before(f),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),f.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var g=this;this.container.parents().add(window).each(function(){a(this).on(d+" "+c+" "+e,function(){g.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerId,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open(),this.search.val(a),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return L(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var c,d,e,f,g,h,i,b=this.results;if(d=this.highlight(),!(0>d)){if(0==d)return b.scrollTop(0),void 0;c=this.findHighlightableChoices().find(".select2-result-label"),e=a(c[d]),f=e.offset().top+e.outerHeight(!0),d===c.length-1&&(i=b.find("li.select2-more-results"),i.length>0&&(f=i.offset().top+i.outerHeight(!0))),g=b.offset().top+b.outerHeight(!0),f>g&&b.scrollTop(b.scrollTop()+(f-g)),h=e.offset().top-b.offset().top,0>h&&"none"!=e.css("display")&&b.scrollTop(b.scrollTop()+h)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(b){for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var d,e,c=this.findHighlightableChoices();return 0===arguments.length?p(c.filter(".select2-highlighted")[0],c.get()):(b>=c.length&&(b=c.length-1),0>b&&(b=0),this.removeHighlight(),d=a(c[b]),d.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",d.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(d.text()),e=d.data("select2-data"),e&&this.opts.element.trigger({type:"select2-highlight",val:this.id(e),choice:e}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var c,a=this.results,b=a.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-a.height(),c<=this.opts.loadMorePadding&&(b.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(c){e.opened()&&(e.opts.populateResults.call(this,a,c.results,{term:f,page:d,context:g}),e.postprocessResults(c,!1,!1),c.more===!0?(b.detach().appendTo(a).text(L(e.opts.formatLoadMore,d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):b.remove(),e.positionDropdown(),e.resultsPage=d,e.context=c.context,this.opts.element.trigger({type:"select2-loaded",items:c}))})})))},tokenize:function(){},updateResults:function(c){function m(){d.removeClass("select2-active"),h.positionDropdown(),e.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?h.liveRegion.text(e.text()):h.liveRegion.text(h.opts.formatMatches(e.find(".select2-result-selectable").length))}function n(a){e.html(a),m()}var g,i,l,d=this.search,e=this.results,f=this.opts,h=this,j=d.val(),k=a.data(this.container,"select2-last-term");if((c===!0||!k||!r(j,k))&&(a.data(this.container,"select2-last-term",j),c===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var o=this.getMaximumSelectionSize();if(o>=1&&(g=this.data(),a.isArray(g)&&g.length>=o&&K(f.formatSelectionTooBig,"formatSelectionTooBig")))return n("<li class='select2-selection-limit'>"+L(f.formatSelectionTooBig,o)+"</li>"),void 0;if(d.val().length<f.minimumInputLength)return K(f.formatInputTooShort,"formatInputTooShort")?n("<li class='select2-no-results'>"+L(f.formatInputTooShort,d.val(),f.minimumInputLength)+"</li>"):n(""),c&&this.showSearch&&this.showSearch(!0),void 0;if(f.maximumInputLength&&d.val().length>f.maximumInputLength)return K(f.formatInputTooLong,"formatInputTooLong")?n("<li class='select2-no-results'>"+L(f.formatInputTooLong,d.val(),f.maximumInputLength)+"</li>"):n(""),void 0;f.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+L(f.formatSearching)+"</li>"),d.addClass("select2-active"),this.removeHighlight(),i=this.tokenize(),i!=b&&null!=i&&d.val(i),this.resultsPage=1,f.query({element:f.element,term:d.val(),page:this.resultsPage,context:null,matcher:f.matcher,callback:this.bind(function(g){var i;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=g.context===b?null:g.context,this.opts.createSearchChoice&&""!==d.val()&&(i=this.opts.createSearchChoice.call(h,d.val(),g.results),i!==b&&null!==i&&h.id(i)!==b&&null!==h.id(i)&&0===a(g.results).filter(function(){return r(h.id(this),h.id(i))}).length&&this.opts.createSearchChoicePosition(g.results,i)),0===g.results.length&&K(f.formatNoMatches,"formatNoMatches"))return n("<li class='select2-no-results'>"+L(f.formatNoMatches,d.val())+"</li>"),void 0;e.empty(),h.opts.populateResults.call(this,e,g.results,{term:d.val(),page:this.resultsPage,context:null}),g.more===!0&&K(f.formatLoadMore,"formatLoadMore")&&(e.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(L(f.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(g,c),m(),this.opts.element.trigger({type:"select2-loaded",items:g})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){z(this.search)},selectHighlighted:function(a){if(this._touchMoved)return this.clearTouchMoved(),void 0;var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&a||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){function c(){var c,d,e,f,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(c=this.opts.element.attr("style"),c!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(h=d[f].replace(/\s/g,""),e=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==e&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.css("width",d)}}),e=O(d,{createContainer:function(){var b=a(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return b},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var c,d,e;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),c=this.search.get(0),c.createTextRange?(d=c.createTextRange(),d.collapse(!1),d.select()):c.setSelectionRange&&(e=this.search.val().length,c.setSelectionRange(e,e)),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var b,h,d=this.container,e=this.dropdown,f=g();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=b=d.find(".select2-choice"),this.focusser=d.find(".select2-focusser"),b.find(".select2-chosen").attr("id","select2-chosen-"+f),this.focusser.attr("aria-labelledby","select2-chosen-"+f),this.results.attr("id","select2-results-"+f),this.search.attr("aria-owns","select2-results-"+f),this.focusser.attr("id","s2id_autogen"+f),h=a("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(h.text()).attr("for",this.focusser.attr("id"));var i=this.opts.element.attr("title");this.opts.element.attr("title",i||h.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(a("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){if(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)return B(a),void 0;switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),B(a),void 0;case c.ENTER:return this.selectHighlighted(),B(a),void 0;case c.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case c.ESC:return this.cancel(a),B(a),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==c.TAB&&!c.isControl(a)&&!c.isFunctionKey(a)&&a.which!==c.ESC){if(this.opts.openOnEnter===!1&&a.which===c.ENTER)return B(a),void 0;if(a.which==c.DOWN||a.which==c.UP||a.which==c.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),B(a),void 0}return a.which==c.DELETE||a.which==c.BACKSPACE?(this.opts.allowClear&&this.clear(),B(a),void 0):void 0}})),u(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),C(a),this.close(),this.selection.focus())})),b.on("mousedown touchstart",this.bind(function(c){n(b),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),B(c)})),e.on("mousedown touchstart",this.bind(function(){this.search.focus()})),b.on("focus",this.bind(function(a){B(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");if(this.opts.element.trigger(d),d.isDefaultPrevented())return;var e=this.getPlaceholderOption();this.opts.element.val(e?e.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),b!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.setPlaceholder(),c.nextSearchTerm=c.opts.nextSearchTerm(a,c.search.val()))})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()?(a=this.getPlaceholderOption())!==b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val():!1},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected&&!this.disabled});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),f=null;b.query({matcher:function(a,c,d){var g=r(e,b.id(d));return g&&(f=d),g},callback:a.isFunction(d)?function(){d(f)}:a.noop})}),b},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return r(e.id(b.data("select2-data")),e.opts.element.val())?(d=a,!1):void 0}),c!==!1&&(b===!0&&d>=0?this.highlight(d):this.highlight(0)),b===!0){var g=this.opts.minimumResultsForSearch;g>=0&&this.showSearch(M(a.results)>=g)}},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.close(),b&&b.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var d,e,c=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),c.empty(),null!==a&&(d=this.opts.formatSelection(a,c,this.opts.escapeMarkup)),d!==b&&c.append(d),e=this.opts.formatSelectionCssClass(a,c),e!==b&&c.addClass(e),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else{if(!a&&0!==a)return this.clear(c),void 0;if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),e.setPlaceholder(),c&&e.triggerChange({added:a,removed:f})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(a){var c,d=!1;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(arguments.length>1&&(d=arguments[1]),a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d),void 0)}}),f=O(d,{createContainer:function(){var b=a(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=s(c.val(),b.separator),f=[];b.query({matcher:function(c,d,g){var h=a.grep(e,function(a){return r(a,b.id(g))}).length;return h&&f.push(g),h},callback:a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var g=e[c],h=0;h<f.length;h++){var i=f[h];if(r(g,b.id(i))){a.push(i),f.splice(h,1);break}}d(a)}:a.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var d,b=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=d=this.container.find(b);var e=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){e.search[0].focus(),e.selectChoice(a(this))}),this.search.attr("id","s2id_autogen"+g()),this.search.prev().text(a("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var b=d.find(".select2-search-choice-focus"),e=b.prev(".select2-search-choice:not(.select2-locked)"),f=b.next(".select2-search-choice:not(.select2-locked)"),g=A(this.search);if(b.length&&(a.which==c.LEFT||a.which==c.RIGHT||a.which==c.BACKSPACE||a.which==c.DELETE||a.which==c.ENTER)){var h=b;return a.which==c.LEFT&&e.length?h=e:a.which==c.RIGHT?h=f.length?f:null:a.which===c.BACKSPACE?this.unselect(b.first())&&(this.search.width(10),h=e.length?e:f):a.which==c.DELETE?this.unselect(b.first())&&(this.search.width(10),h=f.length?f:null):a.which==c.ENTER&&(h=null),this.selectChoice(h),B(a),h&&h.length||this.open(),void 0}if((a.which===c.BACKSPACE&&1==this.keydowns||a.which==c.LEFT)&&0==g.offset&&!g.length)return this.selectChoice(d.find(".select2-search-choice:not(.select2-locked)").last()),B(a),void 0;if(this.selectChoice(null),this.opened())switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),B(a),void 0;case c.ENTER:return this.selectHighlighted(),B(a),void 0;case c.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case c.ESC:return this.cancel(a),B(a),void 0}if(a.which!==c.TAB&&!c.isControl(a)&&!c.isFunctionKey(a)&&a.which!==c.BACKSPACE&&a.which!==c.ESC){if(a.which===c.ENTER){if(this.opts.openOnEnter===!1)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)&&B(a),a.which===c.ENTER&&B(a)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",b,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.on("focus",b,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],e=this;a(b).each(function(){p(e.id(this),c)<0&&(c.push(e.id(this)),d.push(this))}),b=d,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){e.addSelectedChoice(this)}),e.postprocessResults()},tokenize:function(){var a=this.search.val();a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts),null!=a&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a,c){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),c&&c.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(c){var j,k,d=!c.locked,e=a("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),f=a("<li class='select2-search-choice select2-locked'><div></div></li>"),g=d?e:f,h=this.id(c),i=this.getVal();j=this.opts.formatSelection(c,g.find("div"),this.opts.escapeMarkup),j!=b&&g.find("div").replaceWith("<div>"+j+"</div>"),k=this.opts.formatSelectionCssClass(c,g.find("div")),k!=b&&g.addClass(k),d&&g.find(".select2-search-choice-close").on("mousedown",B).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),B(b),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),g.data("select2-data",c),g.insertBefore(this.searchContainer),i.push(h),this.setVal(i)},unselect:function(b){var d,e,c=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+b+". Must be .select2-search-choice";if(d=b.data("select2-data")){var f=a.Event("select2-removing");if(f.val=this.id(d),f.choice=d,this.opts.element.trigger(f),f.isDefaultPrevented())return!1;for(;(e=p(this.id(d),c))>=0;)c.splice(e,1),this.setVal(c),this.select&&this.postprocessResults();return b.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(d),choice:d}),this.triggerChange({removed:d}),!0}},postprocessResults:function(a,b,c){var d=this.getVal(),e=this.results.find(".select2-result"),f=this.results.find(".select2-result-with-children"),g=this;e.each2(function(a,b){var c=g.id(b.data("select2-data"));p(c,d)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),f.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&c!==!1&&g.highlight(0),!this.opts.createSearchChoice&&!e.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&K(g.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+L(g.opts.formatNoMatches,g.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-t(this.search)},resizeSearch:function(){var a,b,c,d,e,f=t(this.search);a=D(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,a>e&&(e=c-f),40>e&&(e=c-f),0>=e&&(e=a),this.search.width(Math.floor(e))},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),s(a,this.opts.separator))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){p(this,c)<0&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)r(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c>0&&c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),d&&this.triggerChange({added:this.data(),removed:e}),void 0;if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b,c){var e,f,d=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(f=this.data(),b||(b=[]),e=a.map(b,function(a){return d.opts.id(a)}),this.setVal(e),this.updateSelection(b),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(f,this.data())),void 0)}}),a.fn.select2=function(){var d,e,f,g,h,c=Array.prototype.slice.call(arguments,0),i=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],j=["opened","isFocused","container","dropdown"],k=["val","data"],l={search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0])d=0===c.length?{}:a.extend({},c[0]),d.element=a(this),"select"===d.element.get(0).tagName.toLowerCase()?h=d.element.prop("multiple"):(h=d.multiple||!1,"tags"in d&&(d.multiple=h=!0)),e=h?new window.Select2["class"].multi:new window.Select2["class"].single,e.init(d);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(p(c[0],i)<0)throw"Unknown method: "+c[0];if(g=b,e=a(this).data("select2"),e===b)return;if(f=c[0],"container"===f?g=e.container:"dropdown"===f?g=e.dropdown:(l[f]&&(f=l[f]),g=e[f].apply(e,c.slice(1))),p(c[0],j)>=0||p(c[0],k)&&1==c.length)return!1}}),g===b?this:g},a.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){var e=[];return F(a.text,c.term,e,d),e.join("")},formatSelection:function(a,c,d){return a?d(a.text):b},sortResults:function(a){return a},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(){return b},formatMatches:function(a){return a+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" or more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results"},formatSearching:function(){return"Searching"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==b?null:a.id},matcher:function(a,b){return o(""+b).toUpperCase().indexOf(o(""+a).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:N,escapeMarkup:G,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return b},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(a){return a.opts.minimumResultsForSearch<0?!1:!0}},a.fn.select2.ajaxDefaults={transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:H,local:I,tags:J},util:{debounce:w,markMatch:F,escapeMarkup:G,stripDiacritics:o},class:{abstract:d,single:e,multi:f}}}}(jQuery);(function($,window,document,undefined){var lazyLoadXT="lazyLoadXT",dataLazied="lazied",load_error="load error",classLazyHidden="lazy-hidden",docElement=document.documentElement||document.body,forceLoad=window.onscroll===undefined||!!window.operamini||!docElement.getBoundingClientRect,options={autoInit:true,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:forceLoad,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:classLazyHidden},onload:{removeClass:classLazyHidden,addClass:"lazy-loaded"},onerror:{removeClass:classLazyHidden},checkDuplicates:true},elementOptions={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:true},$window=$(window),$isFunction=$.isFunction,$extend=$.extend,$data=$.data||function(el,name){return $(el).data(name)},$contains=$.contains||function(parent,el){while(el=el.parentNode){if(el===parent){return true}}return false},elements=[],topLazy=0,waitingMode=0;$[lazyLoadXT]=$extend(options,elementOptions,$[lazyLoadXT]);function getOrDef(obj,prop){return obj[prop]===undefined?options[prop]:obj[prop]}function scrollTop(){var scroll=window.pageYOffset;return scroll===undefined?docElement.scrollTop:scroll}$.fn[lazyLoadXT]=function(overrides){overrides=overrides||{};var blankImage=getOrDef(overrides,"blankImage"),checkDuplicates=getOrDef(overrides,"checkDuplicates"),scrollContainer=getOrDef(overrides,"scrollContainer"),elementOptionsOverrides={},prop;$(scrollContainer).on("scroll",queueCheckLazyElements);for(prop in elementOptions){elementOptionsOverrides[prop]=getOrDef(overrides,prop)}return this.each(function(index,el){if(el===window){$(options.selector).lazyLoadXT(overrides)}else{if(checkDuplicates&&$data(el,dataLazied)){return}var $el=$(el).data(dataLazied,1);if(blankImage&&el.tagName==="IMG"&&!el.src){el.src=blankImage}$el[lazyLoadXT]=$extend({},elementOptionsOverrides);triggerEvent("init",$el);elements.push($el)}})};function triggerEvent(event,$el){var handler=options["on"+event];if(handler){if($isFunction(handler)){handler.call($el[0])}else{if(handler.addClass){$el.addClass(handler.addClass)}if(handler.removeClass){$el.removeClass(handler.removeClass)}}}$el.trigger("lazy"+event,[$el]);queueCheckLazyElements()}function triggerLoadOrError(e){triggerEvent(e.type,$(this).off(load_error,triggerLoadOrError))}function checkLazyElements(force){if(!elements.length){return}force=force||options.forceLoad;topLazy=Infinity;var viewportTop=scrollTop(),viewportHeight=window.innerHeight||docElement.clientHeight,viewportWidth=window.innerWidth||docElement.clientWidth,i,length;for(i=0,length=elements.length;i<length;i++){var $el=elements[i],el=$el[0],objData=$el[lazyLoadXT],removeNode=false,visible=force,topEdge;if(!$contains(docElement,el)){removeNode=true}else if(force||!objData.visibleOnly||el.offsetWidth||el.offsetHeight){if(!visible){var elPos=el.getBoundingClientRect(),edgeX=objData.edgeX,edgeY=objData.edgeY;topEdge=elPos.top+viewportTop-edgeY-viewportHeight;visible=topEdge<=viewportTop&&elPos.bottom>-edgeY&&elPos.left<=viewportWidth+edgeX&&elPos.right>-edgeX}if(visible){triggerEvent("show",$el);var srcAttr=objData.srcAttr,src=$isFunction(srcAttr)?srcAttr($el):el.getAttribute(srcAttr);if(src){$el.on(load_error,triggerLoadOrError);el.src=src}removeNode=true}else{if(topEdge<topLazy){topLazy=topEdge}}}if(removeNode){elements.splice(i--,1);length--}}if(!length){triggerEvent("complete",$(docElement))}}function timeoutLazyElements(){if(waitingMode>1){waitingMode=1;checkLazyElements();setTimeout(timeoutLazyElements,options.throttle)}else{waitingMode=0}}function queueCheckLazyElements(e){if(!elements.length){return}if(e&&e.type==="scroll"&&e.currentTarget===window){if(topLazy>=scrollTop()){return}}if(!waitingMode){setTimeout(timeoutLazyElements,0)}waitingMode=2}function initLazyElements(){$window.lazyLoadXT()}function forceLoadAll(){checkLazyElements(true)}$(document).ready(function(){triggerEvent("start",$window);$window.on(options.loadEvent,initLazyElements).on(options.updateEvent,queueCheckLazyElements).on(options.forceEvent,forceLoadAll);$(document).on(options.updateEvent,queueCheckLazyElements);if(options.autoInit){initLazyElements()}})})(window.jQuery||window.Zepto||window.$,window,document);(function($){var options=$.lazyLoadXT;options.selector+=",video,iframe[data-src]";options.videoPoster="data-poster";$(document).on("lazyshow","video",function(e,$el){var srcAttr=$el.lazyLoadXT.srcAttr,isFuncSrcAttr=$.isFunction(srcAttr);$el.attr("poster",$el.attr(options.videoPoster)).children("source,track").each(function(index,el){var $child=$(el);$child.attr("src",isFuncSrcAttr?srcAttr($child):$child.attr(srcAttr))});this.load()})})(window.jQuery||window.Zepto||window.$);(function($){"use strict";var options=$.lazyLoadXT,bgAttr=options.bgAttr||"data-bg";options.selector+=",["+bgAttr+"]";$(document).on("lazyshow",function(e){var $this=$(e.target),url=$this.attr(bgAttr);if(!!url){$this.css("background-image","url('"+url+"')").removeAttr(bgAttr).triggerHandler("load")}})})(window.jQuery||window.Zepto||window.$);window.matchMedia||(window.matchMedia=function(win){"use strict";var _doc=win.document,_viewport=_doc.documentElement,_queries=[],_queryID=0,_type="",_features={},_typeExpr=/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,_mediaExpr=/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,_timer=0,_matches=function(media){var mql=media.indexOf(",")!==-1&&media.split(",")||[media],mqIndex=mql.length-1,mqLength=mqIndex,mq=null,negateType=null,negateTypeFound="",negateTypeIndex=0,negate=false,type="",exprListStr="",exprList=null,exprIndex=0,exprLength=0,expr=null,prefix="",length="",unit="",value="",feature="",match=false;if(media===""){return true}do{mq=mql[mqLength-mqIndex];negate=false;negateType=mq.match(_typeExpr);if(negateType){negateTypeFound=negateType[0];negateTypeIndex=negateType.index}if(!negateType||mq.substring(0,negateTypeIndex).indexOf("(")===-1&&(negateTypeIndex||!negateType[3]&&negateTypeFound!==negateType.input)){match=false;continue}exprListStr=mq;negate=negateType[1]==="not";if(!negateTypeIndex){type=negateType[2];exprListStr=mq.substring(negateTypeFound.length)}match=type===_type||type==="all"||type==="";exprList=exprListStr.indexOf(" and ")!==-1&&exprListStr.split(" and ")||[exprListStr];exprIndex=exprList.length-1;exprLength=exprIndex;if(match&&exprIndex>=0&&exprListStr!==""){do{expr=exprList[exprIndex].match(_mediaExpr);if(!expr||!_features[expr[3]]){match=false;break}prefix=expr[2];length=expr[5];value=length;unit=expr[7];feature=_features[expr[3]];if(unit){if(unit==="px"){value=Number(length)}else if(unit==="em"||unit==="rem"){value=16*length}else if(expr[8]){value=(length/expr[8]).toFixed(2)}else if(unit==="dppx"){value=length*96}else if(unit==="dpcm"){value=length*.3937}else{value=Number(length)}}if(prefix==="min-"&&value){match=feature>=value}else if(prefix==="max-"&&value){match=feature<=value}else if(value){match=feature===value}else{match=!!feature}if(!match){break}}while(exprIndex--)}if(match){break}}while(mqIndex--);return negate?!match:match},_setFeature=function(){var w=win.innerWidth||_viewport.clientWidth,h=win.innerHeight||_viewport.clientHeight,dw=win.screen.width,dh=win.screen.height,c=win.screen.colorDepth,x=win.devicePixelRatio;_features.width=w;_features.height=h;_features["aspect-ratio"]=(w/h).toFixed(2);_features["device-width"]=dw;_features["device-height"]=dh;_features["device-aspect-ratio"]=(dw/dh).toFixed(2);_features.color=c;_features["color-index"]=Math.pow(2,c);_features.orientation=h>=w?"portrait":"landscape";_features.resolution=x&&x*96||win.screen.deviceXDPI||96;_features["device-pixel-ratio"]=x||1},_watch=function(){clearTimeout(_timer);_timer=setTimeout(function(){var query=null,qIndex=_queryID-1,qLength=qIndex,match=false;if(qIndex>=0){_setFeature();do{query=_queries[qLength-qIndex];if(query){match=_matches(query.mql.media);if(match&&!query.mql.matches||!match&&query.mql.matches){query.mql.matches=match;if(query.listeners){for(var i=0,il=query.listeners.length;i<il;i++){if(query.listeners[i]){query.listeners[i].call(win,query.mql)}}}}}}while(qIndex--)}},10)},_init=function(){var head=_doc.getElementsByTagName("head")[0],style=_doc.createElement("style"),info=null,typeList=["screen","print","speech","projection","handheld","tv","braille","embossed","tty"],typeIndex=0,typeLength=typeList.length,cssText="#mediamatchjs { position: relative; z-index: 0; }",eventPrefix="",addEvent=win.addEventListener||(eventPrefix="on")&&win.attachEvent;style.type="text/css";style.id="mediamatchjs";head.appendChild(style);info=win.getComputedStyle&&win.getComputedStyle(style)||style.currentStyle;for(;typeIndex<typeLength;typeIndex++){cssText+="@media "+typeList[typeIndex]+" { #mediamatchjs { position: relative; z-index: "+typeIndex+" } }"}if(style.styleSheet){style.styleSheet.cssText=cssText}else{style.textContent=cssText}_type=typeList[info.zIndex*1||0];head.removeChild(style);_setFeature();addEvent(eventPrefix+"resize",_watch);addEvent(eventPrefix+"orientationchange",_watch)};_init();return function(media){var id=_queryID,mql={matches:false,media:media,addListener:function addListener(listener){_queries[id].listeners||(_queries[id].listeners=[]);listener&&_queries[id].listeners.push(listener)},removeListener:function removeListener(listener){var query=_queries[id],i=0,il=0;if(!query){return}il=query.listeners.length;for(;i<il;i++){if(query.listeners[i]===listener){query.listeners.splice(i,1)}}}};if(media===""){mql.matches=true;return mql}mql.matches=_matches(media);_queryID=_queries.push({mql:mql,listeners:null});return mql}}(window));!function(a,b,c){var d=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=c(d):"function"==typeof define&&define.amd?define(function(){return b[a]=c(d)}):b[a]=c(d)}("enquire",this,function(a){"use strict";function b(a,b){var c,d=0,e=a.length;for(d;e>d&&(c=b(a[d],d),c!==!1);d++);}function c(a){return"[object Array]"===Object.prototype.toString.apply(a)}function d(a){return"function"==typeof a}function e(a){this.options=a,!a.deferSetup&&this.setup()}function f(b,c){this.query=b,this.isUnconditional=c,this.handlers=[],this.mql=a(b);var d=this;this.listener=function(a){d.mql=a,d.assess()},this.mql.addListener(this.listener)}function g(){if(!a)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!a("only all").matches}return e.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(a){return this.options===a||this.options.match===a}},f.prototype={addHandler:function(a){var b=new e(a);this.handlers.push(b),this.matches()&&b.on()},removeHandler:function(a){var c=this.handlers;b(c,function(b,d){return b.equals(a)?(b.destroy(),!c.splice(d,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){b(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";b(this.handlers,function(b){b[a]()})}},g.prototype={register:function(a,e,g){var h=this.queries,i=g&&this.browserIsIncapable;return h[a]||(h[a]=new f(a,i)),d(e)&&(e={match:e}),c(e)||(e=[e]),b(e,function(b){h[a].addHandler(b)}),this},unregister:function(a,b){var c=this.queries[a];return c&&(b?c.removeHandler(b):(c.clear(),delete this.queries[a])),this}},new g});(function(o){var K=o.$LAB,y="UseLocalXHR",z="AlwaysPreserveOrder",u="AllowDuplicates",A="CacheBust",B="BasePath",C=/^[^?#]*\//.exec(location.href)[0],D=/^\w+\:\/\/\/?[^\/]+/.exec(C)[0],i=document.head||document.getElementsByTagName("head"),L=o.opera&&Object.prototype.toString.call(o.opera)=="[object Opera]"||"MozAppearance"in document.documentElement.style,q=document.createElement("script"),E=typeof q.preload=="boolean",r=E||q.readyState&&q.readyState=="uninitialized",F=!r&&q.async===true,M=!r&&!F&&!L;function G(a){return Object.prototype.toString.call(a)=="[object Function]"}function H(a){return Object.prototype.toString.call(a)=="[object Array]"}function N(a,c){var b=/^\w+\:\/\//;if(/^\/\/\/?/.test(a)){a=location.protocol+a}else if(!b.test(a)&&a.charAt(0)!="/"){a=(c||"")+a}return b.test(a)?a:(a.charAt(0)=="/"?D:C)+a}function s(a,c){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c}function O(a){var c=false;for(var b=0;b<a.scripts.length;b++){if(a.scripts[b].ready&&a.scripts[b].exec_trigger){c=true;a.scripts[b].exec_trigger();a.scripts[b].exec_trigger=null}}return c}function t(a,c,b,d){a.onload=a.onreadystatechange=function(){if(a.readyState&&a.readyState!="complete"&&a.readyState!="loaded"||c[b])return;a.onload=a.onreadystatechange=null;d()}}function I(a){a.ready=a.finished=true;for(var c=0;c<a.finished_listeners.length;c++){a.finished_listeners[c]()}a.ready_listeners=[];a.finished_listeners=[]}function P(d,f,e,g,h){setTimeout(function(){var a,c=f.real_src,b;if("item"in i){if(!i[0]){setTimeout(arguments.callee,25);return}i=i[0]}a=document.createElement("script");if(f.type)a.type=f.type;if(f.charset)a.charset=f.charset;if(h){if(r){e.elem=a;if(E){a.preload=true;a.onpreload=g}else{a.onreadystatechange=function(){if(a.readyState=="loaded")g()}}a.src=c}else if(h&&c.indexOf(D)==0&&d[y]){b=new XMLHttpRequest;b.onreadystatechange=function(){if(b.readyState==4){b.onreadystatechange=function(){};e.text=b.responseText+"\n//@ sourceURL="+c;g()}};b.open("GET",c);b.send()}else{a.type="text/cache-script";t(a,e,"ready",function(){i.removeChild(a);g()});a.src=c;i.insertBefore(a,i.firstChild)}}else if(F){a.async=false;t(a,e,"finished",g);a.src=c;i.insertBefore(a,i.firstChild)}else{t(a,e,"finished",g);a.src=c;i.insertBefore(a,i.firstChild)}},0)}function J(){var l={},Q=r||M,n=[],p={},m;l[y]=true;l[z]=false;l[u]=false;l[A]=false;l[B]="";function R(a,c,b){var d;function f(){if(d!=null){d=null;I(b)}}if(p[c.src].finished)return;if(!a[u])p[c.src].finished=true;d=b.elem||document.createElement("script");if(c.type)d.type=c.type;if(c.charset)d.charset=c.charset;t(d,b,"finished",f);if(b.elem){b.elem=null}else if(b.text){d.onload=d.onreadystatechange=null;d.text=b.text}else{d.src=c.real_src}i.insertBefore(d,i.firstChild);if(b.text){f()}}function S(c,b,d,f){var e,g,h=function(){b.ready_cb(b,function(){R(c,b,e)})},j=function(){b.finished_cb(b,d)};b.src=N(b.src,c[B]);b.real_src=b.src+(c[A]?(/\?.*$/.test(b.src)?"&_":"?_")+~~(Math.random()*1e9)+"=":"");if(!p[b.src])p[b.src]={items:[],finished:false};g=p[b.src].items;if(c[u]||g.length==0){e=g[g.length]={ready:false,finished:false,ready_listeners:[h],finished_listeners:[j]};P(c,b,e,f?function(){e.ready=true;for(var a=0;a<e.ready_listeners.length;a++){e.ready_listeners[a]()}e.ready_listeners=[]}:function(){I(e)},f)}else{e=g[0];if(e.finished){j()}else{e.finished_listeners.push(j)}}}function v(){var e,g=s(l,{}),h=[],j=0,w=false,k;function T(a,c){a.ready=true;a.exec_trigger=c;x()}function U(a,c){a.ready=a.finished=true;a.exec_trigger=null;for(var b=0;b<c.scripts.length;b++){if(!c.scripts[b].finished)return}c.finished=true;x()}function x(){while(j<h.length){if(G(h[j])){try{h[j++]()}catch(err){}continue}else if(!h[j].finished){if(O(h[j]))continue;break}j++}if(j==h.length){w=false;k=false}}function V(){if(!k||!k.scripts){h.push(k={scripts:[],finished:true})}}e={script:function(){for(var f=0;f<arguments.length;f++){(function(a,c){var b;if(!H(a)){c=[a]}for(var d=0;d<c.length;d++){V();a=c[d];if(G(a))a=a();if(!a)continue;if(H(a)){b=[].slice.call(a);b.unshift(d,1);[].splice.apply(c,b);d--;continue}if(typeof a=="string")a={src:a};a=s(a,{ready:false,ready_cb:T,finished:false,finished_cb:U});k.finished=false;k.scripts.push(a);S(g,a,k,Q&&w);w=true;if(g[z])e.wait()}})(arguments[f],arguments[f])}return e},wait:function(){if(arguments.length>0){for(var a=0;a<arguments.length;a++){h.push(arguments[a])}k=h[h.length-1]}else k=false;x();return e}};return{script:e.script,wait:e.wait,setOptions:function(a){s(a,g);return e}}}m={setGlobalDefaults:function(a){s(a,l);return m},setOptions:function(){return v().setOptions.apply(null,arguments)},script:function(){return v().script.apply(null,arguments)},wait:function(){return v().wait.apply(null,arguments)},queueScript:function(){n[n.length]={type:"script",args:[].slice.call(arguments)};return m},queueWait:function(){n[n.length]={type:"wait",args:[].slice.call(arguments)};return m},runQueue:function(){var a=m,c=n.length,b=c,d;for(;--b>=0;){d=n.shift();a=a[d.type].apply(null,d.args)}return a},noConflict:function(){o.$LAB=K;return m},sandbox:function(){return J()}};return m}o.$LAB=J();(function(a,c,b){if(document.readyState==null&&document[a]){document.readyState="loading";document[a](c,b=function(){document.removeEventListener(c,b,false);document.readyState="complete"},false)}})("addEventListener","DOMContentLoaded")})(this);(function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return Bb.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){vb.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return o(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){sc[a]||(e(b),sc[a]=!0)}function h(a,b){return function(c){return r(a.call(this,c),b)}}function i(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function j(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function k(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function l(){}function m(a,b){b!==!1&&H(a),p(this,a),this._d=new Date(+a._d),uc===!1&&(uc=!0,vb.updateOffset(this),uc=!1)}function n(a){var b=A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=vb.localeData(),this._bubble()}function o(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function p(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Kb.length>0)for(c in Kb)d=Kb[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function s(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function t(a,b){var c;return b=M(b,a),a.isBefore(b)?c=s(a,b):(c=s(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function u(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=vb.duration(c,d),v(this,e,a),this}}function v(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&pb(a,"Date",ob(a,"Date")+f*c),g&&nb(a,ob(a,"Month")+g*c),d&&vb.updateOffset(a,f||g)}function w(a){return"[object Array]"===Object.prototype.toString.call(a)}function x(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function y(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&C(a[d])!==C(b[d]))&&g++;return g+f}function z(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=lc[a]||mc[b]||b}return a}function A(a){var b,d,e={};for(d in a)c(a,d)&&(b=z(d),b&&(e[b]=a[d]));return e}function B(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}vb[b]=function(e,f){var g,h,i=vb._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=vb().utc().set(d,a);return i.call(vb._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function C(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function D(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function E(a,b,c){return jb(vb([a,11,31+b-c]),b,c).week}function F(a){return G(a)?366:365}function G(a){return a%4===0&&a%100!==0||a%400===0}function H(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Db]<0||a._a[Db]>11?Db:a._a[Eb]<1||a._a[Eb]>D(a._a[Cb],a._a[Db])?Eb:a._a[Fb]<0||a._a[Fb]>24||24===a._a[Fb]&&(0!==a._a[Gb]||0!==a._a[Hb]||0!==a._a[Ib])?Fb:a._a[Gb]<0||a._a[Gb]>59?Gb:a._a[Hb]<0||a._a[Hb]>59?Hb:a._a[Ib]<0||a._a[Ib]>999?Ib:-1,a._pf._overflowDayOfYear&&(Cb>b||b>Eb)&&(b=Eb),a._pf.overflow=b)}function I(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid}function J(a){return a?a.toLowerCase().replace("_","-"):a}function K(a){for(var b,c,d,e,f=0;f<a.length;){for(e=J(a[f]).split("-"),b=e.length,c=J(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=L(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&y(e,c,!0)>=b-1)break;b--}f++}return null}function L(a){var b=null;if(!Jb[a]&&Lb)try{b=vb.locale(),require("./locale/"+a),vb.locale(b)}catch(c){}return Jb[a]}function M(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(vb.isMoment(a)||x(a)?+a:+vb(a))-+c,c._d.setTime(+c._d+d),vb.updateOffset(c,!1),c):vb(a).local()}function N(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function O(a){var b,c,d=a.match(Pb);for(b=0,c=d.length;c>b;b++)d[b]=rc[d[b]]?rc[d[b]]:N(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function P(a,b){return a.isValid()?(b=Q(b,a.localeData()),nc[b]||(nc[b]=O(b)),nc[b](a)):a.localeData().invalidDate()}function Q(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Qb.lastIndex=0;d>=0&&Qb.test(a);)a=a.replace(Qb,c),Qb.lastIndex=0,d-=1;return a}function R(a,b){var c,d=b._strict;switch(a){case"Q":return _b;case"DDDD":return bc;case"YYYY":case"GGGG":case"gggg":return d?cc:Tb;case"Y":case"G":case"g":return ec;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?dc:Ub;case"S":if(d)return _b;case"SS":if(d)return ac;case"SSS":if(d)return bc;case"DDD":return Sb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Wb;case"a":case"A":return b._locale._meridiemParse;case"x":return Zb;case"X":return $b;case"Z":case"ZZ":return Xb;case"T":return Yb;case"SSSS":return Vb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?ac:Rb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rb;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp($(Z(a.replace("\\","")),"i"))}}function S(a){a=a||"";var b=a.match(Xb)||[],c=b[b.length-1]||[],d=(c+"").match(jc)||["-",0,0],e=+(60*d[1])+C(d[2]);return"+"===d[0]?e:-e}function T(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Db]=3*(C(b)-1));break;case"M":case"MM":null!=b&&(e[Db]=C(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Db]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Eb]=C(b));break;case"Do":null!=b&&(e[Eb]=C(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=C(b));break;case"YY":e[Cb]=vb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Cb]=C(b);break;case"a":case"A":c._meridiem=b;break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Fb]=C(b);break;case"m":case"mm":e[Gb]=C(b);break;case"s":case"ss":e[Hb]=C(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Ib]=C(1e3*("0."+b));break;case"x":c._d=new Date(C(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=S(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=C(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=vb.parseTwoDigitYear(b)}}function U(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Cb],jb(vb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Cb],jb(vb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=kb(d,e,f,h,g),a._a[Cb]=i.year,a._dayOfYear=i.dayOfYear}function V(a){var c,d,e,f,g=[];if(!a._d){for(e=X(a),a._w&&null==a._a[Eb]&&null==a._a[Db]&&U(a),a._dayOfYear&&(f=b(a._a[Cb],e[Cb]),a._dayOfYear>F(f)&&(a._pf._overflowDayOfYear=!0),d=fb(f,0,a._dayOfYear),a._a[Db]=d.getUTCMonth(),a._a[Eb]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Fb]&&0===a._a[Gb]&&0===a._a[Hb]&&0===a._a[Ib]&&(a._nextDay=!0,a._a[Fb]=0),a._d=(a._useUTC?fb:eb).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Fb]=24)}}function W(a){var b;a._d||(b=A(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],V(a))}function X(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function Y(b){if(b._f===vb.ISO_8601)return void ab(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Q(b._f,b._locale).match(Pb)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(R(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),rc[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),T(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[Fb]<=12&&(b._pf.bigHour=a),b._a[Fb]=k(b._locale,b._a[Fb],b._meridiem),V(b),H(b)}function Z(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function $(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],Y(b),I(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));o(a,c||b)}function ab(a){var b,c,d=a._i,e=fc.exec(d);if(e){for(a._pf.iso=!0,b=0,c=hc.length;c>b;b++)if(hc[b][1].exec(d)){a._f=hc[b][0]+(e[6]||" ");break}for(b=0,c=ic.length;c>b;b++)if(ic[b][1].exec(d)){a._f+=ic[b][0];break}d.match(Xb)&&(a._f+="Z"),Y(a)}else a._isValid=!1}function bb(a){ab(a),a._isValid===!1&&(delete a._isValid,vb.createFromInputFallback(a))}function cb(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function db(b){var c,d=b._i;d===a?b._d=new Date:x(d)?b._d=new Date(+d):null!==(c=Mb.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?bb(b):w(d)?(b._a=cb(d.slice(0),function(a){return parseInt(a,10)}),V(b)):"object"==typeof d?W(b):"number"==typeof d?b._d=new Date(d):vb.createFromInputFallback(b)}function eb(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fb(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function gb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function hb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ib(a,b,c){var d=vb.duration(a).abs(),e=Ab(d.as("s")),f=Ab(d.as("m")),g=Ab(d.as("h")),h=Ab(d.as("d")),i=Ab(d.as("M")),j=Ab(d.as("y")),k=e<oc.s&&["s",e]||1===f&&["m"]||f<oc.m&&["mm",f]||1===g&&["h"]||g<oc.h&&["hh",g]||1===h&&["d"]||h<oc.d&&["dd",h]||1===i&&["M"]||i<oc.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,hb.apply({},k)}function jb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=vb(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function kb(a,b,c,d,e){var f,g,h=fb(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:F(a-1)+g}}function lb(b){var c,d=b._i,e=b._f;return b._locale=b._locale||vb.localeData(b._l),null===d||e===a&&""===d?vb.invalid({nullInput:!0}):("string"==typeof d&&(b._i=d=b._locale.preparse(d)),vb.isMoment(d)?new m(d,!0):(e?w(e)?_(b):Y(b):db(b),c=new m(b),c._nextDay&&(c.add(1,"d"),c._nextDay=a),c))}function mb(a,b){var c,d;if(1===b.length&&w(b[0])&&(b=b[0]),!b.length)return vb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function nb(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),D(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function ob(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function pb(a,b,c){return"Month"===b?nb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function qb(a,b){return function(c){return null!=c?(pb(this,a,c),vb.updateOffset(this,b),this):ob(this,a)}}function rb(a){return 400*a/146097}function sb(a){return 146097*a/400}function tb(a){vb.duration.fn[a]=function(){return this._data[a]}}function ub(a){"undefined"==typeof ender&&(wb=zb.moment,zb.moment=a?f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",vb):vb)}for(var vb,wb,xb,yb="2.9.0",zb="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Ab=Math.round,Bb=Object.prototype.hasOwnProperty,Cb=0,Db=1,Eb=2,Fb=3,Gb=4,Hb=5,Ib=6,Jb={},Kb=[],Lb="undefined"!=typeof module&&module&&module.exports,Mb=/^\/?Date\((\-?\d+)/i,Nb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ob=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Pb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Qb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rb=/\d\d?/,Sb=/\d{1,3}/,Tb=/\d{1,4}/,Ub=/[+\-]?\d{1,6}/,Vb=/\d+/,Wb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xb=/Z|[\+\-]\d\d:?\d\d/gi,Yb=/T/i,Zb=/[\+\-]?\d+/,$b=/[\+\-]?\d+(\.\d{1,3})?/,_b=/\d/,ac=/\d\d/,bc=/\d{3}/,cc=/\d{4}/,dc=/[+-]?\d{6}/,ec=/[+-]?\d+/,fc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gc="YYYY-MM-DDTHH:mm:ssZ",hc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ic=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],jc=/([\+\-]|\d\d)/gi,kc=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),lc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},mc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},nc={},oc={s:45,m:45,h:22,d:26,M:11},pc="DDD w W M D d".split(" "),qc="M D H h m s w W".split(" "),rc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+r(Math.abs(a),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return r(C(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+":"+r(C(a)%60,2)},ZZ:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+r(C(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},sc={},tc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],uc=!1;pc.length;)xb=pc.pop(),rc[xb+"o"]=i(rc[xb],xb);for(;qc.length;)xb=qc.pop(),rc[xb+xb]=h(rc[xb],2);rc.DDDD=h(rc.DDD,3),o(l.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=vb.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=vb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return jb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),vb=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),lb(g)},vb.suppressDeprecationWarnings=!1,vb.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),vb.min=function(){var a=[].slice.call(arguments,0);return mb("isBefore",a)},vb.max=function(){var a=[].slice.call(arguments,0);return mb("isAfter",a)},vb.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),lb(g).utc()},vb.unix=function(a){return vb(1e3*a)},vb.duration=function(a,b){var d,e,f,g,h=a,i=null;return vb.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Nb.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:C(i[Eb])*d,h:C(i[Fb])*d,m:C(i[Gb])*d,s:C(i[Hb])*d,ms:C(i[Ib])*d}):(i=Ob.exec(a))?(d="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(g=t(vb(h.from),vb(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new n(h),vb.isDuration(a)&&c(a,"_locale")&&(e._locale=a._locale),e},vb.version=yb,vb.defaultFormat=gc,vb.ISO_8601=function(){},vb.momentProperties=Kb,vb.updateOffset=function(){},vb.relativeTimeThreshold=function(b,c){return oc[b]===a?!1:c===a?oc[b]:(oc[b]=c,!0)},vb.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return vb.locale(a,b)}),vb.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?vb.defineLocale(a,b):vb.localeData(a),c&&(vb.duration._locale=vb._locale=c)),vb._locale._abbr},vb.defineLocale=function(a,b){return null!==b?(b.abbr=a,Jb[a]||(Jb[a]=new l),Jb[a].set(b),vb.locale(a),Jb[a]):(delete Jb[a],null)},vb.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return vb.localeData(a)}),vb.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return vb._locale;if(!w(a)){if(b=L(a))return b;a=[a]}return K(a)},vb.isMoment=function(a){return a instanceof m||null!=a&&c(a,"_isAMomentObject")},vb.isDuration=function(a){return a instanceof n};for(xb=tc.length-1;xb>=0;--xb)B(tc[xb]);vb.normalizeUnits=function(a){return z(a)},vb.invalid=function(a){var b=vb.utc(0/0);return null!=a?o(b._pf,a):b._pf.userInvalidated=!0,b},vb.parseZone=function(){return vb.apply(null,arguments).parseZone()},vb.parseTwoDigitYear=function(a){return C(a)+(C(a)>68?1900:2e3)},vb.isDate=x,o(vb.fn=m.prototype,{clone:function(){return vb(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=vb(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&y(this._a,(this._isUTC?vb.utc(this._a):vb(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(a){var b=P(this,a||vb.defaultFormat);return this.localeData().postformat(b)},add:u(1,"add"),subtract:u(-1,"subtract"),diff:function(a,b,c){var d,e,f=M(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=j(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:q(e)},from:function(a,b){return vb.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(vb(),a)},calendar:function(a){var b=a||vb(),c=M(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,vb(b)))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=gb(a,this.localeData()),this.add(a-b,"d")):b},month:qb("Month",!0),startOf:function(a){switch(a=z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return b=z(b),b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")},isAfter:function(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+this>+a):(c=vb.isMoment(a)?+a:+vb(a),c<+this.clone().startOf(b))},isBefore:function(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+a>+this):(c=vb.isMoment(a)?+a:+vb(a),+this.clone().endOf(b)<c)},isBetween:function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},isSame:function(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+this===+a):(c=+vb(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=vb.apply(null,arguments),this>a?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=vb.apply(null,arguments),a>this?this:a}),zone:f("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}),utcOffset:function(a,b){var c,d=this._offset||0;return null!=a?("string"==typeof a&&(a=S(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.add(c,"m"),d!==a&&(!b||this._changeInProgress?v(this,vb.duration(a-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,vb.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?d:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(S(this._i)),this},hasAlignedHourOffset:function(a){return a=a?vb(a).utcOffset():0,(this.utcOffset()-a)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(a){var b=Ab((vb(this).startOf("day")-vb(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=jb(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=jb(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=jb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return E(this.year(),a.dow,a.doy)},get:function(a){return a=z(a),this[a]()},set:function(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else a=z(a),"function"==typeof this[a]&&this[a](b);return this},locale:function(b){var c;return b===a?this._locale._abbr:(c=vb.localeData(b),null!=c&&(this._locale=c),this)},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),vb.fn.millisecond=vb.fn.milliseconds=qb("Milliseconds",!1),vb.fn.second=vb.fn.seconds=qb("Seconds",!1),vb.fn.minute=vb.fn.minutes=qb("Minutes",!1),vb.fn.hour=vb.fn.hours=qb("Hours",!0),vb.fn.date=qb("Date",!0),vb.fn.dates=f("dates accessor is deprecated. Use date instead.",qb("Date",!0)),vb.fn.year=qb("FullYear",!0),vb.fn.years=f("years accessor is deprecated. Use year instead.",qb("FullYear",!0)),vb.fn.days=vb.fn.day,vb.fn.months=vb.fn.month,vb.fn.weeks=vb.fn.week,vb.fn.isoWeeks=vb.fn.isoWeek,vb.fn.quarters=vb.fn.quarter,vb.fn.toJSON=vb.fn.toISOString,vb.fn.isUTC=vb.fn.isUtc,o(vb.duration.fn=n.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=q(d/1e3),g.seconds=a%60,b=q(a/60),g.minutes=b%60,c=q(b/60),g.hours=c%24,e+=q(c/24),h=q(rb(e)),e-=q(sb(h)),f+=q(e/30),e%=30,h+=q(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return q(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(a){var b=ib(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=vb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=vb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=z(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=z(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*rb(b),"month"===a?c:c/12;switch(b=this._days+Math.round(sb(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:vb.fn.lang,locale:vb.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),vb.duration.fn.toString=vb.duration.fn.toISOString;for(xb in kc)c(kc,xb)&&tb(xb.toLowerCase());vb.duration.fn.asMilliseconds=function(){return this.as("ms")},vb.duration.fn.asSeconds=function(){return this.as("s")},vb.duration.fn.asMinutes=function(){return this.as("m")},vb.duration.fn.asHours=function(){return this.as("h")},vb.duration.fn.asDays=function(){return this.as("d")},vb.duration.fn.asWeeks=function(){return this.as("weeks")},vb.duration.fn.asMonths=function(){return this.as("M")},vb.duration.fn.asYears=function(){return this.as("y")},vb.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===C(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Lb?module.exports=vb:"function"==typeof define&&define.amd?(define(function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(zb.moment=wb),vb}),ub(!0)):ub()}).call(this);"format global";"deps angular";"deps moment";!function(){"use strict";function a(a,b){return a.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",b).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(b,c,d,e,f){return function(g,h,i){function j(){var a;if(e.serverTime){var b=(new Date).getTime(),d=b-t+e.serverTime;a=c(d)}else a=c();return a}function k(){p&&(b.clearTimeout(p),p=null)}function l(a){h.text(a.from(j(),r)),s&&!h.attr("title")&&h.attr("title",a.local().format(s));var c=Math.abs(j().diff(a,"minute")),d=3600;1>c?d=1:60>c?d=30:180>c&&(d=300),p=b.setTimeout(function(){l(a)},1e3*d)}function m(a){w&&h.attr("datetime",a)}function n(){if(k(),o){var a=d.preprocessDate(o,u,q);l(a),m(a.toISOString())}}var o,p=null,q=f.format,r=e.withoutSuffix,s=e.titleFormat,t=(new Date).getTime(),u=f.preprocess,v=i.amTimeAgo,w="TIME"===h[0].nodeName.toUpperCase();g.$watch(v,function(a){return"undefined"==typeof a||null===a||""===a?(k(),void(o&&(h.text(""),m(""),o=null))):(o=a,void n())}),a.isDefined(i.amWithoutSuffix)&&g.$watch(i.amWithoutSuffix,function(a){"boolean"==typeof a?(r=a,n()):r=e.withoutSuffix}),i.$observe("amFormat",function(a){"undefined"!=typeof a&&(q=a,n())}),i.$observe("amPreprocess",function(a){u=a,n()}),g.$on("$destroy",function(){k()}),g.$on("amMoment:localeChanged",function(){n()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(b,c,d,e){this.preprocessors={utc:b.utc,unix:b.unix},this.changeLocale=function(d,e){var f=b.locale(d,e);return a.isDefined(d)&&c.$broadcast("amMoment:localeChanged"),f},this.changeTimezone=function(a){e.timezone=a,c.$broadcast("amMoment:timezoneChanged")},this.preprocessDate=function(c,f,g){return a.isUndefined(f)&&(f=e.preprocess),this.preprocessors[f]?this.preprocessors[f](c,g):(f&&d.warn("angular-moment: Ignoring unsupported value for preprocess: "+f),!isNaN(parseFloat(c))&&isFinite(c)?b(parseInt(c,10)):b(c,g))},this.applyTimezone=function(a){var b=e.timezone;return a&&b&&(a.tz?a=a.tz(b):d.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),a}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,d);var e=a(c);return e.isValid()?b.applyTimezone(e).calendar():""}return d.$stateful=c.statefulFilters,d}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e,f,g,h){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,g);var i=a(c);if(!i.isValid())return"";var j;if("undefined"==typeof d||null===d)j=a();else if(d=b.preprocessDate(d,h),j=a(d),!j.isValid())return"";return b.applyTimezone(i).diff(b.applyTimezone(j),e,f)}return d.$stateful=c.statefulFilters,d}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,e);var f=a(c);return f.isValid()?b.applyTimezone(f).format(d):""}return d.$stateful=c.statefulFilters,d}]).filter("amDurationFormat",["moment","angularMomentConfig",function(a,b){function c(b,c,d){return"undefined"==typeof b||null===b?"":a.duration(b,c).humanize(d)}return c.$stateful=b.statefulFilters,c}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,d);var f=a(c);return f.isValid()?b.applyTimezone(f).fromNow(e):""}return d.$stateful=c.statefulFilters,d}])}"function"==typeof define&&define.amd?define(["angular","moment"],a):"undefined"!=typeof module&&module&&module.exports?(a(angular,require("moment")),module.exports="angularMoment"):a(angular,window.moment)}();var mod;mod=angular.module("infinite-scroll",[]),mod.directive("infiniteScroll",["$rootScope","$window","$timeout",function(i,n,e){return{link:function(t,l,o){var r,c,f,a;return n=angular.element(n),f=0,null!=o.infiniteScrollDistance&&t.$watch(o.infiniteScrollDistance,function(i){return f=parseInt(i,10)}),a=!0,r=!1,null!=o.infiniteScrollDisabled&&t.$watch(o.infiniteScrollDisabled,function(i){return a=!i,a&&r?(r=!1,c()):void 0}),c=function(){var e,c,u,d;return d=n.height()+n.scrollTop(),e=l.offset().top+l.height(),c=e-d,u=n.height()*f>=c,u&&a?i.$$phase?t.$eval(o.infiniteScroll):t.$apply(o.infiniteScroll):u?r=!0:void 0},n.on("scroll",c),t.$on("$destroy",function(){return n.off("scroll",c)}),e(function(){return o.infiniteScrollImmediateCheck?t.$eval(o.infiniteScrollImmediateCheck)?c():void 0:c()},0)}}}]);(function(){function initNgModules(element){var elements=[element],moduleElements=[],modules=[],names=["ng:module","ng-module","x-ng-module","data-ng-module","ng:modules","ng-modules","x-ng-modules","data-ng-modules"],NG_MODULE_CLASS_REGEXP=/\sng[:\-]module[s](:\s*([\w\d_]+);?)?\s/;function append(element){element&&elements.push(element)}for(var i=0;i<names.length;i++){var name=names[i];append(document.getElementById(name));name=name.replace(":","\\:");if(element.querySelectorAll){var elements2;elements2=element.querySelectorAll("."+name);for(var j=0;j<elements2.length;j++)append(elements2[j]);elements2=element.querySelectorAll("."+name+"\\:");for(var j=0;j<elements2.length;j++)append(elements2[j]);elements2=element.querySelectorAll("["+name+"]");for(var j=0;j<elements2.length;j++)append(elements2[j])}}for(var i=0;i<elements.length;i++){var element=elements[i];var className=" "+element.className+" ";var match=NG_MODULE_CLASS_REGEXP.exec(className);if(match){moduleElements.push(element);modules.push((match[2]||"").replace(/\s+/g,","))}else{if(element.attributes){for(var j=0;j<element.attributes.length;j++){var attr=element.attributes[j];if(names.indexOf(attr.name)!=-1){moduleElements.push(element);modules.push(attr.value)}}}}}for(var i=0;i<moduleElements.length;i++){var moduleElement=moduleElements[i];var module=modules[i].replace(/ /g,"").split(",");angular.bootstrap(moduleElement,module)}}angular.element(document).ready(function(){initNgModules(document)})})();(function(p,c,C){"use strict";function v(r,h,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,f,b,d,y){function z(){k&&(g.cancel(k),k=null);l&&(l.$destroy(),l=null);m&&(k=g.leave(m),k.then(function(){k=null}),m=null)}function x(){var b=r.current&&r.current.locals;if(c.isDefined(b&&b.$template)){var b=a.$new(),d=r.current;m=y(b,function(b){g.enter(b,null,m||f).then(function(){!c.isDefined(t)||t&&!a.$eval(t)||h()});z()});l=d.scope=b;l.$emit("$viewContentLoaded");l.$eval(w)}else z()}var l,m,k,t=b.autoscroll,w=b.onload||"";a.$on("$routeChangeSuccess",x);x()}}}function A(c,h,g){return{restrict:"ECA",priority:-400,link:function(a,f){var b=g.current,d=b.locals;f.html(d.$template);var y=c(f.contents());b.controller&&(d.$scope=a,d=h(b.controller,d),b.controllerAs&&(a[b.controllerAs]=d),f.data("$ngControllerController",d),f.children().data("$ngControllerController",d));y(a)}}}p=c.module("ngRoute",["ng"]).provider("$route",function(){function r(a,f){return c.extend(Object.create(a),f)}function h(a,c){var b=c.caseInsensitiveMatch,d={originalPath:a,regexp:a},g=d.keys=[];a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,c,b,d){a="?"===d?d:null;d="*"===d?d:null;g.push({name:b,optional:!!a});c=c||"";return""+(a?"":c)+"(?:"+(a?c:"")+(d&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1");d.regexp=new RegExp("^"+a+"$",b?"i":"");return d}var g={};this.when=function(a,f){var b=c.copy(f);c.isUndefined(b.reloadOnSearch)&&(b.reloadOnSearch=!0);c.isUndefined(b.caseInsensitiveMatch)&&(b.caseInsensitiveMatch=this.caseInsensitiveMatch);g[a]=c.extend(b,a&&h(a,b));if(a){var d="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";g[d]=c.extend({redirectTo:a},h(d,b))}return this};this.caseInsensitiveMatch=!1;this.otherwise=function(a){"string"===typeof a&&(a={redirectTo:a});this.when(null,a);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(a,f,b,d,h,p,x){function l(b){var e=s.current;(v=(n=k())&&e&&n.$$route===e.$$route&&c.equals(n.pathParams,e.pathParams)&&!n.reloadOnSearch&&!w)||!e&&!n||a.$broadcast("$routeChangeStart",n,e).defaultPrevented&&b&&b.preventDefault()}function m(){var u=s.current,e=n;if(v)u.params=e.params,c.copy(u.params,b),a.$broadcast("$routeUpdate",u);else if(e||u)w=!1,(s.current=e)&&e.redirectTo&&(c.isString(e.redirectTo)?f.path(t(e.redirectTo,e.params)).search(e.params).replace():f.url(e.redirectTo(e.pathParams,f.path(),f.search())).replace()),d.when(e).then(function(){if(e){var a=c.extend({},e.resolve),b,f;c.forEach(a,function(b,e){a[e]=c.isString(b)?h.get(b):h.invoke(b,null,null,e)});c.isDefined(b=e.template)?c.isFunction(b)&&(b=b(e.params)):c.isDefined(f=e.templateUrl)&&(c.isFunction(f)&&(f=f(e.params)),c.isDefined(f)&&(e.loadedTemplateUrl=x.valueOf(f),b=p(f)));c.isDefined(b)&&(a.$template=b);return d.all(a)}}).then(function(f){e==s.current&&(e&&(e.locals=f,c.copy(e.params,b)),a.$broadcast("$routeChangeSuccess",e,u))},function(b){e==s.current&&a.$broadcast("$routeChangeError",e,u,b)})}function k(){var a,b;c.forEach(g,function(d,g){var q;if(q=!b){var h=f.path();q=d.keys;var l={};if(d.regexp)if(h=d.regexp.exec(h)){for(var k=1,m=h.length;k<m;++k){var n=q[k-1],p=h[k];n&&p&&(l[n.name]=p)}q=l}else q=null;else q=null;q=a=q}q&&(b=r(d,{params:c.extend({},f.search(),a),pathParams:a}),b.$$route=d)});return b||g[null]&&r(g[null],{params:{},pathParams:{}})}function t(a,b){var d=[];c.forEach((a||"").split(":"),function(a,c){if(0===c)d.push(a);else{var f=a.match(/(\w+)(?:[?*])?(.*)/),g=f[1];d.push(b[g]);d.push(f[2]||"");delete b[g]}});return d.join("")}var w=!1,n,v,s={routes:g,reload:function(){w=!0;a.$evalAsync(function(){l();m()})},updateParams:function(a){if(this.current&&this.current.$$route)a=c.extend({},this.current.params,a),f.path(t(this.current.$$route.originalPath,a)),f.search(a);else throw B("norout")}};a.$on("$locationChangeStart",l);a.$on("$locationChangeSuccess",m);return s}]});var B=c.$$minErr("ngRoute");p.provider("$routeParams",function(){this.$get=function(){return{}}});p.directive("ngView",v);p.directive("ngView",A);v.$inject=["$route","$anchorScroll","$animate"];A.$inject=["$compile","$controller","$route"]})(window,window.angular);(function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var k=e.which;switch(k){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return true}if(e.metaKey)return true;return false},isFunctionKey:function(k){k=k.which?k.which:k;return k>=112&&k<=123},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k)}};if(angular.element.prototype.querySelectorAll===undefined){angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))}}if(angular.element.prototype.closest===undefined){angular.element.prototype.closest=function(selector){var elem=this[0];var matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;while(elem){if(matchesSelector.bind(elem)(selector)){return elem}else{elem=elem.parentElement}}return false}}var latestId=0;var uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:true,sortable:false,placeholder:"",refreshDelay:1e3,closeOnSelect:true,dropdownPosition:"auto",generateId:function(){return latestId++},appendToBody:false}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var error=minErr.apply(this,arguments);var message=error.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query&&matchItem?matchItem.replace(new RegExp(escapeRegexp(query),"gi"),'<span class="ui-select-highlight">$&</span>'):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/choices.tpl.html"},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");return function link(scope,element,attrs,$select,transcludeFn){var groupByExp=attrs.groupBy;var groupFilterExp=attrs.groupFilter;$select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp);$select.disableChoiceExpression=attrs.uiDisableChoice;$select.onHighlightCallback=attrs.onHighlight;$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition;if(groupByExp){var groups=element.querySelectorAll(".ui-select-choices-group");if(groups.length!==1)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}var choices=element.querySelectorAll(".ui-select-choices-row");if(choices.length!==1){throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length)}choices.attr("ng-repeat",$select.parserResult.repeatExpression(groupByExp)).attr("ng-if","$select.open").attr("ng-click","$select.select("+$select.parserResult.itemName+",false,$event)");var rowsInner=element.querySelectorAll(".ui-select-choices-row-inner");if(rowsInner.length!==1)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);rowsInner.attr("uis-transclude-append","");$compile(element,transcludeFn)(scope);scope.$watch("$select.search",function(newValue){if(newValue&&!$select.open&&$select.multiple)$select.activate(false,true);$select.activeIndex=$select.tagging.isActivated?-1:0;$select.refresh(attrs.refresh)});attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=refreshDelay!==undefined?refreshDelay:uiSelectConfig.refreshDelay});attrs.$observe("enableGroupBy",function(){var enableGroupBy=scope.$eval(attrs.enableGroupBy);if(enableGroupBy!==undefined){$select.isGrouped=!!enableGroupBy}})}}}}]);uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse",function($scope,$element,$timeout,$filter,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse){var ctrl=this;var EMPTY_SEARCH="";ctrl.placeholder=uiSelectConfig.placeholder;ctrl.searchEnabled=uiSelectConfig.searchEnabled;ctrl.sortable=uiSelectConfig.sortable;ctrl.refreshDelay=uiSelectConfig.refreshDelay;ctrl.removeSelected=false;ctrl.closeOnSelect=true;ctrl.search=EMPTY_SEARCH;ctrl.activeIndex=0;ctrl.items=[];ctrl.open=false;ctrl.focus=false;ctrl.disabled=false;ctrl.selected=undefined;ctrl.dropdownPosition="auto";ctrl.focusser=undefined;ctrl.resetSearchInput=true;ctrl.multiple=undefined;ctrl.disableChoiceExpression=undefined;ctrl.tagging={isActivated:false,fct:undefined};ctrl.taggingTokens={isActivated:false,tokens:undefined};ctrl.lockChoiceExpression=undefined;ctrl.clickTriggeredSelect=false;ctrl.$filter=$filter;ctrl.searchInput=$element.querySelectorAll("input.ui-select-search");if(ctrl.searchInput.length!==1){throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length)}ctrl.isEmpty=function(){return angular.isUndefined(ctrl.selected)||ctrl.selected===null||ctrl.selected===""};function _resetSearchInput(){if(ctrl.resetSearchInput||ctrl.resetSearchInput===undefined&&uiSelectConfig.resetSearchInput){ctrl.search=EMPTY_SEARCH;if(ctrl.selected&&ctrl.items.length&&!ctrl.multiple){ctrl.activeIndex=ctrl.items.indexOf(ctrl.selected)}}}function _groupsFilter(groups,groupNames){var i,j,result=[];for(i=0;i<groupNames.length;i++){for(j=0;j<groups.length;j++){if(groups[j].name==[groupNames[i]]){result.push(groups[j])}}}return result}ctrl.activate=function(initSearchValue,avoidReset){if(!ctrl.disabled&&!ctrl.open){if(!avoidReset)_resetSearchInput();$scope.$broadcast("uis:activate");ctrl.open=true;ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex;if(ctrl.activeIndex===-1&&ctrl.taggingLabel!==false){ctrl.activeIndex=0}$timeout(function(){ctrl.search=initSearchValue||ctrl.search;ctrl.searchInput[0].focus();if(!ctrl.tagging.isActivated&&ctrl.items.length>1){_ensureHighlightVisible()}})}};ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]};ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){function updateGroups(items){var groupFn=$scope.$eval(groupByExp);ctrl.groups=[];angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn];var group=ctrl.findGroupByName(groupName);if(group){group.items.push(item)}else{ctrl.groups.push({name:groupName,items:[item]})}});if(groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);if(angular.isFunction(groupFilterFn)){ctrl.groups=groupFilterFn(ctrl.groups)}else if(angular.isArray(groupFilterFn)){ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn)}}ctrl.items=[];ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}function setPlainItems(items){ctrl.items=items}ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems;ctrl.parserResult=RepeatParser.parse(repeatAttr);ctrl.isGrouped=!!groupByExp;ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source;var createArrayFromObject=function(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};result[ctrl.parserResult.keyName]=v;result.value=origSrc[v];return result})};if(ctrl.parserResult.keyName){createArrayFromObject();ctrl.parserResult.source=$parse("$uisSource"+ctrl.parserResult.filters);$scope.$watch(originalSource,function(newVal,oldVal){if(newVal!==oldVal)createArrayFromObject()},true)}ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.removeSelected){ctrl.setItemsFn(data)}else{if(data!==undefined){var filteredItems=data.filter(function(i){return selectedItems&&selectedItems.indexOf(i)<0});ctrl.setItemsFn(filteredItems)}}if(ctrl.dropdownPosition==="auto"||ctrl.dropdownPosition==="up"){$scope.calculateDropdownPos()}};$scope.$watchCollection(ctrl.parserResult.source,function(items){if(items===undefined||items===null){ctrl.items=[]}else{if(!angular.isArray(items)){throw uiSelectMinErr("items","Expected an array but got '{0}'.",items)}else{ctrl.refreshItems(items);ctrl.ngModel.$modelValue=null}}})};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){if(refreshAttr!==undefined){if(_refreshDelayPromise){$timeout.cancel(_refreshDelayPromise)}_refreshDelayPromise=$timeout(function(){$scope.$eval(refreshAttr)},ctrl.refreshDelay)}};ctrl.isActive=function(itemScope){if(!ctrl.open){return false}var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isActive=itemIndex===ctrl.activeIndex;if(!isActive||itemIndex<0&&ctrl.taggingLabel!==false||itemIndex<0&&ctrl.taggingLabel===false){return false}if(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)){itemScope.$eval(ctrl.onHighlightCallback)}return isActive};ctrl.isDisabled=function(itemScope){if(!ctrl.open)return;var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isDisabled=false;var item;if(itemIndex>=0&&!angular.isUndefined(ctrl.disableChoiceExpression)){item=ctrl.items[itemIndex];isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression);item._uiSelectChoiceDisabled=isDisabled}return isDisabled};ctrl.select=function(item,skipFocusser,$event){if(item===undefined||!item._uiSelectChoiceDisabled){if(!ctrl.items&&!ctrl.search)return;if(!item||!item._uiSelectChoiceDisabled){if(ctrl.tagging.isActivated){if(ctrl.taggingLabel===false){if(ctrl.activeIndex<0){item=ctrl.tagging.fct!==undefined?ctrl.tagging.fct(ctrl.search):ctrl.search;if(!item||angular.equals(ctrl.items[0],item)){return}}else{item=ctrl.items[ctrl.activeIndex]}}else{if(ctrl.activeIndex===0){if(item===undefined)return;if(ctrl.tagging.fct!==undefined&&typeof item==="string"){item=ctrl.tagging.fct(ctrl.search);if(!item)return}else if(typeof item==="string"){item=item.replace(ctrl.taggingLabel,"").trim()}}}if(ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length>0){ctrl.close(skipFocusser);return}}$scope.$broadcast("uis:select",item);var locals={};locals[ctrl.parserResult.itemName]=item;$timeout(function(){ctrl.onSelectCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals)})});if(ctrl.closeOnSelect){ctrl.close(skipFocusser)}if($event&&$event.type==="click"){ctrl.clickTriggeredSelect=true}}}};ctrl.close=function(skipFocusser){if(!ctrl.open)return;if(ctrl.ngModel&&ctrl.ngModel.$setTouched)ctrl.ngModel.$setTouched();_resetSearchInput();ctrl.open=false;$scope.$broadcast("uis:close",skipFocusser)};ctrl.setFocus=function(){if(!ctrl.focus)ctrl.focusInput[0].focus()};ctrl.clear=function($event){ctrl.select(undefined);$event.stopPropagation();$timeout(function(){ctrl.focusser[0].focus()},0,false)};ctrl.toggle=function(e){if(ctrl.open){ctrl.close();e.preventDefault();e.stopPropagation()}else{ctrl.activate()}};ctrl.isLocked=function(itemScope,itemIndex){var isLocked,item=ctrl.selected[itemIndex];if(item&&!angular.isUndefined(ctrl.lockChoiceExpression)){isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression);item._uiSelectChoiceLocked=isLocked}return isLocked};var sizeWatch=null;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.searchInput.parent().parent()[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent},updateIfVisible=function(containerWidth){if(containerWidth===0){return false}var inputWidth=containerWidth-input.offsetLeft-10;if(inputWidth<50)inputWidth=containerWidth;ctrl.searchInput.css("width",inputWidth+"px");return true};ctrl.searchInput.css("width","10px");$timeout(function(){if(sizeWatch===null&&!updateIfVisible(calculateContainerWidth())){sizeWatch=$scope.$watch(calculateContainerWidth,function(containerWidth){if(updateIfVisible(containerWidth)){sizeWatch();sizeWatch=null}})}})};function _handleDropDownSelection(key){var processed=true;switch(key){case KEY.DOWN:if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex<ctrl.items.length-1){ctrl.activeIndex++}break;case KEY.UP:if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex>0||ctrl.search.length===0&&ctrl.tagging.isActivated&&ctrl.activeIndex>-1){ctrl.activeIndex--}break;case KEY.TAB:if(!ctrl.multiple||ctrl.open)ctrl.select(ctrl.items[ctrl.activeIndex],true);break;case KEY.ENTER:if(ctrl.open&&(ctrl.tagging.isActivated||ctrl.activeIndex>=0)){ctrl.select(ctrl.items[ctrl.activeIndex])}else{ctrl.activate(false,true)}break;case KEY.ESC:ctrl.close();break;default:processed=false}return processed}ctrl.searchInput.on("keydown",function(e){var key=e.which;$scope.$apply(function(){var tagged=false;if(ctrl.items.length>0||ctrl.tagging.isActivated){_handleDropDownSelection(key);if(ctrl.taggingTokens.isActivated){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){if(ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]){if(ctrl.search.length>0){tagged=true}}}if(tagged){$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();if(ctrl.tagging.fct){newItem=ctrl.tagging.fct(newItem)}if(newItem)ctrl.select(newItem,true)})}}}});if(KEY.isVerticalMovement(key)&&ctrl.items.length>0){_ensureHighlightVisible()}if(key===KEY.ENTER||key===KEY.ESC){e.preventDefault();e.stopPropagation()}});ctrl.searchInput.on("paste",function(e){var data=e.originalEvent.clipboardData.getData("text/plain");if(data&&data.length>0&&ctrl.taggingTokens.isActivated&&ctrl.tagging.fct){var items=data.split(ctrl.taggingTokens.tokens[0]);if(items&&items.length>0){angular.forEach(items,function(item){var newItem=ctrl.tagging.fct(item);if(newItem){ctrl.select(newItem,true)}});e.preventDefault();e.stopPropagation()}}});ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})});function _ensureHighlightVisible(){var container=$element.querySelectorAll(".ui-select-choices-content");var choices=container.querySelectorAll(".ui-select-choices-row");if(choices.length<1){throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length)}if(ctrl.activeIndex<0){return}var highlighted=choices[ctrl.activeIndex];var posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop;var height=container[0].offsetHeight;if(posY>height){container[0].scrollTop+=posY-height}else if(posY<highlighted.clientHeight){if(ctrl.isGrouped&&ctrl.activeIndex===0)container[0].scrollTop=0;else container[0].scrollTop-=highlighted.clientHeight-posY}}$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste")})}]);uis.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return theme+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:true,transclude:true,require:["uiSelect","^ngModel"],scope:true,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(tElement,tAttrs){if(angular.isDefined(tAttrs.multiple))tElement.append("<ui-select-multiple/>").removeAttr("multiple");else tElement.append("<ui-select-single/>");if(tAttrs.inputId)tElement.querySelectorAll("input.ui-select-search")[0].id=tAttrs.inputId;return function(scope,element,attrs,ctrls,transcludeFn){var $select=ctrls[0];var ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId();$select.baseTitle=attrs.title||"Select box";$select.focusserTitle=$select.baseTitle+" focus";$select.focusserId="focusser-"+$select.generatedId;$select.closeOnSelect=function(){if(angular.isDefined(attrs.closeOnSelect)){return $parse(attrs.closeOnSelect)()}else{return uiSelectConfig.closeOnSelect}}();$select.onSelectCallback=$parse(attrs.onSelect);$select.onRemoveCallback=$parse(attrs.onRemove);$select.limit=angular.isDefined(attrs.limit)?parseInt(attrs.limit,10):undefined;$select.ngModel=ngModel;$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name};if(attrs.tabindex){attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value);element.removeAttr("tabindex")})}scope.$watch("searchEnabled",function(){var searchEnabled=scope.$eval(attrs.searchEnabled);$select.searchEnabled=searchEnabled!==undefined?searchEnabled:uiSelectConfig.searchEnabled});scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=sortable!==undefined?sortable:uiSelectConfig.sortable});attrs.$observe("disabled",function(){$select.disabled=attrs.disabled!==undefined?attrs.disabled:false});attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=resetSearchInput!==undefined?resetSearchInput:true});attrs.$observe("tagging",function(){if(attrs.tagging!==undefined){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:true,fct:taggingEval!==true?taggingEval:undefined}}else{$select.tagging={isActivated:false,fct:undefined}}});attrs.$observe("taggingLabel",function(){if(attrs.tagging!==undefined){if(attrs.taggingLabel==="false"){$select.taggingLabel=false}else{$select.taggingLabel=attrs.taggingLabel!==undefined?attrs.taggingLabel:"(new)"}}});attrs.$observe("taggingTokens",function(){if(attrs.tagging!==undefined){var tokens=attrs.taggingTokens!==undefined?attrs.taggingTokens.split("|"):[",","ENTER"];$select.taggingTokens={isActivated:true,tokens:tokens}}});if(angular.isDefined(attrs.autofocus)){$timeout(function(){$select.setFocus()})}if(angular.isDefined(attrs.focusOn)){scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus()})})}function onDocumentClick(e){if(!$select.open)return;var contains=false;if(window.jQuery){contains=window.jQuery.contains(element[0],e.target)}else{contains=element[0].contains(e.target)}if(!contains&&!$select.clickTriggeredSelect){var focusableControls=["input","button","textarea"];var targetController=angular.element(e.target).controller("uiSelect");var skipFocusser=targetController&&targetController!==$select;if(!skipFocusser)skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase());$select.close(skipFocusser);scope.$digest()}$select.clickTriggeredSelect=false}$document.on("click",onDocumentClick);scope.$on("$destroy",function(){$document.off("click",onDocumentClick)});transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone);var transcludedMatch=transcluded.querySelectorAll(".ui-select-match");transcludedMatch.removeAttr("ui-select-match");transcludedMatch.removeAttr("data-ui-select-match");if(transcludedMatch.length!==1){throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length)}element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");transcludedChoices.removeAttr("ui-select-choices");transcludedChoices.removeAttr("data-ui-select-choices");if(transcludedChoices.length!==1){throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length)}element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices)});var appendToBody=scope.$eval(attrs.appendToBody);if(appendToBody!==undefined?appendToBody:uiSelectConfig.appendToBody){scope.$watch("$select.open",function(isOpen){if(isOpen){positionDropdown()}else{resetDropdown()}});scope.$on("$destroy",function(){resetDropdown()})}var placeholder=null,originalWidth="";function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>');placeholder[0].style.width=offset.width+"px";placeholder[0].style.height=offset.height+"px";element.after(placeholder);originalWidth=element[0].style.width;$document.find("body").append(element);element[0].style.position="absolute";element[0].style.left=offset.left+"px";element[0].style.top=offset.top+"px";element[0].style.width=offset.width+"px"}function resetDropdown(){if(placeholder===null){return}placeholder.replaceWith(element);placeholder=null;element[0].style.position="";element[0].style.left="";element[0].style.top="";element[0].style.width=originalWidth}var dropdown=null,directionUpClassName="direction-up";scope.$watch("$select.open",function(){if($select.dropdownPosition==="auto"||$select.dropdownPosition==="up"){scope.calculateDropdownPos()}});var setDropdownPosUp=function(offset,offsetDropdown){offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="absolute";dropdown[0].style.top=offsetDropdown.height*-1+"px";element.addClass(directionUpClassName)};var setDropdownPosDown=function(offset,offsetDropdown){element.removeClass(directionUpClassName);offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="";dropdown[0].style.top=""};scope.calculateDropdownPos=function(){if($select.open){dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown");if(dropdown.length===0){return}dropdown[0].style.opacity=0;$timeout(function(){if($select.dropdownPosition==="up"){setDropdownPosUp(offset,offsetDropdown)}else{element.removeClass(directionUpClassName);var offset=uisOffset(element);var offsetDropdown=uisOffset(dropdown);var scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;if(offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight){setDropdownPosUp(offset,offsetDropdown)}else{setDropdownPosDown(offset,offsetDropdown)}}dropdown[0].style.opacity=1})}else{if(dropdown===null||dropdown.length===0){return}dropdown[0].style.position="";dropdown[0].style.top="";element.removeClass(directionUpClassName)}}}}}}]);uis.directive("uiSelectMatch",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;var multi=tElement.parent().attr("multiple");return theme+(multi?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(scope,element,attrs,$select){$select.lockChoiceExpression=attrs.uiLockChoice;attrs.$observe("placeholder",function(placeholder){$select.placeholder=placeholder!==undefined?placeholder:uiSelectConfig.placeholder});function setAllowClear(allow){$select.allowClear=angular.isDefined(allow)?allow===""?true:allow.toLowerCase()==="true":false}attrs.$observe("allowClear",setAllowClear);setAllowClear(attrs.allowClear);if($select.multiple){$select.sizeSearchInput()}}}}]);uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ctrl=this,$select=$scope.$select,ngModel;$scope.$evalAsync(function(){ngModel=$scope.ngModel});ctrl.activeMatchIndex=-1;ctrl.updateModel=function(){ngModel.$setViewValue(Date.now());ctrl.refreshComponent()};ctrl.refreshComponent=function(){$select.refreshItems();$select.sizeSearchInput()};ctrl.removeChoice=function(index){var removedChoice=$select.selected[index];if(removedChoice._uiSelectChoiceLocked)return;var locals={};locals[$select.parserResult.itemName]=removedChoice;$select.selected.splice(index,1);ctrl.activeMatchIndex=-1;$select.sizeSearchInput();$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)})});ctrl.updateModel()};ctrl.getPlaceholder=function(){if($select.selected&&$select.selected.length)return;return $select.placeholder}}],controllerAs:"$selectMultiple",link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=scope.ngModel=ctrls[1];var $selectMultiple=scope.$selectMultiple;$select.multiple=true;$select.removeSelected=true;$select.focusInput=$select.searchInput;ngModel.$parsers.unshift(function(){var locals={},result,resultMultiple=[];for(var j=$select.selected.length-1;j>=0;j--){locals={};locals[$select.parserResult.itemName]=$select.selected[j];result=$select.parserResult.modelMapper(scope,locals);resultMultiple.unshift(result)}return resultMultiple});ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult.source(scope,{$select:{search:""}}),locals={},result;if(!data)return inputValue;var resultMultiple=[];var checkFnMultiple=function(list,value){if(!list||!list.length)return;for(var p=list.length-1;p>=0;p--){locals[$select.parserResult.itemName]=list[p];result=$select.parserResult.modelMapper(scope,locals);if($select.parserResult.trackByExp){var matches=/\.(.+)/.exec($select.parserResult.trackByExp);if(matches.length>0&&result[matches[1]]==value[matches[1]]){resultMultiple.unshift(list[p]);return true}}if(angular.equals(result,value)){resultMultiple.unshift(list[p]);return true}}return false};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--){if(!checkFnMultiple($select.selected,inputValue[k])){if(!checkFnMultiple(data,inputValue[k])){resultMultiple.unshift(inputValue[k])}}}return resultMultiple});scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){if(oldValue!=newValue){ngModel.$modelValue=null;$selectMultiple.refreshComponent()}});ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(angular.isUndefined(ngModel.$viewValue)||ngModel.$viewValue===null){$select.selected=[]}else{throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue)}}$select.selected=ngModel.$viewValue;scope.$evalAsync()};scope.$on("uis:select",function(event,item){if($select.selected.length>=$select.limit){return}$select.selected.push(item);$selectMultiple.updateModel()});scope.$on("uis:activate",function(){$selectMultiple.activeMatchIndex=-1});scope.$watch("$select.disabled",function(newValue,oldValue){if(oldValue&&!newValue)$select.sizeSearchInput()});$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=false;if(KEY.isHorizontalMovement(key)){processed=_handleMatchSelection(key)}if(processed&&key!=KEY.TAB){e.preventDefault();e.stopPropagation()}})});function _getCaretPosition(el){if(angular.isNumber(el.selectionStart))return el.selectionStart;else return el.value.length}function _handleMatchSelection(key){var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,first=0,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;if(caretPosition>0||$select.search.length&&key==KEY.RIGHT)return false;$select.close();function getNewActiveMatchIndex(){switch(key){case KEY.LEFT:if(~$selectMultiple.activeMatchIndex)return prev;else return last;break;case KEY.RIGHT:if(!~$selectMultiple.activeMatchIndex||curr===last){$select.activate();return false}else return next;break;case KEY.BACKSPACE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice(curr);return prev}else return last;break;case KEY.DELETE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice($selectMultiple.activeMatchIndex);return curr}else return false}}newIndex=getNewActiveMatchIndex();if(!$select.selected.length||newIndex===false)$selectMultiple.activeMatchIndex=-1;else $selectMultiple.activeMatchIndex=Math.min(last,Math.max(first,newIndex));return true}$select.searchInput.on("keyup",function(e){if(!KEY.isVerticalMovement(e.which)){scope.$evalAsync(function(){$select.activeIndex=$select.taggingLabel===false?-1:0})}if($select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which)){return}$select.activeIndex=$select.taggingLabel===false?-1:0;if($select.taggingLabel===false)return;var items=angular.copy($select.items);var stashArr=angular.copy($select.items);var newItem;var item;var hasTag=false;var dupeIndex=-1;var tagItems;var tagItem;if($select.tagging.fct!==undefined){tagItems=$select.$filter("filter")(items,{isTag:true});if(tagItems.length>0){tagItem=tagItems[0]}if(items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.tagging.fct($select.search);newItem.isTag=true;if(stashArr.filter(function(origItem){return angular.equals(origItem,$select.tagging.fct($select.search))}).length>0){return}newItem.isTag=true}else{tagItems=$select.$filter("filter")(items,function(item){return item.match($select.taggingLabel)});if(tagItems.length>0){tagItem=tagItems[0]}item=items[0];if(item!==undefined&&items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.search+" "+$select.taggingLabel;if(_findApproxDupe($select.selected,$select.search)>-1){return}if(_findCaseInsensitiveDupe(stashArr.concat($select.selected))){if(hasTag){items=stashArr;scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items})}return}if(_findCaseInsensitiveDupe(stashArr)){if(hasTag){$select.items=stashArr.slice(1,stashArr.length)}return}}if(hasTag)dupeIndex=_findApproxDupe($select.selected,newItem);if(dupeIndex>-1){items=items.slice(dupeIndex+1,items.length-1)}else{items=[];items.push(newItem);items=items.concat(stashArr)}scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items})}});function _findCaseInsensitiveDupe(arr){if(arr===undefined||$select.search===undefined){return false}var hasDupe=arr.filter(function(origItem){if($select.search.toUpperCase()===undefined||origItem===undefined){return false}return origItem.toUpperCase()===$select.search.toUpperCase()}).length>0;return hasDupe}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack)){var tempArr=angular.copy(haystack);for(var i=0;i<tempArr.length;i++){if($select.tagging.fct===undefined){if(tempArr[i]+" "+$select.taggingLabel===needle){dupeIndex=i}}else{var mockObj=tempArr[i];mockObj.isTag=true;if(angular.equals(mockObj,needle)){dupeIndex=i}}}}return dupeIndex}$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1})})}}}]);uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){var locals={},result;locals[$select.parserResult.itemName]=inputValue;result=$select.parserResult.modelMapper(scope,locals);return result});ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult.source(scope,{$select:{search:""}}),locals={},result;if(data){var checkFnSingle=function(d){locals[$select.parserResult.itemName]=d;result=$select.parserResult.modelMapper(scope,locals);return result==inputValue};if($select.selected&&checkFnSingle($select.selected)){return $select.selected}for(var i=data.length-1;i>=0;i--){if(checkFnSingle(data[i]))return data[i]}}return inputValue});scope.$watch("$select.selected",function(newValue){if(ngModel.$viewValue!==newValue){ngModel.$setViewValue(newValue)}});ngModel.$render=function(){$select.selected=ngModel.$viewValue};scope.$on("uis:select",function(event,item){$select.selected=item});scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",false);if(!skipFocusser)$select.focusser[0].focus()},0,false)});scope.$on("uis:activate",function(){focusser.prop("disabled",true)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope);$select.focusser=focusser;$select.focusInput=focusser;element.parent().append(focusser);focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=true})});focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=false})});focusser.bind("keydown",function(e){if(e.which===KEY.BACKSPACE){e.preventDefault();e.stopPropagation();$select.select(undefined);scope.$apply();return}if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC){return}if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER||e.which==KEY.SPACE){e.preventDefault();e.stopPropagation();$select.activate()}scope.$digest()});focusser.bind("keyup input",function(e){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE){return}$select.activate(focusser.val());focusser.val("");scope.$digest()})}}}]);uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:"^uiSelect",link:function(scope,element,attrs,$select){if(scope[attrs.uiSelectSort]===null){throw uiSelectMinErr("sort","Expected a list to sort")}var options=angular.extend({axis:"horizontal"},scope.$eval(attrs.uiSelectSortOptions));var axis=options.axis,draggingClassName="dragging",droppingClassName="dropping",droppingBeforeClassName="dropping-before",droppingAfterClassName="dropping-after";scope.$watch(function(){return $select.sortable},function(n){if(n){element.attr("draggable",true)}else{element.removeAttr("draggable")}});element.on("dragstart",function(e){element.addClass(draggingClassName);(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",scope.$index)});element.on("dragend",function(){element.removeClass(draggingClassName)});var move=function(from,to){this.splice(to,0,this.splice(from,1)[0])};var dragOverHandler=function(e){e.preventDefault();var offset=axis==="vertical"?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);if(offset<this[axis==="vertical"?"offsetHeight":"offsetWidth"]/2){element.removeClass(droppingAfterClassName);element.addClass(droppingBeforeClassName)}else{element.removeClass(droppingBeforeClassName);element.addClass(droppingAfterClassName)}};var dropTimeout;var dropHandler=function(e){e.preventDefault();var droppedItemIndex=parseInt((e.dataTransfer||e.originalEvent.dataTransfer).getData("text/plain"),10);$timeout.cancel(dropTimeout);dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex)},20)};var _dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort),itemToMove=theList[droppedItemIndex],newIndex=null;if(element.hasClass(droppingBeforeClassName)){if(droppedItemIndex<scope.$index){newIndex=scope.$index-1}else{newIndex=scope.$index}}else{if(droppedItemIndex<scope.$index){newIndex=scope.$index}else{newIndex=scope.$index+1}}move.apply(theList,[droppedItemIndex,newIndex]);scope.$apply(function(){scope.$emit("uiSelectSort:change",{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})});element.removeClass(droppingClassName);element.removeClass(droppingBeforeClassName);element.removeClass(droppingAfterClassName);element.off("drop",dropHandler)};element.on("dragenter",function(){if(element.hasClass(draggingClassName)){return}element.addClass(droppingClassName);element.on("dragover",dragOverHandler);element.on("drop",dropHandler)});element.on("dragleave",function(e){if(e.target!=element){return}element.removeClass(droppingClassName);element.removeClass(droppingBeforeClassName);element.removeClass(droppingAfterClassName);element.off("dragover",dragOverHandler);element.off("drop",dropHandler)})}}}]);uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;var isObjectCollection=/\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)/.test(expression);match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(([\w\.]+)?\s*(|\s*[\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression)}if(!match[6]&&isObjectCollection){throw uiSelectMinErr("iexp","Expected expression in form of '_item_ as (_key_, _item_) in _ObjCollection_ [ track by _id_]' but got '{0}'.",expression)}return{itemName:match[4]||match[2],keyName:match[3],source:$parse(!match[3]?match[5]:match[6]),sourceName:match[6],filters:match[7],trackByExp:match[8],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function(grouped){var expression=this.itemName+" in "+(grouped?"$group.items":"$select.items");if(this.trackByExp){expression+=" track by "+this.trackByExp}return expression}}};self.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])})();angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>');$templateCache.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>');$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>');$templateCache.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>');$templateCache.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>');$templateCache.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>');$templateCache.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>');$templateCache.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="$select.selected && !$select.open" ng-readonly="!$select.searchEnabled" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>');$templateCache.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>');$templateCache.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>');$templateCache.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>');$templateCache.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>');$templateCache.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="false" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>')}]);(function(window,angular,undefined){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))}));return buf.join("")}}]}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,angular.noop);writer.chars(chars);return buf.join("")}var START_TAG_REGEXP=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,END_TAG_REGEXP=/^<\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g;var voidElements=makeMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul"));var inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=makeMap("animate,animateColor,animateMotion,animateTransform,circle,defs,"+"desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,"+"line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,"+"stop,svg,switch,text,title,tspan,use");var specialElements=makeMap("script,style");var validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements,svgElements);var uriAttrs=makeMap("background,cite,href,longdesc,src,usemap,xlink:href");var htmlAttrs=makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,target,title,type,"+"valign,value,vspace,width");var svgAttrs=makeMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,"+"color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,"+"font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,"+"gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,"+"keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,"+"markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,"+"overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,"+"repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,"+"stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,"+"stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,"+"stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,"+"underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,"+"viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,"+"xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,"+"zoomAndPan");var validAttrs=angular.extend({},uriAttrs,svgAttrs,htmlAttrs);function makeMap(str){var obj={},items=str.split(","),i;for(i=0;i<items.length;i++)obj[items[i]]=true;return obj}function htmlParser(html,handler){if(typeof html!=="string"){if(html===null||typeof html==="undefined"){html=""}else{html=""+html}}var index,chars,match,stack=[],last=html,text;stack.last=function(){return stack[stack.length-1]};while(html){text="";chars=true;if(!stack.last()||!specialElements[stack.last()]){if(html.indexOf("\x3c!--")===0){index=html.indexOf("--",4);if(index>=0&&html.lastIndexOf("--\x3e",index)===index){if(handler.comment)handler.comment(html.substring(4,index));html=html.substring(index+3);chars=false}}else if(DOCTYPE_REGEXP.test(html)){match=html.match(DOCTYPE_REGEXP);if(match){html=html.replace(match[0],"");chars=false}}else if(BEGING_END_TAGE_REGEXP.test(html)){match=html.match(END_TAG_REGEXP);if(match){html=html.substring(match[0].length);match[0].replace(END_TAG_REGEXP,parseEndTag);chars=false}}else if(BEGIN_TAG_REGEXP.test(html)){match=html.match(START_TAG_REGEXP);if(match){if(match[4]){html=html.substring(match[0].length);match[0].replace(START_TAG_REGEXP,parseStartTag)}chars=false}else{text+="<";html=html.substring(1)}}if(chars){index=html.indexOf("<");text+=index<0?html:html.substring(0,index);html=index<0?"":html.substring(index);if(handler.chars)handler.chars(decodeEntities(text))}}else{html=html.replace(new RegExp("(.*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1");if(handler.chars)handler.chars(decodeEntities(text));return""});parseEndTag("",stack.last())}if(html==last){throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block "+"of html: {0}",html)}last=html}parseEndTag();function parseStartTag(tag,tagName,rest,unary){tagName=angular.lowercase(tagName);if(blockElements[tagName]){while(stack.last()&&inlineElements[stack.last()]){parseEndTag("",stack.last())}}if(optionalEndTagElements[tagName]&&stack.last()==tagName){parseEndTag("",tagName)}unary=voidElements[tagName]||!!unary;if(!unary)stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)});if(handler.start)handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var pos=0,i;tagName=angular.lowercase(tagName);if(tagName)for(pos=stack.length-1;pos>=0;pos--)if(stack[pos]==tagName)break;if(pos>=0){for(i=stack.length-1;i>=pos;i--)if(handler.end)handler.end(stack[i]);stack.length=pos}}}var hiddenPre=document.createElement("pre");var spaceRe=/^(\s*)([\s\S]*?)(\s*)$/;function decodeEntities(value){if(!value){return""}var parts=spaceRe.exec(value);var spaceBefore=parts[1];var spaceAfter=parts[3];var content=parts[2];if(content){hiddenPre.innerHTML=content.replace(/</g,"&lt;");content="textContent"in hiddenPre?hiddenPre.textContent:hiddenPre.innerText}return spaceBefore+content+spaceAfter}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=false;var out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag);if(!ignore&&specialElements[tag]){ignore=tag}if(!ignore&&validElements[tag]===true){out("<");out(tag);angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}});out(unary?"/>":">")}},end:function(tag){tag=angular.lowercase(tag);if(!ignore&&validElements[tag]===true){out("</");out(tag);out(">")}if(tag==ignore){ignore=false}},chars:function(chars){if(!ignore){out(encodeEntities(chars))}}}}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider);angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,MAILTO_REGEXP=/^mailto:/;return function(text,target){if(!text)return text;var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){html.push("<a ");if(angular.isDefined(target)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular);!function(){"use strict";var e=angular.module("smoothScroll",[]),t=function(e,t){t=t||{};var n=t.duration||800,o=t.offset||0,a=t.easing||"easeInOutQuart",c=t.callbackBefore||function(){},r=t.callbackAfter||function(){},f=function(){return window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop};setTimeout(function(){var t,l,u=f(),i=0,s=function(e,t){return"easeInQuad"==e?t*t:"easeOutQuad"==e?t*(2-t):"easeInOutQuad"==e?.5>t?2*t*t:-1+(4-2*t)*t:"easeInCubic"==e?t*t*t:"easeOutCubic"==e?--t*t*t+1:"easeInOutCubic"==e?.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1:"easeInQuart"==e?t*t*t*t:"easeOutQuart"==e?1- --t*t*t*t:"easeInOutQuart"==e?.5>t?8*t*t*t*t:1-8*--t*t*t*t:"easeInQuint"==e?t*t*t*t*t:"easeOutQuint"==e?1+--t*t*t*t*t:"easeInOutQuint"==e?.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t:t},d=function(e){var t=0;if(e.offsetParent)do{t+=e.offsetTop,e=e.offsetParent}while(e);return t=Math.max(t-o,0)},b=d(e),k=b-u,m=function(){var t=f();l!=b&&t!=b&&window.innerHeight+t<document.body.scrollHeight||(clearInterval(I),r(e))},v=function(){i+=16,t=i/n,t=t>1?1:t,l=u+k*s(a,t),window.scrollTo(0,l),m()};c(e);var I=setInterval(v,16)},0)};e.factory("smoothScroll",function(){return t}),e.directive("smoothScroll",["smoothScroll",function(e){return{restrict:"A",scope:{callbackBefore:"&",callbackAfter:"&"},link:function(t,n,o){(void 0===o.scrollIf||"true"===o.scrollIf)&&setTimeout(function(){var a=function(e){if(o.callbackBefore){var n=t.callbackBefore({element:e});"function"==typeof n&&n(e)}},c=function(e){if(o.callbackAfter){var n=t.callbackAfter({element:e});"function"==typeof n&&n(e)}};e(n[0],{duration:o.duration,offset:o.offset,easing:o.easing,callbackBefore:a,callbackAfter:c})},0)}}}]),e.directive("scrollTo",["smoothScroll",function(e){return{restrict:"A",scope:{callbackBefore:"&",callbackAfter:"&"},link:function(t,n,o){var a;n.on("click",function(n){if(n.preventDefault(),a=document.getElementById(o.scrollTo)){var c=function(e){if(o.callbackBefore){var n=t.callbackBefore({element:e});"function"==typeof n&&n(e)}},r=function(e){if(o.callbackAfter){var n=t.callbackAfter({element:e});"function"==typeof n&&n(e)}};return e(a,{duration:o.duration,offset:o.offset,easing:o.easing,callbackBefore:c,callbackAfter:r}),!1}})}}}])}();(function($,undefined){"use strict";$.ajaxPrefilter(function(options,origOptions,jqXHR){if(options.iframe){options.originalURL=options.url;return"iframe"}});$.ajaxTransport("iframe",function(options,origOptions,jqXHR){var form=null,iframe=null,name="iframe-"+$.now(),files=$(options.files).filter(":file:enabled"),markers=null,accepts=null;function cleanUp(){files.each(function(i,file){var $file=$(file);$file.data("clone").replaceWith($file)});form.remove();iframe.one("load",function(){iframe.remove()});iframe.attr("src","javascript:false;")}options.dataTypes.shift();options.data=origOptions.data;if(files.length){form=$("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:options.originalURL,target:name});if(typeof options.data==="string"&&options.data.length>0){$.error("data must not be serialized")}$.each(options.data||{},function(name,value){if($.isPlainObject(value)){name=value.name;value=value.value}$("<input type='hidden' />").attr({name:name,value:value}).appendTo(form)});$("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(form);if(options.dataTypes[0]&&options.accepts[options.dataTypes[0]]){accepts=options.accepts[options.dataTypes[0]]+(options.dataTypes[0]!=="*"?", */*; q=0.01":"")}else{accepts=options.accepts["*"]}$("<input type='hidden' name='X-HTTP-Accept'>").attr("value",accepts).appendTo(form);markers=files.after(function(idx){var $this=$(this),$clone=$this.clone().prop("disabled",true);$this.data("clone",$clone);return $clone}).next();files.appendTo(form);return{send:function(headers,completeCallback){iframe=$("<iframe src='javascript:false;' name='"+name+"' id='"+name+"' style='display:none'></iframe>");iframe.one("load",function(){iframe.one("load",function(){var doc=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,root=doc.documentElement?doc.documentElement:doc.body,textarea=root.getElementsByTagName("textarea")[0],type=textarea&&textarea.getAttribute("data-type")||null,status=textarea&&textarea.getAttribute("data-status")||200,statusText=textarea&&textarea.getAttribute("data-statusText")||"OK",content={html:root.innerHTML,text:type?textarea.value:root?root.textContent||root.innerText:null};cleanUp();completeCallback(status,statusText,content,type?"Content-Type: "+type:null)});form[0].submit()});$("body").append(form,iframe)},abort:function(){if(iframe!==null){iframe.unbind("load").attr("src","javascript:false;");cleanUp()}}}}})})(jQuery);(function(){var key,i;function patchXHR(fnName,newFn){window.XMLHttpRequest.prototype[fnName]=newFn(window.XMLHttpRequest.prototype[fnName])}if(window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim){patchXHR("setRequestHeader",function(orig){return function(header,value){if(header==="__setXHR_"){var val=value(this);if(val instanceof Function){val(this)}}else{orig.apply(this,arguments)}}})}var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="4.0.4";ngFileUpload.service("Upload",["$http","$q","$timeout",function($http,$q,$timeout){function sendHttp(config){config.method=config.method||"POST";config.headers=config.headers||{};config.transformRequest=config.transformRequest||function(data,headersGetter){if(window.ArrayBuffer&&data instanceof window.ArrayBuffer){return data}return $http.defaults.transformRequest[0](data,headersGetter)};var deferred=$q.defer();var promise=deferred.promise;config.headers["__setXHR_"]=function(){return function(xhr){if(!xhr)return;config.__XHR=xhr;config.xhrFn&&config.xhrFn(xhr);xhr.upload.addEventListener("progress",function(e){e.config=config;deferred.notify?deferred.notify(e):promise.progress_fn&&$timeout(function(){promise.progress_fn(e)})},false);xhr.upload.addEventListener("load",function(e){if(e.lengthComputable){e.config=config;deferred.notify?deferred.notify(e):promise.progress_fn&&$timeout(function(){promise.progress_fn(e)})}},false)}};console.log(config);$http(config).then(function(r){deferred.resolve(r)},function(e){deferred.reject(e)},function(n){deferred.notify(n)});promise.success=function(fn){promise.then(function(response){fn(response.data,response.status,response.headers,config)});return promise};promise.error=function(fn){promise.then(null,function(response){fn(response.data,response.status,response.headers,config)});return promise};promise.progress=function(fn){promise.progress_fn=fn;promise.then(null,null,function(update){fn(update)});return promise};promise.abort=function(){if(config.__XHR){$timeout(function(){config.__XHR.abort()})}return promise};promise.xhr=function(fn){config.xhrFn=function(origXhrFn){return function(){origXhrFn&&origXhrFn.apply(promise,arguments);fn.apply(promise,arguments)}}(config.xhrFn);return promise};return promise}this.upload=function(config){config.headers=config.headers||{};config.headers["Content-Type"]=undefined;config.transformRequest=config.transformRequest?angular.isArray(config.transformRequest)?config.transformRequest:[config.transformRequest]:[];config.transformRequest.push(function(data){var formData=new FormData;var allFields={};for(key in config.fields){if(config.fields.hasOwnProperty(key)){allFields[key]=config.fields[key]}}if(data)allFields["data"]=data;if(config.formDataAppender){for(key in allFields){if(allFields.hasOwnProperty(key)){config.formDataAppender(formData,key,allFields[key])}}}else{for(key in allFields){if(allFields.hasOwnProperty(key)){var val=allFields[key];if(val!==undefined){if(angular.isDate(val)){val=val.toISOString()}if(angular.isString(val)){formData.append(key,val)}else{if(config.sendObjectsAsJsonBlob&&angular.isObject(val)){formData.append(key,new Blob([val],{type:"application/json"}))}else{formData.append(key,JSON.stringify(val))}}}}}}if(config.file!=null){var fileFormName=config.fileFormDataName||"file";if(angular.isArray(config.file)){var isFileFormNameString=angular.isString(fileFormName);for(var i=0;i<config.file.length;i++){formData.append(isFileFormNameString?fileFormName:fileFormName[i],config.file[i],config.fileName&&config.fileName[i]||config.file[i].name)}}else{formData.append(fileFormName,config.file,config.fileName||config.file.name)}}return formData});console.log("ng-file-upload");console.log(config);return sendHttp(config)};this.http=function(config){return sendHttp(config)}}]);ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile",function($parse,$timeout,$compile){return{restrict:"AEC",require:"?ngModel",link:function(scope,elem,attr,ngModel){linkFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile)}}}]);function linkFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile){function isInputTypeFile(){return elem[0].tagName.toLowerCase()==="input"&&elem.attr("type")&&elem.attr("type").toLowerCase()==="file"}var changeFnAttr=attr.ngfChange||attr.ngfSelect&&attr.ngfSelect.indexOf("(")>0;var isUpdating=false;function changeFn(evt){if(!isUpdating){isUpdating=true;try{var fileList=evt.__files_||evt.target&&evt.target.files;var files=[],rejFiles=[];for(var i=0;i<fileList.length;i++){var file=fileList.item(i);if(validate(scope,$parse,attr,file,evt)){files.push(file)}else{rejFiles.push(file)}}updateModel($parse,$timeout,scope,ngModel,attr,changeFnAttr,files,rejFiles,evt);if(files.length==0)evt.target.value=files}finally{isUpdating=false}}}function bindAttrToFileInput(fileElem){if(attr.ngfMultiple)fileElem.attr("multiple",$parse(attr.ngfMultiple)(scope));if(!$parse(attr.ngfMultiple)(scope))fileElem.attr("multiple",undefined);if(attr["accept"])fileElem.attr("accept",attr["accept"]);if(attr.ngfCapture)fileElem.attr("capture",$parse(attr.ngfCapture)(scope));if(attr.ngfDisabled)fileElem.attr("disabled",$parse(attr.ngfDisabled)(scope));for(var i=0;i<elem[0].attributes.length;i++){var attribute=elem[0].attributes[i];if(attribute.name!=="type"&&attribute.name!=="class"&&attribute.name!=="id"&&attribute.name!=="style"){fileElem.attr(attribute.name,attribute.value)}}}function createFileInput(evt){if(elem.attr("disabled")){return}var fileElem=angular.element('<input type="file">');bindAttrToFileInput(fileElem);if(isInputTypeFile()){elem.replaceWith(fileElem);elem=fileElem}else{fileElem.css("display","none").attr("tabindex","-1").attr("__ngf_gen__",true);if(elem.__ngf_ref_elem__){elem.__ngf_ref_elem__.remove()}elem.__ngf_ref_elem__=fileElem;document.body.appendChild(fileElem[0])}return fileElem}function resetModel(evt){updateModel($parse,$timeout,scope,ngModel,attr,changeFnAttr,[],[],evt,true)}function clickHandler(evt){evt.preventDefault();var fileElem=createFileInput(evt);if(fileElem){fileElem.bind("change",changeFn);resetModel(evt);function clickAndAssign(){fileElem[0].click();if(isInputTypeFile()){elem.bind("click touchend",clickHandler);evt.preventDefault()}}if(navigator.userAgent.toLowerCase().match(/android/)){setTimeout(function(){clickAndAssign()},0)}else{clickAndAssign()}}}if(window.FileAPI&&window.FileAPI.ngfFixIE){window.FileAPI.ngfFixIE(elem,createFileInput,bindAttrToFileInput,changeFn,resetModel)}else{elem.bind("click touchend",clickHandler)}}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location",function($parse,$timeout,$location){return{restrict:"AEC",require:"?ngModel",link:function(scope,elem,attr,ngModel){linkDrop(scope,elem,attr,ngModel,$parse,$timeout,$location)}}}]);ngFileUpload.directive("ngfNoFileDrop",function(){return function(scope,elem){if(dropAvailable())elem.css("display","none")}});ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout",function($parse,$timeout){return function(scope,elem,attr){if(dropAvailable()){var fn=$parse(attr.ngfDropAvailable);$timeout(function(){fn(scope);if(fn.assign){fn.assign(scope,true)}})}}}]);function linkDrop(scope,elem,attr,ngModel,$parse,$timeout,$location){var available=dropAvailable();if(attr.dropAvailable){$timeout(function(){scope[attr.dropAvailable]?scope[attr.dropAvailable].value=available:scope[attr.dropAvailable]=available})}if(!available){if($parse(attr.ngfHideOnDropNotAvailable)(scope)==true){elem.css("display","none")}return}var leaveTimeout=null;var stopPropagation=$parse(attr.ngfStopPropagation);var dragOverDelay=1;var accept=$parse(attr.ngfAccept);var disabled=$parse(attr.ngfDisabled);var actualDragOverClass;elem[0].addEventListener("dragover",function(evt){if(disabled(scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation();if(navigator.userAgent.indexOf("Chrome")>-1){var b=evt.dataTransfer.effectAllowed;evt.dataTransfer.dropEffect="move"===b||"linkMove"===b?"move":"copy"}$timeout.cancel(leaveTimeout);if(!scope.actualDragOverClass){actualDragOverClass=calculateDragOverClass(scope,attr,evt)}elem.addClass(actualDragOverClass)},false);elem[0].addEventListener("dragenter",function(evt){if(disabled(scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation()},false);elem[0].addEventListener("dragleave",function(){if(disabled(scope))return;leaveTimeout=$timeout(function(){elem.removeClass(actualDragOverClass);actualDragOverClass=null},dragOverDelay||1)},false);elem[0].addEventListener("drop",function(evt){if(disabled(scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation();elem.removeClass(actualDragOverClass);actualDragOverClass=null;extractFiles(evt,function(files,rejFiles){updateModel($parse,$timeout,scope,ngModel,attr,attr.ngfChange||attr.ngfDrop&&attr.ngfDrop.indexOf("(")>0,files,rejFiles,evt)},$parse(attr.ngfAllowDir)(scope)!=false,attr.multiple||$parse(attr.ngfMultiple)(scope))},false);function calculateDragOverClass(scope,attr,evt){var accepted=true;var items=evt.dataTransfer.items;if(items!=null){for(var i=0;i<items.length&&accepted;i++){accepted=accepted&&(items[i].kind=="file"||items[i].kind=="")&&validate(scope,$parse,attr,items[i],evt)}}var clazz=$parse(attr.ngfDragOverClass)(scope,{$event:evt});if(clazz){if(clazz.delay)dragOverDelay=clazz.delay;if(clazz.accept)clazz=accepted?clazz.accept:clazz.reject}return clazz||attr.ngfDragOverClass||"dragover"}function extractFiles(evt,callback,allowDir,multiple){var files=[],rejFiles=[],items=evt.dataTransfer.items,processing=0;function addFile(file){if(validate(scope,$parse,attr,file,evt)){files.push(file)}else{rejFiles.push(file)}}if(items&&items.length>0&&$location.protocol()!="file"){for(var i=0;i<items.length;i++){if(items[i].webkitGetAsEntry&&items[i].webkitGetAsEntry()&&items[i].webkitGetAsEntry().isDirectory){var entry=items[i].webkitGetAsEntry();if(entry.isDirectory&&!allowDir){continue}if(entry!=null){traverseFileTree(files,entry)}}else{var f=items[i].getAsFile();if(f!=null)addFile(f)}if(!multiple&&files.length>0)break}}else{var fileList=evt.dataTransfer.files;if(fileList!=null){for(var i=0;i<fileList.length;i++){addFile(fileList.item(i));if(!multiple&&files.length>0)break}}}var delays=0;(function waitForProcess(delay){$timeout(function(){if(!processing){if(!multiple&&files.length>1){i=0;while(files[i].type=="directory")i++;files=[files[i]]}callback(files,rejFiles)}else{if(delays++*10<20*1e3){waitForProcess(10)}}},delay||0)})();function traverseFileTree(files,entry,path){if(entry!=null){if(entry.isDirectory){var filePath=(path||"")+entry.name;addFile({name:entry.name,type:"directory",path:filePath});var dirReader=entry.createReader();var entries=[];processing++;var readEntries=function(){dirReader.readEntries(function(results){try{if(!results.length){for(var i=0;i<entries.length;i++){traverseFileTree(files,entries[i],(path?path:"")+entry.name+"/")}processing--}else{entries=entries.concat(Array.prototype.slice.call(results||[],0));readEntries()}}catch(e){processing--;console.error(e)}},function(){processing--})};readEntries()}else{processing++;entry.file(function(file){try{processing--;file.path=(path?path:"")+file.name;addFile(file)}catch(e){processing--;console.error(e)}},function(){processing--})}}}}}ngFileUpload.directive("ngfThumbnail",["$parse","$timeout",function($parse,$timeout){return{restrict:"AE",link:function(scope,elem,attr,file){if(window.FileReader){scope.$watch(attr.ngfThumbnail,function(file){if(file&&file.type.indexOf("image")>-1){$timeout(function(){var fileReader=new FileReader;fileReader.readAsDataURL(file);fileReader.onload=function(e){$timeout(function(){elem.attr("src",e.target.result)})}})}else{elem.attr("src","")}})}}}}]);function dropAvailable(){var div=document.createElement("div");return"draggable"in div&&"ondrop"in div}function updateModel($parse,$timeout,scope,ngModel,attr,fileChange,files,rejFiles,evt,noDelay){function update(){if(ngModel){$parse(attr.ngModel).assign(scope,files);$timeout(function(){ngModel&&ngModel.$setViewValue(files!=null&&files.length==0?null:files)})}if(attr.ngModelRejected){$parse(attr.ngModelRejected).assign(scope,rejFiles)}if(fileChange){$parse(fileChange)(scope,{$files:files,$rejectedFiles:rejFiles,$event:evt})}}if(noDelay){update()}else{$timeout(function(){update()})}}function validate(scope,$parse,attr,file,evt){var accept=$parse(attr.ngfAccept);var fileSizeMax=$parse(attr.ngfMaxSize)(scope)||9007199254740991;var fileSizeMin=$parse(attr.ngfMinSize)(scope)||-1;var val=accept(scope,{$file:file,$event:evt}),match=false;if(val!=null&&angular.isString(val)){var regexp=new RegExp(globStringToRegex(val),"gi");match=file.type!=null&&file.type.match(regexp)||file.name!=null&&file.name.match(regexp)}return(val==null||match)&&(file.size==null||file.size<fileSizeMax&&file.size>fileSizeMin)}function globStringToRegex(str){if(str.length>2&&str[0]==="/"&&str[str.length-1]==="/"){return str.substring(1,str.length-1)}var split=str.split(","),result="";if(split.length>1){for(var i=0;i<split.length;i++){result+="("+globStringToRegex(split[i])+")";if(i<split.length-1){result+="|"}}}else{if(str.indexOf(".")==0){str="*"+str}result="^"+str.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+"-]","g"),"\\$&")+"$";result=result.replace(/\\\*/g,".*").replace(/\\\?/g,".")}return result}})();(function(window,undefined){"$:nomunge";var $=window.jQuery||window.Cowboy||(window.Cowboy={}),jq_throttle;$.throttle=jq_throttle=function(delay,no_trailing,callback,debounce_mode){var timeout_id,last_exec=0;if(typeof no_trailing!=="boolean"){debounce_mode=callback;callback=no_trailing;no_trailing=undefined}function wrapper(){var that=this,elapsed=+new Date-last_exec,args=arguments;function exec(){last_exec=+new Date;callback.apply(that,args)}function clear(){timeout_id=undefined}if(debounce_mode&&!timeout_id){exec()}timeout_id&&clearTimeout(timeout_id);if(debounce_mode===undefined&&elapsed>delay){exec()}else if(no_trailing!==true){timeout_id=setTimeout(debounce_mode?clear:exec,debounce_mode===undefined?delay-elapsed:delay)}}if($.guid){wrapper.guid=callback.guid=callback.guid||$.guid++}return wrapper};$.debounce=function(delay,at_begin,callback){return callback===undefined?jq_throttle(delay,at_begin,false):jq_throttle(delay,callback,at_begin!==false)}})(this);var searchServices=angular.module("searchServices",["ui","utilServices","ProductThumbnailStatsServices","paymentServices","userServices"]);searchServices.config(["$interpolateProvider",function($interpolateProvider){$interpolateProvider.startSymbol("{[").endSymbol("]}")}]);searchServices.directive("chSmartSearch",function(){$=jQuery.noConflict();return{scope:{userId:"="},controller:function($scope,searchActions,$sce,productThumbnailStatsService,userActions,userStore){$scope.query="";$scope.boldedWord="";$scope.placeholder="";$scope.initialQuery="";$scope.hasSearchBarOverlayLoaded=false;$scope.isStickyHomepageSearchBar=false;$scope.isStickyHeaderActive=false;$scope.isMobile=typeof isMobile!=="undefined"&&isMobile==true||false;$scope.isEducator=false;var generateSortedTotals=function(){for(var key in $scope.productTotals){switch(key){case"documents":$scope.sortedTotals[0]={product:key,total:$scope.productTotals[key]};break;case"questions":$scope.sortedTotals[1]={product:key,total:$scope.productTotals[key]};break}}};var defaultGSAResults=function(){$scope.autocomplete={};$scope.products={};$scope.productTotals={documents:"~",questions:"~"};$scope.sortedTotals=[];generateSortedTotals()};var defaultAutocompleteResults=function(){$scope.autocomplete=[]};var defaultResults=function(){defaultGSAResults();defaultAutocompleteResults()};defaultResults();$scope.show=false;$scope.gsaLoading=false;$scope.autoLoading=false;$scope.doGsaSearch=$.throttle(1e3,function(searchData){searchActions.search(searchData,$scope.parseGSAResults)});$scope.doSearch=$.throttle(100,function(searchTerm){var searchData={stx:searchTerm,filters:{top_results:true},limit:5,topic:{}};$scope.gsaLoading=false;$scope.autoLoading=true;searchActions.autocomplete(searchTerm,$scope.parseAutocomplete)});$scope.parseGSAResults=function(response){if(typeof response==="undefined"||response.length===0){defaultGSAResults()}else{$scope.products=response["products"];$scope.productTotals=response["product_totals"];generateSortedTotals();ProductThumbnailStats.api.getStats($scope.products.documents.slice(0,3).map(function(product){return{id:product.id,type:"documents"}}))}$scope.gsaLoading=false};$scope.parseAutocomplete=function(response){if(typeof response==="undefined"||response.data.length===0){defaultAutocompleteResults()}else{$scope.autocomplete=response.data}$scope.autoLoading=false};$scope.showRecentSearches=false;$scope.recentSearches=[];var attemptToSaveToLocalStorage=function(recentSearches,maxNum){var key="ch-recentSearches-"+($scope.userId||"loggedOut");var error=null;do{try{error=null;var data=JSON.stringify(recentSearches.slice(0,maxNum));localStorage.setItem(key,data)}catch(e){error=e;maxNum--}}while(maxNum>0&&!!error);if(error){throw error}};$scope.saveRecentSearchToLocalStorage=function saveRecentSearchToLocalStorage(query){query=query.trim();var existingIndex=$scope.recentSearches.indexOf(query);if(existingIndex===-1){$scope.recentSearches.unshift(query)}else{var firstArray=$scope.recentSearches.slice(0,existingIndex);var secondArray=$scope.recentSearches.slice(existingIndex+1);$scope.recentSearches=[query].concat(firstArray).concat(secondArray)}$scope.recentSearches=$scope.recentSearches.slice(0,5);attemptToSaveToLocalStorage($scope.recentSearches,5)};(function getRecentSearchesFromLocalStorage(){var storedSearches=JSON.parse(localStorage.getItem("ch-recentSearches-"+($scope.userId||"loggedOut")));$scope.recentSearches=Array.isArray(storedSearches)?storedSearches:[]})();$scope.$watch("query",function(newValue,oldValue){if(typeof newValue==="undefined"||typeof oldValue==="undefined"||newValue.length===0&&oldValue.length===0){return}if(newValue!==oldValue&&newValue!==$scope.initialQuery){$scope.show=true;$scope.showRecentSearches=false}$scope.boldedWord=newValue;if(newValue===""){defaultResults();$scope.showRecentSearches=true}else{$scope.doSearch(newValue)}});jQuery(window).on("ContentStore.events.UPDATE",function(e){if(typeof ContentStore!=="undefined"){$scope.query=ContentStore.getQuery();if($scope.initialQuery===""){$scope.initialQuery=$scope.query}if(!$scope.$$phase){$scope.$digest()}}});var boldWord=function(source,word){var regex=new RegExp("("+word+")","gi");return source.replace(regex,"<strong>$1</strong>")};$scope.boldAutocomplete=function(source){return $sce.trustAsHtml(boldWord(source,$scope.boldedWord))};$scope.spanWrapAndEscapeHtml=function(source){var escapedSource=angular.element("<div/>").text(source).html();return $sce.trustAsHtml("<span>"+escapedSource+"</span>")};$scope.getProductName=function(product){if(product=="questions"){return"Q&A"}if(product=="documents"){return"Documents"}return product};$scope.getProductSearch=function(product){return"/search/results/"+"?stx="+encodeURIComponent($scope.query)+"&filters_product="+product};$scope.getSearchUrl=function(query,isAutocomplete,position){var filter="top_results";var path=document.location.pathname;if(path.indexOf("/homework-help/")!==-1||path.indexOf("/tutor-problems/")!==-1){filter="questions"}if(path.indexOf("/file/")!==-1){filter="documents"}var url;if(isAutocomplete){url="/search/results/"+"?stx="+encodeURIComponent(query.suggestion)+"&filters_product="+filter+"&source="+query.source+"&initial_query="+encodeURIComponent($scope.query)+"&search_suggestion_id="+query.search_suggestion_id+"&position="+position+"&referrer="+window.location.pathname+"&autocomplete=1"}else{url="/search/results/"+"?stx="+encodeURIComponent(query)+"&filter_products="+filter}return url};$scope.getStat=function(stat,type,id){$scope.stats=productThumbnailStatsService.getStats();return productThumbnailStatsService.getStat($scope.stats,stat,type,id)};$scope.hasDocuments=function(){return typeof $scope.productTotals.documents!=="undefined"&&$scope.productTotals.documents>0};$scope.scholarshipBannerClick=function(url){if(typeof tracker==="undefined"){var tracker=new MixpanelEventTracking}tracker.track("Scholarship in Search clicked",{Location:"Search Bar"});window.location=url}},link:function(scope,elem,attrs){elem.removeClass("ch_h-search-form_input");scope.placeholder=attrs["placeholder"];scope.isStickyHomepageSearchBar=attrs["chaLocation"]==="Homepage header"||false;scope.isEducator=attrs["chaIsEducator"]||false;if(typeof search_term==="string"){scope.query=search_term}if(typeof ContentStore!=="undefined"){scope.query=ContentStore.getQuery()}var inputElement=elem.find("input");var searchBarElements=scope.isStickyHomepageSearchBar===true&&scope.isMobile===true?$(".ch_search_header"):inputElement;$(document).on("click touchend",function(e){if(!$(e.target).is(".ch_edu_remove_icon")&&$(e.target).is(".ch_h-search-widget, .ch_h-search-widget *, .ch_search_header")){return}if($(e.target).is(".overlay, .close_cta, .ch_edu_remove_icon")){e.stopImmediatePropagation();e.preventDefault();setTimeout(function(){scope.hasSearchBarOverlayLoaded=false;$("#ch-header").removeClass("searchActive");$("#ch-header").addClass("searchInactive");$("html, body").removeClass("noScroll");$(".overlay").fadeOut(600,function(){$(this).remove()});$(".close_cta").remove();$(".ch_edu_remove_btn").hide();if($(e.target).is(".ch_edu_remove_icon")){$("#ch_search_form_input_content").val("")}$("#ch-header .ch_h-search-form_input").attr("placeholder","Search");scope.$apply()},50)}$(".ch_search_innerWrapper").removeClass("shouldExpand");inputElement.blur();scope.show=false;scope.showRecentSearches=false;if(!scope.$$phase){scope.$digest()}});var searchForm=elem.parent().parent();searchForm.on("submit",function(e){scope.showRecentSearches=false;if(scope.query!==""){scope.saveRecentSearchToLocalStorage(scope.query)}});searchForm.find("input[type=submit]").on("click",function(e){e.preventDefault();return searchForm.submit()});searchBarElements.on("focus click touchend",function(e){var ctaInsertClass=scope.isMobile===true?"#ch-header .hp_search_wrapper .hp_search_container":"#ch-header .hp_search_wrapper .hp_search_container .ch_h-search-form_input_container .ch_h-search-widget";if(inputElement.attr("placeholder").trim()==="Search"){var width=window.innerWidth>0?window.innerWidth:screen.width;if(width>=375){inputElement.attr("placeholder","Search Course Hero")}}if((scope.isStickyHomepageSearchBar||scope.isEducator)&&scope.hasSearchBarOverlayLoaded===false){e.stopImmediatePropagation();$("#ch-header").removeClass("searchInactive");$("#ch-header").addClass("searchActive");$('<div class="overlay"></div>').insertBefore("#ch-body");$("html, body").addClass("noScroll");scope.hasSearchBarOverlayLoaded=true;if(scope.isStickyHomepageSearchBar){$('<div class="close_cta"></div>').insertBefore(ctaInsertClass)}else if(scope.isEducator){$(".ch_edu_remove_btn").show()}}else if($(".ch_search_innerWrapper").has(this).length){$(".ch_search_innerWrapper").addClass("shouldExpand")}if(scope.query===""){scope.showRecentSearches=true}scope.show=true;if(!scope.$$phase){scope.$digest()}});inputElement.keyup(function(e){if(e.keyCode===13){scope.show=false;searchForm.submit();if(!scope.$$phase){scope.$digest()}}});inputElement.on("blur",function(e){e.preventDefault();if(inputElement.attr("placeholder").trim()==="Search Course Hero"){inputElement.attr("placeholder","Search")}})},templateUrl:function(elem,attrs){var location=attrs["chaLocation"];var ampTrackingTitle=attrs["ampTracking"]||"";return"/_template/_widget/smart-search/?location="+location+"&ampTrackingTitle="+ampTrackingTitle},replace:true}});searchServices.service("searchActions",function($q,apiService){var API_AUTOCOMPLETE="/api/v1/search/suggest/";var API_FEDERATED_SEARCH_GSA="/api/v1/federated-search-gsa/";var searchActions=new function(){return{_lastSearch:null,_lastAutocomplete:null,search:function(data,callback){if(this._lastSearch!==null){this._lastSearch.resolve()}this._lastSearch=$q.defer();apiService.post(API_FEDERATED_SEARCH_GSA,data,{timeout:this._lastSearch.promise}).success(function(response){if(typeof callback!=="undefined"){callback(response)}}).error(function(){})},autocomplete:function(data,callback){if(this._lastAutocomplete!==null){this._lastAutocomplete.resolve()}this._lastAutocomplete=$q.defer();apiService.get(API_AUTOCOMPLETE,{query:data},{timeout:this._lastAutocomplete.promise}).then(callback,function(){})}}};return searchActions});(function(){var k,aa=this;function n(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function p(a,b){function c(){}c.prototype=b.prototype;a.ya=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ea=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}}function q(a,b){null!=a&&this.append.apply(this,arguments)}k=q.prototype;k.e="";k.set=function(a){this.e=""+a};k.append=function(a,b,c){this.e+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.e+=arguments[d];return this};k.clear=function(){this.e=""};k.toString=function(){return this.e};function ba(a,b){a.sort(b||ca)}function ca(a,b){return a>b?1:a<b?-1:0}function da(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ea(a,b,c){this.ua=a;this.na=b.name||null;this.m={};for(a=0;a<c.length;a++)b=c[a],this.m[b.i]=b}ea.prototype.getName=function(){return this.na};function fa(a){a=da(a.m);ba(a,function(a,c){return a.i-c.i});return a}function ga(a,b,c){this.i=b;this.na=c.name;this.ea=!!c.fa;this.o=c.a;this.oa=c.type;this.ka=!1;switch(this.o){case ha:case ia:case ja:case ka:case la:case ma:case na:this.ka=!0}this.u=c.defaultValue}var na=1,ma=2,ha=3,ia=4,ja=6,ka=16,la=18;ga.prototype.getName=function(){return this.na};function r(){this.c={};this.m=this.q().m;this.f=this.ma=null}k=r.prototype;k.q=function(){var a=this.constructor,b;if(!(b=a.ra)){var c;b=a.xa;var d=[],e=b[0];for(c in b)0!=c&&d.push(new ga(0,c,b[c]));c=new ea(a,e,d);b=a.ra=c}return b};k.has=function(a){return null!=this.c[a.i]};k.get=function(a,b){return t(this,a.i,b)};k.set=function(a,b){u(this,a.i,b)};k.add=function(a,b){oa(this,a.i,b)};k.clear=function(a){pa(this,a.i)};function qa(a,b){for(var c=fa(a.q()),d=0;d<c.length;d++){var e=c[d],f=e.i;if(null!=b.c[f]){a.f&&delete a.f[e.i];var g=11==e.o||10==e.o;if(e.ea)for(var e=v(b,f)||[],h=0;h<e.length;h++)oa(a,f,g?e[h].clone():e[h]);else e=v(b,f),g?(g=v(a,f))?qa(g,e):u(a,f,e.clone()):u(a,f,e)}}}k.clone=function(){var a=new this.constructor;a!=this&&(a.c={},a.f&&(a.f={}),qa(a,this));return a};function v(a,b){var c=a.c[b];if(null==c)return null;if(a.ma){if(!(b in a.f)){var d=a.ma,e=a.m[b];if(null!=c)if(e.ea){for(var f=[],g=0;g<c.length;g++)f[g]=d.da(e,c[g]);c=f}else c=d.da(e,c);return a.f[b]=c}return a.f[b]}return c}function t(a,b,c){var d=v(a,b);return a.m[b].ea?d[c||0]:d}function w(a,b){var c;if(null!=a.c[b])c=t(a,b,void 0);else a:{c=a.m[b];if(void 0===c.u){var d=c.oa;if(d===Boolean)c.u=!1;else if(d===Number)c.u=0;else if(d===String)c.u=c.ka?"0":"";else{c=new d;break a}}c=c.u}return c}function x(a,b){return a.m[b].ea?null!=a.c[b]?a.c[b].length:0:null!=a.c[b]?1:0}function u(a,b,c){a.c[b]=c;a.f&&(a.f[b]=c)}function oa(a,b,c){a.c[b]||(a.c[b]=[]);a.c[b].push(c);a.f&&delete a.f[b]}function pa(a,b){delete a.c[b];a.f&&delete a.f[b]}function y(a,b){a.xa=b;a.q=function(){return a.ra||(new a).q()}}function A(){r.apply(this)}p(A,r);function B(){r.apply(this)}p(B,r);function C(){r.apply(this)}p(C,r);C.prototype.sa=function(){return t(this,10)};C.prototype.k=function(){return w(this,10)};C.prototype.aa=function(a){u(this,10,a)};function D(){r.apply(this)}p(D,r);D.prototype.getMetadata=function(a){return t(this,1,a)};y(A,{0:{name:"NumberFormat",ca:"i18n.phonenumbers.NumberFormat"},1:{name:"pattern",required:!0,a:9,type:String},2:{name:"format",required:!0,a:9,type:String},3:{name:"leading_digits_pattern",fa:!0,a:9,type:String},4:{name:"national_prefix_formatting_rule",a:9,type:String},6:{name:"national_prefix_optional_when_formatting",a:8,type:Boolean},5:{name:"domestic_carrier_code_formatting_rule",a:9,type:String}});y(B,{0:{name:"PhoneNumberDesc",ca:"i18n.phonenumbers.PhoneNumberDesc"},2:{name:"national_number_pattern",a:9,type:String},3:{name:"possible_number_pattern",a:9,type:String},6:{name:"example_number",a:9,type:String}});y(C,{0:{name:"PhoneMetadata",ca:"i18n.phonenumbers.PhoneMetadata"},1:{name:"general_desc",required:!0,a:11,type:B},2:{name:"fixed_line",required:!0,a:11,type:B},3:{name:"mobile",required:!0,a:11,type:B},4:{name:"toll_free",required:!0,a:11,type:B},5:{name:"premium_rate",required:!0,a:11,type:B},6:{name:"shared_cost",required:!0,a:11,type:B},7:{name:"personal_number",required:!0,a:11,type:B},8:{name:"voip",required:!0,a:11,type:B},21:{name:"pager",required:!0,a:11,type:B},25:{name:"uan",required:!0,a:11,type:B},27:{name:"emergency",required:!0,a:11,type:B},28:{name:"voicemail",required:!0,a:11,type:B},24:{name:"no_international_dialling",required:!0,a:11,type:B},9:{name:"id",required:!0,a:9,type:String},10:{name:"country_code",required:!0,a:5,type:Number},11:{name:"international_prefix",required:!0,a:9,type:String},17:{name:"preferred_international_prefix",a:9,type:String},12:{name:"national_prefix",a:9,type:String},13:{name:"preferred_extn_prefix",a:9,type:String},15:{name:"national_prefix_for_parsing",a:9,type:String},16:{name:"national_prefix_transform_rule",a:9,type:String},18:{name:"same_mobile_and_fixed_line_pattern",a:8,defaultValue:!1,type:Boolean},19:{name:"number_format",fa:!0,a:11,type:A},20:{name:"intl_number_format",fa:!0,a:11,type:A},22:{name:"main_country_for_code",a:8,defaultValue:!1,type:Boolean},23:{name:"leading_digits",a:9,type:String},26:{name:"leading_zero_possible",a:8,defaultValue:!1,type:Boolean}});y(D,{0:{name:"PhoneMetadataCollection",ca:"i18n.phonenumbers.PhoneMetadataCollection"},1:{name:"metadata",fa:!0,a:11,type:C}});function E(){r.apply(this)}p(E,r);E.prototype.sa=function(){return t(this,1)};E.prototype.k=function(){return w(this,1)};E.prototype.aa=function(a){u(this,1,a)};E.prototype.getExtension=function(){return t(this,3)};y(E,{0:{name:"PhoneNumber",ca:"i18n.phonenumbers.PhoneNumber"},1:{name:"country_code",required:!0,a:5,type:Number},2:{name:"national_number",required:!0,a:4,type:Number},3:{name:"extension",a:9,type:String},4:{name:"italian_leading_zero",a:8,type:Boolean},8:{name:"number_of_leading_zeros",a:5,defaultValue:1,type:Number},5:{name:"raw_input",a:9,type:String},6:{name:"country_code_source",a:14,defaultValue:1,type:{Da:1,Ca:5,Ba:10,Aa:20}},7:{name:"preferred_domestic_carrier_code",a:9,type:String}});function F(){}F.prototype.v=function(a){new a.ua;throw Error("Unimplemented")};F.prototype.da=function(a,b){if(11==a.o||10==a.o)return b instanceof r?b:this.v(a.oa.q(),b);if(14==a.o||!a.ka)return b;var c=a.oa;if(c===String){if("number"==typeof b)return String(b)}else if(c===Number&&"string"==typeof b&&("Infinity"===b||"-Infinity"===b||"NaN"===b||/^-?[0-9]+$/.test(b)))return Number(b);return b};function G(){}p(G,F);G.prototype.v=function(a,b){var c=new a.ua;c.ma=this;c.c=b;c.f={};return c};function H(){}p(H,G);H.prototype.za=!1;H.prototype.da=function(a,b){return 8==a.o?!!b:F.prototype.da.apply(this,arguments)};H.prototype.v=function(a,b){var c=b;if(this.za){var c=[],d;for(d in b)c[parseInt(d,10)+1]=b[d]}return H.ya.v.call(this,a,c)};var I={1:["US"]},ra={US:[,[,,"[2-9]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[4589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[036]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[4589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[036]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"US",1,"011","1",,,"1",,,1,[[,"(\\d{3})(\\d{4})","$1-$2",,"","",1],[,"(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",,"","",1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3"]],[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]]};function J(){this.va={}}J.r=function(){return J.ta?J.ta:J.ta=new J};var K={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"," ":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"},sa={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"," ":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"},ta=RegExp("[+]+"),L=RegExp("^[+]+"),ua=RegExp("([0-9- --])"),va=RegExp("[+0-9- --]"),wa=/[\\\/] *x/,xa=RegExp("[^0-9- --A-Za-z#]+$"),ya=/(?:.*?[A-Za-z]){3}.*/,za=RegExp("(?:;ext=([0-9- --]{1,7})|[  \\t,]*(?:e?xt(?:ensi(?:o?|))?n?|??|[,x#~]|int|anexo|)[:\\.]?[  \\t,-]*([0-9- --]{1,7})#?|[- ]+([0-9- --]{1,5})#)$","i"),Aa=RegExp("^[0-9- --]{2}$|^[+]*(?:[-x--   ().\\[\\]/~*]*[0-9- --]){3,}[-x--   ().\\[\\]/~*A-Za-z0-9- --]*(?:;ext=([0-9- --]{1,7})|[  \\t,]*(?:e?xt(?:ensi(?:o?|))?n?|??|[,x#~]|int|anexo|)[:\\.]?[  \\t,-]*([0-9- --]{1,7})#?|[- ]+([0-9- --]{1,5})#)?$","i"),Ba=/(\$\d)/,Ca=/^\(?\$1\)?$/;function Da(a){var b=a.search(va);0<=b?(a=a.substring(b),a=a.replace(xa,""),b=a.search(wa),0<=b&&(a=a.substring(0,b))):a="";return a}function Ea(a){return 2>a.length?!1:M(Aa,a)}function Fa(a){return M(ya,a)?N(a,sa):N(a,K)}function Ga(a){var b=Fa(a.toString());a.clear();a.append(b)}function N(a,b){for(var c=new q,d,e=a.length,f=0;f<e;++f)d=a.charAt(f),d=b[d.toUpperCase()],null!=d&&c.append(d);return c.toString()}function O(a){return null!=a&&isNaN(a)&&a.toUpperCase()in ra}J.prototype.format=function(a,b){if(0==t(a,2)&&null!=a.c[5]){var c=w(a,5);if(0<c.length)return c}var c=a.k(),d=P(a);if(0==b)return Ha(c,0,d,"");if(!(c in I))return d;var e=Q(this,c,R(c)),f;f=null!=a.c[3]&&0!=a.getExtension().length?3==b?";ext="+a.getExtension():null!=e.c[13]?t(e,13)+w(a,3):" ext. "+w(a,3):"";a:{for(var e=0==(v(e,20)||[]).length||2==b?v(e,19)||[]:v(e,20)||[],g,h=e.length,l=0;l<h;++l){g=e[l];var m=x(g,3);if(0==m||0==d.search(t(g,3,m-1)))if(m=new RegExp(t(g,1)),M(m,d)){e=g;break a}}e=null}null!=e&&(h=e,e=w(h,2),g=new RegExp(t(h,1)),w(h,5),l="",h=w(h,4),l=2==b&&null!=h&&0<h.length?d.replace(g,e.replace(Ba,h)):d.replace(g,e),3==b&&(l=l.replace(RegExp("^[-x--   ().\\[\\]/~]+"),""),l=l.replace(RegExp("[-x--   ().\\[\\]/~]+","g"),"-")),d=l);return Ha(c,b,d,f)};function Q(a,b,c){return"001"==c?S(a,""+b):S(a,c)}function P(a){var b=""+t(a,2);return null!=a.c[4]&&t(a,4)?Array(w(a,8)+1).join("0")+b:b}function Ha(a,b,c,d){switch(b){case 0:return"+"+a+c+d;case 1:return"+"+a+" "+c+d;case 3:return"tel:+"+a+"-"+c+d;default:return c+d}}function Ia(a,b){switch(b){case 4:return t(a,5);case 3:return t(a,4);case 1:return t(a,3);case 0:case 2:return t(a,2);case 5:return t(a,6);case 6:return t(a,8);case 7:return t(a,7);case 8:return t(a,21);case 9:return t(a,25);case 10:return t(a,28);default:return t(a,1)}}function T(a,b){return U(a,t(b,1))?U(a,t(b,5))?4:U(a,t(b,4))?3:U(a,t(b,6))?5:U(a,t(b,8))?6:U(a,t(b,7))?7:U(a,t(b,21))?8:U(a,t(b,25))?9:U(a,t(b,28))?10:U(a,t(b,2))?t(b,18)||U(a,t(b,3))?2:0:!t(b,18)&&U(a,t(b,3))?1:-1:-1}function S(a,b){if(null==b)return null;b=b.toUpperCase();var c=a.va[b];if(null==c){c=ra[b];if(null==c)return null;c=(new H).v(C.q(),c);a.va[b]=c}return c}function U(a,b){return M(w(b,3),a)&&M(w(b,2),a)}function Ja(a,b){if(null==b)return null;var c=b.k(),c=I[c];if(null==c)c=null;else if(1==c.length)c=c[0];else a:{for(var d=P(b),e,f=c.length,g=0;g<f;g++){e=c[g];var h=S(a,e);if(null!=h.c[23]){if(0==d.search(t(h,23))){c=e;break a}}else if(-1!=T(d,h)){c=e;break a}}c=null}return c}function R(a){a=I[a];return null==a?"ZZ":a[0]}function Ka(a,b){var c=S(a,b);if(null==c)throw"Invalid region code: "+b;return c.k()}function V(a,b){return M(a,b)?0:0==b.search(a)?3:2}function La(a,b){var c=a.toString();if(0==c.length||"0"==c.charAt(0))return 0;for(var d,e=c.length,f=1;3>=f&&f<=e;++f)if(d=parseInt(c.substring(0,f),10),d in I)return b.append(c.substring(f)),d;return 0}function Ma(a,b,c,d,e){if(0==a.length)return 0;a=new q(a);var f;null!=b&&(f=t(b,11));null==f&&(f="NonMatch");var g=a.toString();if(0==g.length)f=20;else if(L.test(g))g=g.replace(L,""),a.clear(),a.append(Fa(g)),f=1;else{g=new RegExp(f);Ga(a);f=a.toString();if(0==f.search(g)){var g=f.match(g)[0].length,h=f.substring(g).match(ua);h&&null!=h[1]&&0<h[1].length&&"0"==N(h[1],K)?f=!1:(a.clear(),a.append(f.substring(g)),f=!0)}else f=!1;f=f?5:20}d&&u(e,6,f);if(20!=f){if(2>=a.e.length)throw"Phone number too short after IDD";c=La(a,c);if(0!=c)return e.aa(c),c;throw"Invalid country calling code"}if(null!=b&&(f=b.k(),g=""+f,h=a.toString(),0==h.lastIndexOf(g,0))){var l=new q(h.substring(g.length)),h=t(b,1),g=new RegExp(w(h,2));Na(l,b,null);b=l.toString();h=w(h,3);if(!M(g,a.toString())&&M(g,b)||3==V(h,a.toString()))return c.append(b),d&&u(e,6,10),e.aa(f),f}e.aa(0);return 0}function Na(a,b,c){var d=a.toString(),e=d.length,f=t(b,15);if(0!=e&&null!=f&&0!=f.length&&(f=new RegExp("^(?:"+f+")"),e=f.exec(d))){var g=RegExp,h;h=t(b,1);h=w(h,2);g=new g(h);h=M(g,d);var l=e.length-1;b=t(b,16);if(null==b||0==b.length||null==e[l]||0==e[l].length){if(!h||M(g,d.substring(e[0].length)))null!=c&&0<l&&null!=e[l]&&c.append(e[1]),a.set(d.substring(e[0].length))}else if(d=d.replace(f,b),!h||M(g,d))null!=c&&0<l&&c.append(e[1]),a.set(d)}}J.prototype.parse=function(a,b){return Oa(this,a,b,!1)};function W(a,b,c){if(!O(c)&&0<b.length&&"+"!=b.charAt(0))throw"Invalid country calling code";return Oa(a,b,c,!0)}function Oa(a,b,c,d){if(null==b)throw"The string supplied did not seem to be a phone number";if(250<b.length)throw"The string supplied is too long to be a phone number";var e=new q,f=b.indexOf(";phone-context=");if(0<f){var g=f+15;if("+"==b.charAt(g)){var h=b.indexOf(";",g);0<h?e.append(b.substring(g,h)):e.append(b.substring(g))}g=b.indexOf("tel:");e.append(b.substring(0<=g?g+4:0,f))}else e.append(Da(b));f=e.toString();g=f.indexOf(";isub=");0<g&&(e.clear(),e.append(f.substring(0,g)));if(!Ea(e.toString()))throw"The string supplied did not seem to be a phone number";f=e.toString();if(!(O(c)||null!=f&&0<f.length&&L.test(f)))throw"Invalid country calling code";f=new E;d&&u(f,5,b);a:{b=e.toString();g=b.search(za);if(0<=g&&Ea(b.substring(0,g)))for(var h=b.match(za),l=h.length,m=1;m<l;++m)if(null!=h[m]&&0<h[m].length){e.clear();e.append(b.substring(0,g));b=h[m];break a}b=""}0<b.length&&u(f,3,b);g=S(a,c);b=new q;h=0;l=e.toString();try{h=Ma(l,g,b,d,f)}catch(z){if("Invalid country calling code"==z&&L.test(l)){if(l=l.replace(L,""),h=Ma(l,g,b,d,f),0==h)throw z}else throw z}0!=h?(e=R(h),e!=c&&(g=Q(a,h,e))):(Ga(e),b.append(e.toString()),null!=c?(h=g.k(),f.aa(h)):d&&pa(f,6));if(2>b.e.length)throw"The string supplied is too short to be a phone number";null!=g&&(a=new q,c=new q(b.toString()),Na(c,g,a),e=c.toString(),g=t(g,1),g=w(g,3),2!=V(g,e)&&(b=c,d&&u(f,7,a.toString())));d=b.toString();a=d.length;if(2>a)throw"The string supplied is too short to be a phone number";if(17<a)throw"The string supplied is too long to be a phone number";if(1<d.length&&"0"==d.charAt(0)){u(f,4,!0);for(a=1;a<d.length-1&&"0"==d.charAt(a);)a++;1!=a&&u(f,8,a)}u(f,2,parseInt(d,10));return f}function M(a,b){var c="string"==typeof a?b.match("^(?:"+a+")$"):b.match(a);return c&&c[0].length==b.length?!0:!1}function Pa(a){this.qa="";this.ha=new RegExp(this.qa);this.ia="";this.p=new q;this.ba="";this.j=new q;this.t=new q;this.l=!0;this.w=this.s=this.la=!1;this.pa=J.r();this.$=0;this.d=new q;this.ga=!1;this.n="";this.b=new q;this.g=[];this.ja=a;this.wa=this.h=X(this,this.ja)}var Qa=new C;u(Qa,11,"NA");var Ra=/\[([^\[\]])*\]/g,Sa=/\d(?=[^,}][^,}])/g,Ta=RegExp("^[-x--   ().\\[\\]/~]*(\\$\\d[-x--   ().\\[\\]/~]*)+$"),Ua=/[- ]/;function X(a,b){var c=O(b)?Ka(a.pa,b):0,c=S(a.pa,R(c));return null!=c?c:Qa}function Va(a){for(var b=a.g.length,c=0;c<b;++c){var d=a.g[c],e=w(d,1);if(a.ba==e)return!1;var f;f=a;var g=d,h=w(g,1);if(-1!=h.indexOf("|"))f=!1;else{h=h.replace(Ra,"\\d");h=h.replace(Sa,"\\d");f.p.clear();var l;l=f;var g=w(g,2),m="999999999999999".match(h)[0];m.length<l.b.e.length?l="":(h=m.replace(new RegExp(h,"g"),g),l=h=h.replace(RegExp("9","g"),l.qa));0<l.length?(f.p.append(l),f=!0):f=!1}if(f)return a.ba=e,a.ga=Ua.test(t(d,4)),a.$=0,!0}return a.l=!1}function Wa(a,b){for(var c=[],d=b.length-3,e=a.g.length,f=0;f<e;++f){var g=a.g[f];if(0==x(g,3))c.push(a.g[f]);else{var h=Math.min(d,x(g,3)-1),g=t(g,3,h);0==b.search(g)&&c.push(a.g[f])}}a.g=c}Pa.prototype.clear=function(){this.ia="";this.j.clear();this.t.clear();this.p.clear();this.$=0;this.ba="";this.d.clear();this.n="";this.b.clear();this.l=!0;this.w=this.s=this.la=!1;this.g=[];this.ga=!1;this.h!=this.wa&&(this.h=X(this,this.ja))};function Xa(a,b){a.ia=Ya(a,b);return a.ia}function Ya(a,b){a.j.append(b);var c=b;if(ua.test(c)||1==a.j.e.length&&ta.test(c)){var c=b,d;"+"==c?(d=c,a.t.append(c)):(d=K[c],a.t.append(d),a.b.append(d));b=d}else a.l=!1,a.la=!0;if(!a.l){if(!a.la)if(Za(a)){if($a(a))return ab(a)}else if(0<a.n.length&&(c=a.b.toString(),a.b.clear(),a.b.append(a.n),a.b.append(c),c=a.d.toString(),d=c.lastIndexOf(a.n),a.d.clear(),a.d.append(c.substring(0,d))),a.n!=bb(a))return a.d.append(" "),ab(a);return a.j.toString()}switch(a.t.e.length){case 0:case 1:case 2:return a.j.toString();case 3:if(Za(a))a.w=!0;else return a.n=bb(a),Y(a);default:if(a.w)return $a(a)&&(a.w=!1),a.d.toString()+a.b.toString();if(0<a.g.length){c=cb(a,b);d=db(a);if(0<d.length)return d;Wa(a,a.b.toString());return Va(a)?eb(a):a.l?Z(a,c):a.j.toString()}return Y(a)}}function ab(a){a.l=!0;a.w=!1;a.g=[];return Y(a)}function db(a){for(var b=a.b.toString(),c=a.g.length,d=0;d<c;++d){var e=a.g[d],f=w(e,1);if(new RegExp("^(?:"+f+")$").test(b))return a.ga=Ua.test(t(e,4)),b=b.replace(new RegExp(f,"g"),t(e,2)),Z(a,b)}return""}function Z(a,b){var c=a.d.e.length;return a.ga&&0<c&&" "!=a.d.toString().charAt(c-1)?a.d+" "+b:a.d+b}function Y(a){var b=a.b.toString();if(3<=b.length){for(var c=a.s&&0<x(a.h,20)?v(a.h,20)||[]:v(a.h,19)||[],d=c.length,e=0;e<d;++e){var f=c[e],g;(g=null==a.h.c[12]||a.s||t(f,6))||(g=w(f,4),g=0==g.length||Ca.test(g));g&&(g=w(f,2),Ta.test(g)&&a.g.push(f))}Wa(a,b);b=db(a);return 0<b.length?b:Va(a)?eb(a):a.j.toString()}return Z(a,b)}function eb(a){var b=a.b.toString(),c=b.length;if(0<c){for(var d="",e=0;e<c;e++)d=cb(a,b.charAt(e));return a.l?Z(a,d):a.j.toString()}return a.d.toString()}function bb(a){var b=a.b.toString(),c=0,d;1!=a.h.sa()?d=!1:(d=a.b.toString(),d="1"==d.charAt(0)&&"0"!=d.charAt(1)&&"1"!=d.charAt(1));d?(c=1,a.d.append("1").append(" "),a.s=!0):null!=a.h.c[15]&&(d=new RegExp("^(?:"+t(a.h,15)+")"),d=b.match(d),null!=d&&null!=d[0]&&0<d[0].length&&(a.s=!0,c=d[0].length,a.d.append(b.substring(0,c))));a.b.clear();a.b.append(b.substring(c));return b.substring(0,c)}function Za(a){var b=a.t.toString(),c=new RegExp("^(?:\\+|"+t(a.h,11)+")"),c=b.match(c);return null!=c&&null!=c[0]&&0<c[0].length?(a.s=!0,c=c[0].length,a.b.clear(),a.b.append(b.substring(c)),a.d.clear(),a.d.append(b.substring(0,c)),"+"!=b.charAt(0)&&a.d.append(" "),!0):!1}function $a(a){if(0==a.b.e.length)return!1;var b=new q,c=La(a.b,b);if(0==c)return!1;a.b.clear();a.b.append(b.toString());b=R(c);"001"==b?a.h=S(a.pa,""+c):b!=a.ja&&(a.h=X(a,b));a.d.append(""+c).append(" ");a.n="";return!0}function cb(a,b){var c=a.p.toString();if(0<=c.substring(a.$).search(a.ha)){var d=c.search(a.ha),c=c.replace(a.ha,b);a.p.clear();a.p.append(c);a.$=d;return c.substring(0,a.$+1)}1==a.g.length&&(a.l=!1);a.ba="";return a.j.toString()}n("intlTelInputUtils",{});n("intlTelInputUtils.formatNumber",function(a,b,c,d,e){try{var f=a.replace(/\D/g,""),g=new Pa(b);b="";var h;"+"==a.substr(0,1)&&(f="+"+f);for(var l=0;l<f.length;l++){h=Xa(g,f.charAt(l));if(d&&b&&h.length<=b.length&&-1==h.indexOf(" ")){h=-1;break}b=h}" "==b.charAt(b.length-1)&&(b=b.substr(0,b.length-1));if(c){var m=Xa(g,"5");" "==m.charAt(m.length-1)&&(m=m.substr(0,m.length-1));if(isNaN(parseFloat(m.substr(m.length-2,1))))return m.substr(0,m.length-1);if(d&&b&&m.length<=b.length&&-1==m.indexOf(" ")&&!e)return b+" ext. "}-1==h&&(b+=" ext. "+f.substring(l,f.length));return b}catch(z){return a}});n("intlTelInputUtils.formatNumberByType",function(a,b,c){try{var d=J.r(),e=W(d,a,b);return d.format(e,"undefined"==typeof c?0:c)}catch(f){return""}});n("intlTelInputUtils.getExampleNumber",function(a,b,c){try{var d=J.r(),e;a:{if(O(a)){var f=Ia(S(d,a),c);try{if(null!=f.c[6]){e=d.parse(w(f,6),a);break a}}catch(g){}}e=null}return d.format(e,b?2:1)}catch(h){return""}});n("intlTelInputUtils.getNumberType",function(a,b){try{var c=J.r(),d;var e=W(c,a,b),f=Ja(c,e),g=Q(c,e.k(),f);if(null==g)d=-1;else{var h=P(e);d=T(h,g)}return d}catch(l){return-99}});n("intlTelInputUtils.getValidationError",function(a,b){try{var c=J.r(),d;var e=W(c,a,b),f=P(e),g=e.k();if(g in I){var h,l=Q(c,g,R(g));h=t(l,1);var m=w(h,3);d=V(m,f)}else d=1;return d}catch(z){return"Invalid country calling code"==z?1:"The string supplied did not seem to be a phone number"==z?4:"Phone number too short after IDD"==z||"The string supplied is too short to be a phone number"==z?2:"The string supplied is too long to be a phone number"==z?3:-99}});n("intlTelInputUtils.isValidNumber",function(a,b){try{var c=J.r(),d=W(c,a,b),e;var f=Ja(c,d),g=d.k(),h=Q(c,g,f);if(null==h||"001"!=f&&g!=Ka(c,f))e=!1;else{var l=P(d);e=-1!=T(l,h)}return e}catch(m){return!1}});n("intlTelInputUtils.numberType",{FIXED_LINE:0,MOBILE:1,FIXED_LINE_OR_MOBILE:2,TOLL_FREE:3,PREMIUM_RATE:4,SHARED_COST:5,VOIP:6,PERSONAL_NUMBER:7,PAGER:8,UAN:9,VOICEMAIL:10,UNKNOWN:-1});n("intlTelInputUtils.validationError",{IS_POSSIBLE:0,INVALID_COUNTRY_CODE:1,TOO_SHORT:2,TOO_LONG:3,NOT_A_NUMBER:4});n("intlTelInputUtils.numberFormat",{E164:0,INTERNATIONAL:1,NATIONAL:2,RFC3966:3})})();if(typeof angular==="undefined"){throw new Error("Angular is required to use any of the util services")}var utilServices=angular.module("utilServices",[]);utilServices.filter("truncate",function(){return function(text,length,end){if(typeof text=="undefined"){return""}if(isNaN(length))length=10;if(end===undefined)end="...";if(text.length<=length||text.length-end.length<=length){return text}else{return String(text).substring(0,length-end.length)+end}}});utilServices.directive("errSrc",function(){return{scope:{errSrc:"&"},link:function(scope,element,attrs){element.bind("error",function(){element.attr("src","/img/reviewer_nothumb.gif");element.attr("alt","")})}}});String.prototype.upperFirst=function(){var str=this;return str.substr(0,1).toUpperCase()+str.substr(1,str.length)};if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the dispatcher")}utilServices.service("dispatcher",function(){return{callbacks:[],dispatch:function(action,data){var payload={action:action,data:data};this.callbacks.forEach(function(callback){callback.callback.apply(callback.service,[payload])})},register:function(callback,service){this.callbacks.push({callback:callback,service:service});return this.callbacks.length-1}}});var DataStore=new function(){$=jQuery.noConflict();return{rows:{},collections:{},create:function(config){if(typeof config==="undefined"){throw new Error("Invalid store configuration, please supply a valid Javascript Object")}var tmp={};jQuery.extend(true,tmp,this,config);return tmp},listen:function(event,callback){$(window).on(event,callback)},stopListen:function(event,callback){$(window).off(event,callback)},emit:function(event,data){$(window).trigger(event,[data])},_merge:function(obj1,obj2,depth){if(typeof depth==="undefined"){depth=1}var $me=this;if(depth===4){return obj2}for(var p in obj2){try{if(obj2[p].constructor===Object){obj1[p]=$me._merge(obj1[p],obj2[p],depth+1)}else{obj1[p]=obj2[p]}}catch(e){obj1[p]=obj2[p]}}return obj1},clear:function(model){this.rows[model]=[]},upsertRow:function(model,key_field,key_value,newRow){var bUpdated=false;var toReturn=newRow;if(typeof this.rows[model]==="undefined"){this.rows[model]=[]}var rows=this.rows[model];var $me=this;rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]===key_value){if(typeof rows[index]==="undefined"){rows[index]={}}rows[index]=$me._merge(rows[index],newRow);toReturn=rows[index];bUpdated=true}});if(!bUpdated){newRow[key_field]=key_value;this.rows[model].push(newRow)}return toReturn},upsertCollection:function(model,objectPrimaryKey,rawCollection,objectSchema){if(typeof this.collections[model]==="undefined"){this.collections[model]=this.sanitize(rawCollection,this.schema.Collection(objectSchema))}var $me=this;var storeCollection=this.collections[model];storeCollection.total=rawCollection.total;storeCollection.limit=typeof rawCollection.limit!=="undefined"?rawCollection.limit:storeCollection.limit;var old_page=storeCollection.page;storeCollection.page=typeof rawCollection.offset!=="undefined"?rawCollection.offset/storeCollection.limit:storeCollection.page;var newRecords=[];var rows=this.getRows(model);var matchedRows=[];rawCollection.rows.forEach(function(rawRow){var sanitizedRow=$me.sanitize(rawRow,objectSchema);var exists=false;rows.forEach(function(row,index){if(sanitizedRow[objectPrimaryKey]==row[objectPrimaryKey]){rows[index]=sanitizedRow;exists=true}});if(!exists){newRecords.push(sanitizedRow)}storeCollection.upsertRow(objectPrimaryKey,sanitizedRow[objectPrimaryKey],sanitizedRow,objectSchema);matchedRows.push(sanitizedRow)});rows=rows.concat(newRecords);this.rows[model]=rows;storeCollection.page=old_page;this.collections[model]=storeCollection},getCollection:function(model,config){if(typeof this.collections[model]==="undefined"){this.collections[model]=this.sanitize({},this.schema.Collection(false))}if(typeof config!=="undefined"){this.collections[model]=this.collections[model].create(config)}return this.collections[model]},replaceRow:function(model,key_field,key_value,newRow){var bUpdated=false;if(typeof this.rows[model]==="undefined"){this.rows[model]=[]}var rows=this.rows[model];var $me=this;rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]===key_value){if(typeof rows[index]==="undefined"){rows[index]={}}rows[index]=newRow;bUpdated=true}});if(!bUpdated){this.rows[model].push(newRow)}},removeRow:function(model,key_field,key_value){if(typeof this.rows[model]==="undefined"){return}var rows=this.rows[model];var indexes=[];rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]==key_value){indexes.push(index)}});if(indexes.length===0){return}for(i=0;i<indexes.length;i++){this.rows[model].splice(indexes[i],1)}},getRows:function(model,slice){if(typeof this.rows[model]!=="undefined"){return typeof slice!=="undefined"&&!slice?this.rows[model]:this.rows[model].slice(0)}return[]},sanitizeAndValidate:function(obj,schema){var model=this.sanitize(obj,schema);var validation=this.validate(model,schema);if(validation===true){return model}return validation},validate:function(obj,schema){var errors=[];for(var field in schema){if(typeof schema[field].validation!=="undefined"){var bError=false;for(var validation in schema[field].validation){if(errors.length>0){continue}var value=obj[field];if(typeof schema[field].label!=="undefined"){var label=schema[field].label}else{var label=field.split("_").map(function(p){return p.substr(0,1).toUpperCase()+p.substr(1)}).join(" ")}switch(validation){case"required":if(typeof value==="undefined"||value===null||value===""){errors.push(label+" is required")}break;case"minLength":if(value.length!==0&&value.length<schema[field].validation[validation]){errors.push(label+" must be at least "+schema[field].validation[validation]+" characters")}break;case"maxLength":if(value.length!==0&&value.length>schema[field].validation[validation]){errors.push(label+" must be at under "+schema[field].validation[validation]+" characters")}break;case"email":var pattern=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(value.length!==0&&!pattern.test(value)){errors.push(label+" must be a valid email characters")}break;case"phone":var pattern=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;if(value.length!==0&&!pattern.test(value)){errors.push(label+" must be a valid phone number in XXX-XXX-XXXX format")}default:if(typeof schema[field].validation[validation]==="function"){var results=schema[field].validation[validation](value);if(results!==true){errors=errors.concat(results)}}break}}}}if(errors.length>0){return errors}return true},base64Encode:function(str){return window.btoa(unescape(encodeURIComponent(str)))},base64Decode:function(str){return decodeURIComponent(escape(window.atob(str)))},sanitize:function(obj,schema){var clean={};var tmp=jQuery.extend(true,{},obj);for(var field in schema){clean[field]=this._sanitizeField(field,tmp,schema)}return clean},_sanitizeField:function(field,obj,schema){if(schema[field].type==="function"){return typeof obj[field]!=="undefined"?obj[field]:schema[field].value}if(typeof obj[field]==="undefined"){if(typeof schema[field]["initial"]!=="undefined"){obj[field]=schema[field]["initial"]()}else{obj[field]=null}}var type=schema[field]["type"];if(obj[field]===null&&type!=="obj"&&type!=="object"){return null}schema[field].field=field;switch(type){case"int":case"integer":return this._sanitizeInteger(obj[field],schema[field]);case"float":case"double":return this._sanitizeFloat(obj[field],schema[field]);case"string":case"char":case"varchar":return this._sanitizeString(obj[field],schema[field]);case"date":case"datetime":case"timestamp":return this._sanitizeDateTime(obj[field],schema[field]);case"bool":case"boolean":return this._sanitizeBoolean(obj[field],schema[field],field);case"obj":case"object":return this._sanitizeObject(obj[field],schema[field]);case"array":case"collection":return this._sanitizeArray(obj[field],schema[field]);case"phone":return this._sanitizePhone(obj[field],schema[field]);case"callback":return this._sanitizeCallback(obj[field],schema[field],field)}},_sanitizeInteger:function(value,schemaConfig){if(typeof value==="string"&&value.indexOf(" ")>=0){value=value.replace(/ /g,"")}value=parseInt(value);if(typeof schemaConfig.min!=="undefined"&&value<schemaConfig.min){throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed")}if(typeof schemaConfig.max!=="undefined"&&value>schemaConfig.max){throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed")}return value},_sanitizeFloat:function(value,schemaConfig){value=parseFloat(value);if(typeof schemaConfig.min!=="undefined"&&value<schemaConfig.min){throw new Error("Provided value cannot be sanitized, value is below minimum float allowed")}if(typeof schemaConfig.max!=="undefined"&&value>schemaConfig.max){throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed")}return value},_sanitizeString:function(value,schemaConfig){value=String(value);if(typeof schemaConfig.maxLength!=="undefined"&&value.length>schemaConfig.maxLength){console.warn("Value was truncated during sanitation");value=value.substr(0,schemaConfig.maxLength)}return value},_sanitizeCallback:function(value,schemaConfig,field){if(typeof value!=="function"){console.warn(field+" does not have a valid callback");value=null}return value},_sanitizeDateTime:function(value,schemaConfig){if(moment.isMoment(value)){return value}if(moment(value,schemaConfig.format).isValid()){return moment(value)}console.error("Provided value ("+value+") cannot be sanitized for field ("+schemaConfig.field+"), is not a valid date");return null},_sanitizeBoolean:function(value,schemaConfig,field){if(value===false||value===true){return value}if(typeof value=="string"){if(value.toLowerCase().trim()==="false"){return false}if(value.toLowerCase().trim()==="true"){return true}}if(parseInt(value)===0){return false}if(parseInt(value)===1){return true}throw new Error("Provided value ("+value+") for field ("+field+") cannot be santized, is not a valid boolean")},_sanitizeObject:function(value,schemaConfig){if(typeof schemaConfig.schema==="undefined"){throw new Error("Provided value cannot be santized, no reference schema provided for field type of object")}if(schemaConfig.schema===null){return value}if(value===null){value={}}return this.sanitize(value,schemaConfig.schema())},_sanitizeArray:function(value,schemaConfig){if(typeof schemaConfig.schema==="undefined"||schemaConfig.schema===null||schemaConfig.schema===false){return value}if(typeof value.length==="undefined"){return[]}var $me=this;return value.map(function(v){return $me.sanitize(v,schemaConfig.schema())})},_sanitizePhone:function(value,schemaConfig){if(typeof value==="undefined"||value.length===0){return""}value=value.replace(/\D/g,"");var tel=intlTelInputUtils.formatNumber(value,"US");return tel},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})},schema:{Collection:function(object_schema){return{limit:{type:"int",initial:function(){return 25}},page:{type:"int",initial:function(){return 0}},setPage:{type:"function",value:function(page){this.page=parseInt(page);this.load();this.onUpdate()}},total_pages:{type:"int",initial:function(){return 0}},load:{type:"function",value:function(){console.warn('Non overloaded "load" function in collection')}},onUpdate:{type:"function",value:function(){console.warn('Non overloaded "onUpdate" function in collection')}},getOffset:{type:"function",value:function(){return this.limit*this.page}},hasNext:{type:"function",value:function(e){if(typeof e!=="undefined"&&!(parseInt(this.page)+1<this.getPages())){e.preventDefault()}return parseInt(this.page)+1<this.getPages()}},getNextUrl:{type:"function",value:function(base_url){return"#/"+base_url+"/"+(parseInt(this.page)+1)}},hasPrev:{type:"function",value:function(e){if(typeof e!=="undefined"&&!(this.page>0)){e.preventDefault()}return this.page>0}},getPrevUrl:{type:"function",value:function(base_url){return"#/"+base_url+"/"+(parseInt(this.page)-1)}},getPages:{type:"function",value:function(){return Math.ceil(this.total/this.limit)}},getSliceEnd:{type:"function",value:function(){return this.getOffset()+this.limit}},filter:{type:"function",value:function(a){return true}},find:{type:"function",value:function(filter){var rows=this.rows.filter(filter);if(rows.length===0){return false}if(rows.length===1){return rows[0]}return rows}},_schema:object_schema,rows:{type:"array",schema:function(){return object_schema},initial:function(){return[]}},getRows:{type:"function",value:function(){var rows=this.rows.slice(0);for(var i=0;i<rows.length;i++){if(typeof rows[i]==="undefined"){rows[i]=DataStore.sanitize({},object_schema)}}return rows.filter(this.filter).slice(this.getOffset(),this.getSliceEnd())}},total:{type:"int",initial:function(){return 0}},upsertRow:{type:"function",value:function(primaryKey,primaryValue,object,object_schema){var $me=this;var exists=false;var offset=this.getOffset();var rows=this.rows.slice(0);rows.forEach(function(row,index){if(!exists&&row[primaryKey]==object[primaryKey]){$me.rows[index]=DataStore.sanitize(object,object_schema);exists=true}if(index===offset){offset++}});if(!exists){rows[offset]=DataStore.sanitize(object,object_schema)}this.rows=rows}},removeRow:{type:"function",value:function(key_field,key_value){var rows=this.rows;var indexes=[];rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]==key_value){indexes.push(index)}});if(indexes.length===0){return}for(i=0;i<indexes.length;i++){this.rows.splice(indexes[i],1)}}},replaceRow:{type:"function",value:function(key_field,key_value,newRow){var bUpdated=false;var rows=this.rows;var $me=this;rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]===key_value){if(typeof rows[index]==="undefined"){rows[index]={}}$me.rows[index]=newRow;bUpdated=true}});if(!bUpdated){this.rows.push(newRow)}}},clear:{type:"function",value:function(){this.rows=[]}},create:{type:"function",value:function(config){return $.extend(true,this,config)}}}},string:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"string"},params)},int:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"int"},params)},double:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"double"},params)},bool:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"bool"},params)},float:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"float"},params)},array:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"array",schema:null},params)},object:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"object",schema:null},params)},datetime:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"datetime",schema:null},params)},callback:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"callback",schema:null},params)}},collection:new function(){return{create:function(config){var tmp={};$.extend(true,tmp,this,config);return tmp},schema:null,limit:1,page:0,setPage:function(page){this.page=page;if(this.page>=this.getPages()&&this.getPages()!==0){this.page=this.getPages()-1}if(this.page<0){this.page=0}},getPages:function(){return Math.ceil(this.currentTotal/this.limit)},allRows:[],currentTotal:0,matchedRows:[],rows:[],reset:function(){this.page=0;this._dirty=true;this.matchedRows=this.allRows.filter(this.filter.apply(this));this.pageRow[0]=this.matchedRows.slice(0,this.limit);this.onUpdate()},filters:{},filter:function(){var count=0;for(var i in this.filters){count++}if(count>0){return function(filters,a){for(var field in filters){var filter=filters[field];if(typeof a[field]==="undefined"){return false}for(var operator in filter){var value=filter[operator];var success=true;switch(operator){case"eq":if(a[field]!=value){return false}break;case"gt":if(a[field]<=value){return false}break;case"gte":if(a[field]<value){return false}break;case"lt":if(a[field]>=value){return false}break;case"lte":if(a[field]>value){return false}break;case"isNull":if(a[field]!==null){return false}break;case"notNull":if(a[field]===null){return false}break;case"like":if((""+a[field]).toLowerCase().indexOf(value.toLowerCase())===-1){return false}break;case"notLike":if((""+a[field]).toLowerCase().indexOf(value.toLowerCase())!==-1){return false}break;case"custom":if(!value(a)){return false}break}}}return true}.bind(null,this.filters)}return function(){return true}},sort:false,_cache:{},_dirty:false,getAllRows:function(){return this.allRows},pageRow:{},getRows:function(){if(typeof this.search!=="undefined"&&this.search.length===0&&typeof this.pageRow[this.page]!=="undefined"){return this.pageRow[this.page]}return this.matchedRows.slice(this.getOffset(),this.getSliceEnd())},getOffset:function(){return this.limit*this.page},getSliceEnd:function(){return this.getOffset()+this.limit},getRangeOfTotal:function(){if(this.getRows().length===0){return"Showing 0 out of 0"}var currentPageStart=this.getOffset()+1;var currentPageEnd=this.getOffset()+this.getRows().length;var currentTotal=Math.max(this.currentTotal,currentPageEnd);return"Showing "+currentPageStart+" - "+currentPageEnd+" out of "+currentTotal},upsertRow:function(primaryKey,rawRow,fromCollection){if(this.schema!==null){rawRow=DataStore.sanitize(rawRow,this.schema)}var existing=false;var success=false;this.allRows.forEach(function(row){if(row[primaryKey]==rawRow[primaryKey]){row=rawRow;existing=true}});if(!existing){this.allRows.push(rawRow)}if(typeof this.pageRow[fromCollection.page]==="undefined"){this.pageRow[fromCollection.page]=[]}var existing=false;this.pageRow[fromCollection.page].forEach(function(row){if(row[primaryKey]==rawRow[primaryKey]){row=rawRow;existing=true}});if(!existing&&[rawRow].filter(this.filter()).length>0){this.pageRow[fromCollection.page].push(rawRow)}},update:function(){this.matchedRows=this.allRows.filter(this.filter());this.onUpdate();this.emit(this.events.UPDATE.apply(this))},onUpdate:function(){},emit:function(event,data){$(window).trigger(event,data)},listen:function(event,func){$(window).bind(event,func)},ignore:function(event,func){$(window).unbind(event,func)},stopListen:function(event,func){this.ignore(event,func)},updateCurrentCollection:function(primaryKey,collection){this.currentTotal=collection.total;var $me=this;collection.rows.forEach(function(row){$me.upsertRow(primaryKey,row,collection)});this.update()},events:{UPDATE:function(){return this.name+".events.UPDATE"}},hasPrev:function(e){if(typeof e!=="undefined"&&!(this.page>0)){e.preventDefault()}return this.page>0},hasNext:function(e){if(typeof e!=="undefined"&&!(parseInt(this.page)+1<this.getPages())){e.preventDefault()}return parseInt(this.page)+1<this.getPages()},getNextUrl:function(base_url){return"#/"+base_url+"/"+Math.min(parseInt(this.page)+1,this.getPages()-1)},getPrevUrl:function(base_url){return"#/"+base_url+"/"+Math.max(parseInt(this.page)-1,0)},setFilters:function(filters,dirty){this.filters=filters;if(""+this.filters!=""+filters||typeof dirty!=="undefined"&&dirty===true){this.reset()}},setFilter:function(filter,params){this.filters[filter]=params;this.reset()},getFilter:function(filter){if(typeof this.filters[filter]!=="undefined"){return this.filters[filter]}return false},changed:function(){this.update();this.load()}}}}};if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the api service")}utilServices.service("apiService",function($http){return{_buildUrl:function(url,data,query_string){for(var i in data){if(url.indexOf("{"+i+"}")!==-1){url=url.replace("{"+i+"}",data[i]);continue}if(typeof query_string!=="undefined"&&query_string===false){continue}if(url.indexOf("?")!==-1){url+="&"}else{url+="?"}url+=i+"="+data[i]}return url},get:function(url,data,config){return $http.get(this._buildUrl(url,data),config)},patch:function(url,data,config){"use strict";return $http.patch(this._buildUrl(url,data,false),data,config)},post:function(url,data,config){return $http.post(this._buildUrl(url,data,false),data,config)},put:function(url,data,config){return $http.put(this._buildUrl(url,data,false),data,config)},delete:function(url,data,config){return $http.delete(this._buildUrl(url,data),config)},jsonp:function(url,data,config){return $http.jsonp(this._buildUrl(url,data),config)},throttle:function throttle(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}}}});if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the notification service")}utilServices.service("notificationService",function(){var NOTIFICATION_TYPE_SUCCESS="success";var NOTIFICATION_TYPE_ERROR="error";var NOTIFICATION_TYPE_CONFIRM="warning";return DataStore.create({notifications:{},success:function(messages,group,replace,callback,params){if(typeof params!=="object"){params={}}params.showCancelButton=typeof params.showCancelButton!=="undefined"?params.showCancelButton:false;this._notify(NOTIFICATION_TYPE_SUCCESS,messages,group,replace,callback,params)},error:function(messages,group,replace,callback,params){if(typeof params!=="object"){params={}}params.showCancelButton=typeof params.showCancelButton!=="undefined"?params.showCancelButton:false;this._notify(NOTIFICATION_TYPE_ERROR,messages,group,replace,callback,params)},getNotifications:function(group){if(typeof group==="undefined"){return false}return this.notifications[group]},remove:function(group,type,message){if(typeof this.notifications[group]==="undefined"){return}if(typeof this.notifications[group][type]==="undefined"){return}this.notifications[group][type]=this.notifications[group][type].filter(function(message){if(message!==message){return true}return false});this.emit(this.events.UPDATE)},confirm:function(message,callback,params){this._notify("warning",message,null,null,callback,params)},_notify:function(type,messages,group,replace,confirm,params){if(typeof messages==="string"){var messages=[messages]}if(typeof swal!=="undefined"){if(messages.length>0){var config={type:type,text:messages.join("  "),title:this._getTitle(type),showCancelButton:typeof confirm!=="undefined"};if(typeof params==="object"){$.extend(true,config,params)}swal(config,function(isConfirm){if(isConfirm){if(typeof confirm!=="undefined"){confirm()}}})}return}if(typeof messages==="undefined"||typeof messages.length==="undefined"||!messages.length){if(typeof replace!=="undefined"&&replace===true&&typeof this.notifications[group]!=="undefined"){this.notifications[group][type]=[];this.emit(this.events.UPDATE)}return}if(typeof group==="undefined"){throw new Error("Invalid group given for notification services, messages: ["+messages.join(", ")+"]")}var $me=this;messages.forEach(function(message){$me.remove(group,type,message)});var notificationContainer=$('*[data-ch-notifications="'+group+'"]');if(notificationContainer.length===0){group="general"}var visible=false;notificationContainer.each(function(i,node){if(node.offsetParent!==null){visible=true}});if(!visible){group="general"}if(typeof this.notifications[group]==="undefined"){this.notifications[group]={success:[],error:[]}}if(typeof replace!=="undefined"&&replace===true){this.notifications[group][type]=messages}else{this.notifications[group][type]=this.notifications[group][type].concat(messages)}this.emit(this.events.UPDATE)},_getTitle:function(type){switch(type){case NOTIFICATION_TYPE_SUCCESS:return"Success!";case NOTIFICATION_TYPE_ERROR:return"Oops!";case NOTIFICATION_TYPE_CONFIRM:return"Are you sure?";default:return"Hey!"}},events:{UPDATE:"notificationService.events.UPDATE"}})});utilServices.directive("chNotifications",function(notificationService){return{scope:{chNotifications:"@"},controller:function($scope){$scope._notifications={error:[],success:[]};$scope._notificationShowError=false;$scope._notificationShowSuccess=false;$scope.updateNotifications=function(){$scope._notifications=notificationService.getNotifications($scope.chNotifications);if(!$scope._notifications){return}if($scope._notifications.error.length>0){$scope._notificationShowError=true}else{$scope._notificationShowError=false}if($scope._notifications.success.length>0){$scope._notificationShowSuccess=true}else{$scope._notificationShowSuccess=false}};notificationService.listen(notificationService.events.UPDATE,$scope.updateNotifications);$scope.updateNotifications();$scope.hide=function(e,type,message){e.preventDefault();notificationService.remove($scope.chNotifications,type,message)}},replace:true,template:'<div><div data-ng-show="_notificationShowError" class="error follow-message-wrapper" ng-repeat="error in _notifications.error track by $index"><ul class="follow-messages"><li>{[ error ]} <a href="#" data-ng-click="hide($event, \'error\', error);" class="close">&times;</a></li></ul></div>\n                   <div data-ng-show="_notificationShowSuccess" class="status follow-message-wrapper"><ul class="follow-messages"><li ng-repeat="success in _notifications.success track by $index">{[ success ]} <a href="#" data-ng-click="hide($event, \'success\', success);" class="close">&times;</a></li></ul></div></div>'}});(function(window,document,undefined){var modalClass=".ch-alert",overlayClass=".ch-overlay",alertTypes=["error","warning","info","success","input","prompt"],defaultParams={title:"",text:"",type:null,allowOutsideClick:false,showConfirmButton:true,showCancelButton:false,closeOnConfirm:true,closeOnCancel:true,confirmButtonText:"OK",confirmButtonColor:"confirm",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:false,animation:true,allowEscapeKey:true,inputType:"text",inputPlaceholder:"",inputValue:"",hasBottomPromo:false,bottomPromoHtml:""};var getModal=function(){var $modal=document.querySelector(modalClass);if(!$modal){sweetAlertInitialize();$modal=getModal()}return $modal};var getInput=function(){var modal=getModal();if(modal){return modal.querySelector("input")}},getOverlay=function(){return document.querySelector(overlayClass)},hasClass=function(elem,className){return new RegExp(" "+className+" ").test(" "+elem.className+" ")},addClass=function(elem,className){if(!hasClass(elem,className)){elem.className+=" "+className}},removeClass=function(elem,className){var newClass=" "+elem.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(elem,className)){while(newClass.indexOf(" "+className+" ")>=0){newClass=newClass.replace(" "+className+" "," ")}elem.className=newClass.replace(/^\s+|\s+$/g,"")}},escapeHtml=function(str){var div=document.createElement("div");div.appendChild(document.createTextNode(str));return div.innerHTML},_show=function(elem){elem.style.opacity="";elem.style.display="block"},show=function(elems){if(elems&&!elems.length){return _show(elems)}for(var i=0;i<elems.length;++i){_show(elems[i])}},_hide=function(elem){elem.style.opacity="";elem.style.display="none"},hide=function(elems){if(elems&&!elems.length){return _hide(elems)}for(var i=0;i<elems.length;++i){_hide(elems[i])}},isDescendant=function(parent,child){var node=child.parentNode;while(node!==null){if(node===parent){return true}node=node.parentNode}return false},getTopMargin=function(elem){elem.style.left="-9999px";elem.style.display="block";var height=elem.clientHeight,padding;if(typeof getComputedStyle!=="undefined"){padding=parseInt(getComputedStyle(elem).getPropertyValue("padding-top"),10)}else{padding=parseInt(elem.currentStyle.padding)}elem.style.left="";elem.style.display="none";return"-"+parseInt((height+padding)/2)+"px"},fadeIn=function(elem,interval){if(+elem.style.opacity<1){interval=interval||16;elem.style.opacity=0;elem.style.display="block";var last=+new Date;var tick=function(){elem.style.opacity=+elem.style.opacity+(new Date-last)/100;last=+new Date;if(+elem.style.opacity<1){setTimeout(tick,interval)}};tick()}elem.style.display="block"},fadeOut=function(elem,interval){interval=interval||16;elem.style.opacity=1;var last=+new Date;var tick=function(){elem.style.opacity=+elem.style.opacity-(new Date-last)/100;last=+new Date;if(+elem.style.opacity>0){setTimeout(tick,interval)}else{elem.style.display="none"}};tick()},fireClick=function(node){if(typeof MouseEvent==="function"){var mevt=new MouseEvent("click",{view:window,bubbles:false,cancelable:true});node.dispatchEvent(mevt)}else if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initEvent("click",false,false);node.dispatchEvent(evt)}else if(document.createEventObject){node.fireEvent("onclick")}else if(typeof node.onclick==="function"){node.onclick()}},stopEventPropagation=function(e){if(typeof e.stopPropagation==="function"){e.stopPropagation();e.preventDefault()}else if(window.event&&window.event.hasOwnProperty("cancelBubble")){window.event.cancelBubble=true}};var previousActiveElement,previousWindowKeyDown,lastFocusedButton;var sweetAlertInitialize=function(){var sweetHTML='<div class="ch-overlay" tabIndex="-1"></div><div class="ch-alert"><div class="sa-icon sa-error"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div><div class="sa-icon sa-warning"> <span class="sa-body"></span> <span class="sa-dot"></span> </div> <div class="sa-icon sa-info"></div> <div class="sa-icon sa-success"> <span class="sa-line sa-tip"></span> <span class="sa-line sa-long"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> <div class="sa-icon sa-custom"></div> <h2>Title</h2><p>Text</p><fieldset><input type="text" tabIndex="3" /></fieldset> <div class="sa-error-container error"><span class="sa_error_prompt-icon"><i class="fa fa-exclamation-triangle"></i></span> <p>Not valid!</p></div> <button class="confirm" tabIndex="1">OK</button><button class="cancel" tabIndex="2">Cancel</button><div class="ch-sa-bottom-div"></div></div>',sweetWrap=document.createElement("div");sweetWrap.innerHTML=sweetHTML;while(sweetWrap.firstChild){document.body.appendChild(sweetWrap.firstChild)}};var sweetAlert,swal;sweetAlert=swal=function(){var customizations=arguments[0];addClass(document.body,"stop-scrolling");resetInput();function argumentOrDefault(key){var args=customizations;if(typeof args[key]!=="undefined"){return args[key]}else{return defaultParams[key]}}if(arguments[0]===undefined){logStr("SweetAlert expects at least 1 attribute!");return false}var params=extend({},defaultParams);switch(typeof arguments[0]){case"string":params.title=arguments[0];params.text=arguments[1]||"";params.type=arguments[2]||"";break;case"object":if(arguments[0].title===undefined){logStr('Missing "title" argument!');return false}params.title=arguments[0].title;var availableCustoms=["text","type","customClass","allowOutsideClick","showConfirmButton","showCancelButton","closeOnConfirm","closeOnCancel","timer","confirmButtonColor","cancelButtonText","imageUrl","imageSize","html","animation","allowEscapeKey","inputType","inputPlaceholder","inputValue","hasBottomPromo","bottomPromoHtml"];var numCustoms=availableCustoms.length;for(var customIndex=0;customIndex<numCustoms;customIndex++){var customName=availableCustoms[customIndex];params[customName]=argumentOrDefault(customName)}params.confirmButtonText=params.showCancelButton?"Confirm":defaultParams.confirmButtonText;params.confirmButtonText=argumentOrDefault("confirmButtonText");params.doneFunction=arguments[1]||null;break;default:logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]);return false}setParameters(params);fixVerticalPosition();openModal();var modal=getModal();var onButtonEvent=function(event){var e=event||window.event;var target=e.target||e.srcElement,targetedConfirm=target.className.indexOf("confirm")!==-1,targetedOverlay=target.className.indexOf("ch-overlay")!==-1,modalIsVisible=hasClass(modal,"visible"),doneFunctionExists=params.doneFunction&&modal.getAttribute("data-has-done-function")==="true";switch(e.type){case"focus":var $confirmButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel");break;case"click":if(targetedConfirm&&doneFunctionExists&&modalIsVisible){handleConfirm()}else if(doneFunctionExists&&modalIsVisible||targetedOverlay){handleCancel()}else if(isDescendant(modal,target)&&target.tagName==="BUTTON"){sweetAlert.close()}break}};function handleConfirm(){var callbackValue=true;if(hasClass(modal,"show-input")){callbackValue=modal.querySelector("input").value;if(!callbackValue){callbackValue=""}}params.doneFunction(callbackValue);if(params.closeOnConfirm){sweetAlert.close()}}function handleCancel(){var functionAsStr=String(params.doneFunction).replace(/\s/g,"");var functionHandlesCancel=functionAsStr.substring(0,9)==="function("&&functionAsStr.substring(9,10)!==")";if(functionHandlesCancel){params.doneFunction(false)}if(params.closeOnCancel){sweetAlert.close()}}var $buttons=modal.querySelectorAll("button");for(var i=0;i<$buttons.length;i++){$buttons[i].onclick=onButtonEvent;$buttons[i].onmouseover=onButtonEvent;$buttons[i].onmouseout=onButtonEvent;$buttons[i].onmousedown=onButtonEvent;$buttons[i].onmouseup=onButtonEvent;$buttons[i].onfocus=onButtonEvent}if(params.allowOutsideClick){getOverlay().onclick=onButtonEvent}var $okButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel"),$modalButtons=modal.querySelectorAll("button[tabindex]");function handleKeyDown(event){var e=event||window.event;var keyCode=e.keyCode||e.which;if([9,13,32,27].indexOf(keyCode)===-1){return}var $targetElement=e.target||e.srcElement;var btnIndex=-1;for(var i=0;i<$modalButtons.length;i++){if($targetElement===$modalButtons[i]){btnIndex=i;break}}if(keyCode===9){if(btnIndex===-1){$targetElement=$okButton}else{if(btnIndex===$modalButtons.length-1){$targetElement=$modalButtons[0]}else{$targetElement=$modalButtons[btnIndex+1]}}stopEventPropagation(e);$targetElement.focus()}else{if(keyCode===13){if($targetElement.tagName==="INPUT"){$targetElement=$okButton;$okButton.focus()}if(btnIndex===-1){$targetElement=$okButton}else{$targetElement=undefined}}else if(keyCode===27&&params.allowEscapeKey===true){$targetElement=$cancelButton;fireClick($targetElement,e)}else{$targetElement=undefined}}}previousWindowKeyDown=window.onkeydown;window.onkeydown=handleKeyDown;window.onfocus=function(){window.setTimeout(function(){if(lastFocusedButton!==undefined){lastFocusedButton.focus();lastFocusedButton=undefined}},0)}};sweetAlert.setDefaults=swal.setDefaults=function(userParams){if(!userParams){throw new Error("userParams is required")}if(typeof userParams!=="object"){throw new Error("userParams has to be a object")}extend(defaultParams,userParams)};function setParameters(params){var modal=getModal();var $title=modal.querySelector("h2"),$text=modal.querySelector("p"),$cancelBtn=modal.querySelector("button.cancel"),$confirmBtn=modal.querySelector("button.confirm"),$bottomDiv=modal.querySelector(".ch-sa-bottom-div");$title.innerHTML=params.html?params.title:escapeHtml(params.title).split("\n").join("<br>");$text.innerHTML=params.html?params.text:escapeHtml(params.text||"").split("\n").join("<br>");if(params.text){show($text)}if(params.customClass){addClass(modal,params.customClass);modal.setAttribute("data-custom-class",params.customClass)}else{var customClass=modal.getAttribute("data-custom-class");removeClass(modal,customClass);modal.setAttribute("data-custom-class","")}hide(modal.querySelectorAll(".sa-icon"));if(params.type&&!isIE8()){var validType=false;for(var i=0;i<alertTypes.length;i++){if(params.type===alertTypes[i]){validType=true;break}}if(!validType){logStr("Unknown alert type: "+params.type);return false}var typesWithIcons=["success","error","warning","info"];var $icon;if(typesWithIcons.indexOf(params.type)!==-1){$icon=modal.querySelector(".sa-icon."+"sa-"+params.type);show($icon)}var $input=getInput();switch(params.type){case"success":addClass($icon,"animate");addClass($icon.querySelector(".sa-tip"),"animateSuccessTip");addClass($icon.querySelector(".sa-long"),"animateSuccessLong");if(params.inputPlaceholder.length>0){$input.setAttribute("type",params.inputType);$input.value=params.inputValue;$input.setAttribute("placeholder",params.inputPlaceholder);addClass(modal,"show-input");setTimeout(function(){$input.focus();$input.addEventListener("keyup",swal.resetInputError)},400)}break;case"error":addClass($icon,"animateErrorIcon");addClass($icon.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":addClass($icon,"pulseWarning");addClass($icon.querySelector(".sa-body"),"pulseWarningIns");addClass($icon.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":$input.setAttribute("type",params.inputType);addClass(modal,"show-input");setTimeout(function(){$input.focus();$input.addEventListener("keyup",swal.resetInputError)},400);break}}if(params.imageUrl){var $customIcon=modal.querySelector(".sa-icon.sa-custom");$customIcon.style.backgroundImage="url("+params.imageUrl+")";show($customIcon);var _imgWidth=80,_imgHeight=80;if(params.imageSize){var dimensions=params.imageSize.toString().split("x");var imgWidth=dimensions[0];var imgHeight=dimensions[1];if(!imgWidth||!imgHeight){logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+params.imageSize)}else{_imgWidth=imgWidth;_imgHeight=imgHeight}}$customIcon.setAttribute("style",$customIcon.getAttribute("style")+"width:"+_imgWidth+"px; height:"+_imgHeight+"px")}modal.setAttribute("data-has-cancel-button",params.showCancelButton);if(params.showCancelButton){$cancelBtn.style.display="inline-block"}else{hide($cancelBtn)}modal.setAttribute("data-has-confirm-button",params.showConfirmButton);if(params.showConfirmButton){$confirmBtn.style.display="inline-block"}else{hide($confirmBtn)}if(params.cancelButtonText){$cancelBtn.innerHTML=escapeHtml(params.cancelButtonText)}if(params.confirmButtonText){$confirmBtn.innerHTML=escapeHtml(params.confirmButtonText)}if(params.confirmButtonColor){$confirmBtn.style.backgroundColor=params.confirmButtonColor}modal.setAttribute("data-allow-ouside-click",params.allowOutsideClick);var hasDoneFunction=params.doneFunction?true:false;modal.setAttribute("data-has-done-function",hasDoneFunction);if(!params.animation){modal.setAttribute("data-animation","none")}else if(typeof params.animation==="string"){modal.setAttribute("data-animation",params.animation)}else{modal.setAttribute("data-animation","pop")}if(params.hasBottomPromo&&params.bottomPromoHtml){$bottomDiv.innerHTML=params.bottomPromoHtml;show($bottomDiv)}else{hide($bottomDiv)}modal.setAttribute("data-timer",params.timer)}function colorLuminance(hex,lum){hex=String(hex).replace(/[^0-9a-f]/gi,"");if(hex.length<6){hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]}lum=lum||0;var rgb="#",c,i;for(i=0;i<3;i++){c=parseInt(hex.substr(i*2,2),16);c=Math.round(Math.min(Math.max(0,c+c*lum),255)).toString(16);rgb+=("00"+c).substr(c.length)}return rgb}function extend(a,b){for(var key in b){if(b.hasOwnProperty(key)){a[key]=b[key]}}return a}function hexToRgb(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?parseInt(result[1],16)+", "+parseInt(result[2],16)+", "+parseInt(result[3],16):null}function openModal(){var modal=getModal();fadeIn(getOverlay(),10);show(modal);addClass(modal,"showchAlert");removeClass(modal,"hidechAlert");previousActiveElement=document.activeElement;var $okButton=modal.querySelector("button.confirm");$okButton.focus();setTimeout(function(){addClass(modal,"visible")},500);var timer=modal.getAttribute("data-timer");if(timer!=="null"&&timer!==""){modal.timeout=setTimeout(function(){sweetAlert.close()},timer)}}sweetAlert.close=swal.close=function(){var modal=getModal();fadeOut(getOverlay(),5);fadeOut(modal,5);removeClass(modal,"showchAlert");addClass(modal,"hidechAlert");removeClass(modal,"visible");var $successIcon=modal.querySelector(".sa-icon.sa-success");removeClass($successIcon,"animate");removeClass($successIcon.querySelector(".sa-tip"),"animateSuccessTip");removeClass($successIcon.querySelector(".sa-long"),"animateSuccessLong");var $errorIcon=modal.querySelector(".sa-icon.sa-error");removeClass($errorIcon,"animateErrorIcon");removeClass($errorIcon.querySelector(".sa-x-mark"),"animateXMark");var $warningIcon=modal.querySelector(".sa-icon.sa-warning");removeClass($warningIcon,"pulseWarning");removeClass($warningIcon.querySelector(".sa-body"),"pulseWarningIns");removeClass($warningIcon.querySelector(".sa-dot"),"pulseWarningIns");removeClass(document.body,"stop-scrolling");window.onkeydown=previousWindowKeyDown;if(previousActiveElement){previousActiveElement.focus()}lastFocusedButton=undefined;clearTimeout(modal.timeout)};sweetAlert.showInputError=swal.showInputError=function(errorMessage){var modal=getModal();var $errorInput=modal.querySelector("input");addClass($errorInput,"error");var $errorContainer=modal.querySelector(".sa-error-container");addClass($errorContainer,"show");$errorContainer.querySelector("p").innerHTML=errorMessage;modal.querySelector("input").focus()};function resetInput(){var $modal=getModal();var $input=getInput();removeClass($modal,"show-input");$input.value="";$input.setAttribute("type",defaultParams.inputType);swal.resetInputError()}sweetAlert.resetInputError=swal.resetInputError=function(event){if(event&&event.keyCode===13){return false}var $modal=getModal();var $errorInput=$modal.querySelector("input");removeClass($errorInput,"error");var $errorContainer=$modal.querySelector(".sa-error-container");removeClass($errorContainer,"show")};function fixVerticalPosition(){var modal=getModal();modal.style.marginTop=getTopMargin(getModal())}function isIE8(){if(window.attachEvent&&!window.addEventListener){return true}else{return false}}function logStr(string){if(window.console){window.console.log("SweetAlert: "+string)}}if(typeof define==="function"&&define.amd){define(function(){return sweetAlert})}else if(typeof module!=="undefined"&&module.exports){module.exports=sweetAlert}else if(typeof window!=="undefined"){window.sweetAlert=window.swal=sweetAlert}})(window,document);if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the localeService")}utilServices.service("localeService",function(){var countries=[{value:"AF",label:"Afghanistan"},{value:"AX",label:"ALand Islands"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AS",label:"American Samoa"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AQ",label:"Antarctica"},{value:"AG",label:"Antigua And Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BY",label:"Belarus"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia"},{value:"BA",label:"Bosnia And Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"BN",label:"Brunei Darussalam"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"CV",label:"Cape Verde"},{value:"KY",label:"Cayman Islands"},{value:"CF",label:"Central African Republic"},{value:"TD",label:"Chad"},{value:"CL",label:"Chile"},{value:"CN",label:"China"},{value:"CX",label:"Christmas Island"},{value:"CC",label:"Cocos (Keeling) Islands"},{value:"CO",label:"Colombia"},{value:"KM",label:"Comoros"},{value:"CG",label:"Congo"},{value:"CD",label:"Congo, The Democratic Republic Of The"},{value:"CK",label:"Cook Islands"},{value:"CR",label:"Costa Rica"},{value:"CI",label:"Cote D'Ivoire"},{value:"HR",label:"Croatia"},{value:"CU",label:"Cuba"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czech Republic"},{value:"DK",label:"Denmark"},{value:"DJ",label:"Djibouti"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"SV",label:"El Salvador"},{value:"GQ",label:"Equatorial Guinea"},{value:"ER",label:"Eritrea"},{value:"EE",label:"Estonia"},{value:"ET",label:"Ethiopia"},{value:"FK",label:"Falkland Islands (Malvinas)"},{value:"FO",label:"Faroe Islands"},{value:"FJ",label:"Fiji"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GF",label:"French Guiana"},{value:"PF",label:"French Polynesia"},{value:"TF",label:"French Southern Territories"},{value:"GA",label:"Gabon"},{value:"GM",label:"Gambia"},{value:"GE",label:"Georgia"},{value:"DE",label:"Germany"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GR",label:"Greece"},{value:"GL",label:"Greenland"},{value:"GD",label:"Grenada"},{value:"GP",label:"Guadeloupe"},{value:"GU",label:"Guam"},{value:"GT",label:"Guatemala"},{value:"Gg",label:"Guernsey"},{value:"GN",label:"Guinea"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HT",label:"Haiti"},{value:"HM",label:"Heard Island And Mcdonald Islands"},{value:"VA",label:"Holy See (Vatican City State)"},{value:"HN",label:"Honduras"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"IN",label:"India"},{value:"ID",label:"Indonesia"},{value:"IR",label:"Iran, Islamic Republic Of"},{value:"IQ",label:"Iraq"},{value:"IE",label:"Ireland"},{value:"IM",label:"Isle Of Man"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JP",label:"Japan"},{value:"JE",label:"Jersey"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KI",label:"Kiribati"},{value:"KP",label:"Korea, Democratic People's Republic Of"},{value:"KR",label:"Korea, Republic Of"},{value:"KW",label:"Kuwait"},{value:"KG",label:"Kyrgyzstan"},{value:"LA",label:"Lao People's Democratic Republic"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libyan Arab Jamahiriya"},{value:"LI",label:"Liechtenstein"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MO",label:"Macao"},{value:"MK",label:"Macedonia, The Former Yugoslav Republic Of"},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia"},{value:"MV",label:"Maldives"},{value:"ML",label:"Mali"},{value:"MT",label:"Malta"},{value:"MH",label:"Marshall Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"YT",label:"Mayotte"},{value:"MX",label:"Mexico"},{value:"FM",label:"Micronesia, Federated States Of"},{value:"MD",label:"Moldova, Republic Of"},{value:"MC",label:"Monaco"},{value:"MN",label:"Mongolia"},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco"},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar"},{value:"NA",label:"Namibia"},{value:"NR",label:"Nauru"},{value:"NP",label:"Nepal"},{value:"NL",label:"Netherlands"},{value:"AN",label:"Netherlands Antilles"},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand"},{value:"NI",label:"Nicaragua"},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria"},{value:"NU",label:"Niue"},{value:"NF",label:"Norfolk Island"},{value:"MP",label:"Northern Mariana Islands"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PW",label:"Palau"},{value:"PS",label:"Palestinian Territory, Occupied"},{value:"PA",label:"Panama"},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PN",label:"Pitcairn"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"PR",label:"Puerto Rico"},{value:"QA",label:"Qatar"},{value:"RE",label:"Reunion"},{value:"RO",label:"Romania"},{value:"RU",label:"Russian Federation"},{value:"RW",label:"Rwanda"},{value:"SH",label:"Saint Helena"},{value:"KN",label:"Saint Kitts And Nevis"},{value:"LC",label:"Saint Lucia"},{value:"PM",label:"Saint Pierre And Miquelon"},{value:"VC",label:"Saint Vincent And The Grenadines"},{value:"WS",label:"Samoa"},{value:"SM",label:"San Marino"},{value:"ST",label:"Sao Tome And Principe"},{value:"SA",label:"Saudi Arabia"},{value:"SN",label:"Senegal"},{value:"CS",label:"Serbia And Montenegro"},{value:"SC",label:"Seychelles"},{value:"SL",label:"Sierra Leone"},{value:"SG",label:"Singapore"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"SB",label:"Solomon Islands"},{value:"SO",label:"Somalia"},{value:"ZA",label:"South Africa"},{value:"GS",label:"South Georgia And The South Sandwich Islands"},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SJ",label:"Svalbard And Jan Mayen"},{value:"SZ",label:"Swaziland"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"SY",label:"Syrian Arab Republic"},{value:"TW",label:"Taiwan, Province Of China"},{value:"TJ",label:"Tajikistan"},{value:"TZ",label:"Tanzania, United Republic Of"},{value:"TH",label:"Thailand"},{value:"TL",label:"Timor-Leste"},{value:"TG",label:"Togo"},{value:"TK",label:"Tokelau"},{value:"TO",label:"Tonga"},{value:"TT",label:"Trinidad And Tobago"},{value:"TN",label:"Tunisia"},{value:"TR",label:"Turkey"},{value:"TM",label:"Turkmenistan"},{value:"TC",label:"Turks And Caicos Islands"},{value:"TV",label:"Tuvalu"},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"GB",label:"United Kingdom"},{value:"US",selected:"selected",label:"United States"},{value:"UM",label:"United States Minor Outlying Islands"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VU",label:"Vanuatu"},{value:"VE",label:"Venezuela"},{value:"VN",label:"Viet Nam"},{value:"VG",label:"Virgin Islands, British"},{value:"VI",label:"Virgin Islands, U.S."},{value:"WF",label:"Wallis And Futuna"},{value:"EH",label:"Western Sahara"},{value:"YE",label:"Yemen"},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe"}];var months=[{id:1,label:"January",short:"Jan"},{id:2,label:"February",short:"Feb"},{id:3,label:"March",short:"Mar"},{id:4,label:"April",short:"Apr"},{id:5,label:"May",short:"May"},{id:6,label:"June",short:"Jun"},{id:7,label:"July",short:"Jul"},{id:8,label:"August",short:"Aug"},{id:9,label:"September",short:"Sep"},{id:10,label:"October",short:"Oct"},{id:11,label:"November",short:"Nov"},{id:12,label:"December",short:"Dec"}];var terms={1:"Fall",2:"Winter",3:"Spring",4:"Summer"};return{getCountries:function(){return countries},getCountry:function(value){var country=false;this.getCountries().forEach(function(c){if(c.value===value){country=c}});return country},getMonths:function(){return months},getMonth:function(month_id){var month=false;this.getMonths().forEach(function(m){if(m.id===month_id){month=m}});return month},getTerm:function(term){return terms[term]}}});if(typeof angular==="undefined"){throw new Error("Angular is required to use the newsfeed services")}var ProductThumbnailStatsServices=angular.module("ProductThumbnailStatsServices",[]);if(typeof ProductThumbnailStatsServices==="undefined"){throw new Error("ProductThumbnailStatsServices is required to use this class")}var productThumbnailStatsService=ProductThumbnailStatsServices.service("productThumbnailStatsService",function(){var thumbnailService={getStats:function(){return ProductThumbnailStats.store.getAll()},getStat:function(statsObject,stat,type,id){if(typeof statsObject[type]!=="undefined"&&typeof statsObject[type][id]!=="undefined"){if(statsObject[type][id][stat]==0){return"~"}return statsObject[type][id][stat]}return"~"}};return thumbnailService});var ProductThumbnailStats=new function(){return{dispatchView:function(action,payload){payload.action=action;this.dispatcher.dispatch(ProductThumbnailStats.dispatcher.type.VIEW,payload)},dispatchServer:function(action,payload){payload.action=action;this.dispatcher.dispatch(ProductThumbnailStats.dispatcher.type.SERVER,payload)}}};ProductThumbnailStats.dispatcher=new function(){return{callbacks:[],dispatch:function(type,payload){this.callbacks.forEach(function(callback){if(typeof callback==="function"){callback(payload)}})},register:function(callback){this.callbacks.push(callback);return this.callbacks.length-1},unregister:function(index){if(typeof this.callbacks[index]!=="undefined"){this.callbacks[index]=null}},type:{VIEW:"ProductThumbnailStats.dispatcher.type.VIEW",SERVER:"ProductThumbnailStats.dispatcher.type.SERVER"}}};ProductThumbnailStats.actions={RECEIVE:"ProductThumbnailStats.actions.RECEIVE",FAILURE:"ProductThumbnailStats.actions.FAILURE"};ProductThumbnailStats.events={UPDATE:"ProductThumbnailStats.events.UPDATE",FAILURE:"ProductThumbnailStats.events.FAILURE"};ProductThumbnailStats.store=new function(){var $=jQuery;return{products:[],dispatchIndex:ProductThumbnailStats.dispatcher.register(function(payload){switch(payload.action){case ProductThumbnailStats.actions.RECEIVE:payload.products.forEach(function(product){if(typeof ProductThumbnailStats.store.products[product.type]==="undefined"){ProductThumbnailStats.store.products[product.type]={}}ProductThumbnailStats.store.products[product.type][product.id]=product});$(window).trigger(ProductThumbnailStats.events.UPDATE);break;case ProductThumbnailStats.actions.FAILURE:$(window).trigger(ProductThumbnailStats.events.FAILURE);break}}),getAll:function(){return this.products}}};ProductThumbnailStats.api=new function(){var $=jQuery;function onReceive(response){if(response.error){var message="Received error response from server";if(JSON&&JSON.stringify){message+=": "+JSON.stringify(response)}throw new Error(message)}if(response.products===undefined){throw new Error("No products returned from server")}ProductThumbnailStats.dispatchServer(ProductThumbnailStats.actions.RECEIVE,{products:response.products})}function onError(err){ProductThumbnailStats.dispatchServer(ProductThumbnailStats.actions.FAILURE,{})}var API_PULL_URL="/api/v1/meta-data/";return{getStats:function(products){if(typeof products==="undefined"||products.length===0){return false}var existing=ProductThumbnailStats.store.getAll();var unique=products.filter(function(a){return typeof existing[a.type]==="undefined"||typeof existing[a.type][a.id]==="undefined"});if(unique.length===0){return false}var data={products:unique};$.ajax({url:API_PULL_URL,type:"POST",data:data,dataType:"json",success:onReceive,error:onError})}}};ProductThumbnailStats.app=new function(){var $=jQuery;return{start:function(){$(window).on(ProductThumbnailStats.events.UPDATE,function(){var products=ProductThumbnailStats.store.getAll();for(var type in products){products[type].forEach(function(product){$(".js-enable-product-stats:[data-product-id="+product.id+"][data-product-type="+product.type+"] span:[data-product-stat]").each(function(_,stat){var stat_type=$(stat).data("product-stat");if(typeof product[stat_type]!=="undefined"){var html=$(stat).children();$(stat).html(html);$(stat).append(document.createTextNode(" "+product[stat_type]))}})})}});$(window).on(ProductThumbnailStats.events.FAILURE,function(){$(".js-enable-product-stats span:[data-product-stat]").hide()});this.fromDOM()},fromDOM:function(){var products=[];$(".js-enable-product-stats").each(function(_,stats){products.push({type:$(stats).data("product-type"),id:$(stats).data("product-id")})});ProductThumbnailStats.api.getStats(products)},startAngular:function(){}}};if(typeof utilServices==="undefined"){throw new Error("utilServices is requried to use the loader directive")}utilServices.directive("chUtilsLoader",function(){return{template:'<div style="width:100%; padding:20px 0px; text-align: center;"><img src="/assets/img/ajax-loaders/hexagon-loader.gif" /></div>'}});if(typeof angular==="undefined"){throw new Error("Angular must be included in order to use the paymentServices")}var paymentServices=angular.module("paymentServices",[]);paymentServices.factory("PaymentFormatService",PaymentFormatService);function PaymentFormatService($filter){var PRICE_MULTIPLIER=100;return{dollarFormat:dollarFormat,PRICE_MULTIPLIER:PRICE_MULTIPLIER};function dollarFormat(num,keepDecimalPlaces,currencySymbol){if(typeof currencySymbol==="undefined"){currencySymbol="$"}num=num/PRICE_MULTIPLIER;return $filter("currency")(num,currencySymbol,keepDecimalPlaces||hasSignificantDecimal(num)?2:0)}function hasSignificantDecimal(num){return parseFloat(num,10)!=parseInt(num,10)}}if(typeof paymentServices==="undefined"){throw new Error("paymentServices must be included in order to use paymentActions")}paymentServices.service("paymentActions",["dispatcher","apiService","notificationService",function(dispatcher,apiService,notificationService){var braintreeFieldInstance=null;var braintreeClientInstance=null;var braintreeDeviceData=null;var braintreeAuthorization=null;var braintreeActions={initHostedFields:function(form,submit,clientToken){braintree.client.create({authorization:clientToken},function(clientErr,clientInstance){if(clientErr){console.error(clientErr);return}braintreeClientInstance=clientInstance;braintreeActions.createHostedFields(clientInstance);braintree.dataCollector.create({client:clientInstance,kount:true},function(dataCollectorErr,dataCollectorInstance){if(dataCollectorErr){console.error(dataCollectorErr);return}braintreeDeviceData=dataCollectorInstance.deviceData})})},createHostedFields:function(clientInstance){var fields={};fields={number:{selector:"#card-number",placeholder:"Card number"},expirationDate:{selector:"#expiration-date",placeholder:"MM/YYYY"},postalCode:{selector:"#postal-code",placeholder:"Zip Code"}};braintree.hostedFields.create({client:clientInstance,styles:{input:{"font-size":"14px"},"input.invalid":{color:"red"},"input.valid":{}},fields:fields},function(hostedFieldsErr,hostedFieldsInstance){braintreeFieldInstance=hostedFieldsInstance;if(hostedFieldsErr){console.error(hostedFieldsErr);return}})},setUpBraintree:function(form,submit){if(braintreeAuthorization!==null){braintreeActions.initHostedFields(form,submit,braintreeAuthorization)}else{jQuery.get("/api/v1/payments/client_token/").success(function(data){braintreeAuthorization=data["clientToken"];braintreeActions.initHostedFields(form,submit,braintreeAuthorization)}).error(function(){console.log("Client token generation failed")})}},tearDownAndResetBraintree:function(){if(typeof braintreeFieldInstance==="undefined"||braintreeFieldInstance===null){return false}braintreeFieldInstance.teardown(function(error){if(error){console.error("Could not tear down Hosted Fields!")}else{braintreeActions.createHostedFields(braintreeClientInstance)}})},hasBraintreeSetup:function(){return braintreeAuthorization!==null}};var paymentActions={loadPaymentOptions:function(){paymentApi.getPaymentOptions()},savePaymentOption:function(paymentOption,success,error){paymentApi.savePaymentOption(paymentOption,success,error)},setPaymentOptionPrimary:function(paymentOption){paymentApi.setPaymentOptionPrimary(paymentOption.payment_option_id)},removePaymentOptionPrimary:function(paymentOption){paymentApi.removePaymentOptionPrimary(paymentOption.payment_option_id)},onReceivePaymentOptions:function(paymentOptions){dispatcher.dispatch(paymentActions.types.RECEIVE_PAYMENT_OPTIONS,paymentOptions)},onRemovePaymentOption:function(paymentOptionId){dispatcher.dispatch(paymentActions.types.REMOVE_PAYMENT_OPTION,paymentOptionId)},onPrimaryPaymentOption:function(paymentOptionId){dispatcher.dispatch(paymentActions.types.PRIMARY_PAYMENT_OPTION,paymentOptionId)},setUpBraintree:function(){braintreeActions.setUpBraintree()},tearDownAndResetBraintree:function(){braintreeActions.tearDownAndResetBraintree()},hasBraintreeSetup:function(){return braintreeActions.hasBraintreeSetup()},types:{RECEIVE_PAYMENT_OPTIONS:"paymentActions.types.RECEIVE_PAYMENT_OPTIONS",REMOVE_PAYMENT_OPTION:"paymentActions.types.REMOVE_PAYMENT_OPTION",PRIMARY_PAYMENT_OPTION:"paymentActions.types.PRIMARY_PAYMENT_OPTION"}};var paymentApi=new function(){var API_PAYMENT_OPTIONS="/api/v1/payment/options/";var API_PAYMENT_OPTION_REMOVE="/api/v1/payment/options/{paymentOptionId}/";var API_PAYMENT_OPTION_PRIMARY="/api/v1/payment/options/{paymentOptionId}/primary/";return{getPaymentOptions:function(){apiService.get(API_PAYMENT_OPTIONS,{}).success(function(paymentOptions){paymentActions.onReceivePaymentOptions(paymentOptions)}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"payment_options",true)}})},savePaymentOption:function(paymentOption,success,error){if(typeof braintreeFieldInstance!=="undefined"&&braintreeFieldInstance!==null){braintreeFieldInstance.tokenize({cardholderName:paymentOption.name},function(tokenizeErr,payload){if(tokenizeErr){errors=[tokenizeErr.message];notificationService.error(errors,"payment_options_add_card",true);return}paymentOption.nonce=payload.nonce;paymentOption.deviceData=braintreeDeviceData;apiService.post(API_PAYMENT_OPTIONS,paymentOption).success(function(response){if(typeof response[0].payment_option_id!=="undefined"){notificationService.error([],"payment_options_add_card",true);notificationService.error([],"payment_options",true);paymentActions.onReceivePaymentOptions(response);paymentApi.setPaymentOptionPrimary(response[response.length-1].payment_option_id);var form=$("#add_payment_option");form.trigger("reset");paymentActions.tearDownAndResetBraintree();if(typeof success==="function"){success(response)}}else{if(typeof error==="function"){error(response)}}}).error(function(response){if(response){if(typeof response.errors!=="undefined"){var errors=[];for(var i in response.errors){errors.push(response.errors[i])}notificationService.error(errors,"payment_options_add_card",true);notificationService.error(errors,"payment_options",true)}if(typeof error==="function"){error(response)}}})})}else{apiService.post(API_PAYMENT_OPTIONS,paymentOption).success(function(response){if(typeof response.payment_option_id!=="undefined"){notificationService.error([],"payment_options_add_card",true);notificationService.error([],"payment_options",true);paymentActions.onReceivePaymentOptions([response]);paymentApi.setPaymentOptionPrimary(response.payment_option_id);if(typeof success==="function"){success(response)}}else{if(typeof error==="function"){error(response)}}}).error(function(response){if(typeof response.error!=="undefined"){if(typeof response.error.errors==="undefined"){var errors=[response.error.message]}else{var errors=[];for(var i in response.error.errors){var error=response.error.errors[i];errors.push(error)}}notificationService.error(errors,"payment_options_add_card",true);notificationService.error(errors,"payment_options",true)}if(typeof error==="function"){error(response)}})}},setPaymentOptionPrimary:function(paymentOptionId){apiService.post(API_PAYMENT_OPTION_PRIMARY,{paymentOptionId:paymentOptionId}).success(function(response){paymentActions.onPrimaryPaymentOption(paymentOptionId)}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"payment_options",true)}})},removePaymentOptionPrimary:function(paymentOptionId){apiService.delete(API_PAYMENT_OPTION_REMOVE,{paymentOptionId:paymentOptionId}).success(function(response){if(response.success){paymentActions.onRemovePaymentOption(paymentOptionId);notificationService.success(["Successfully removed payment method"],"payment_options",true)}}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"payment_options",true)}})}}};return paymentActions}]);if(typeof paymentServices==="undefined"){throw new Error("paymentServices must be included in order to use the paymentStore")}paymentServices.service("paymentStore",["dispatcher","paymentActions","localeService",function(dispatcher,paymentActions,localeService){var paymentStore=DataStore.create({dispatcherIndex:dispatcher.register(function(payload){var action=payload.action;var data=payload.data;switch(action){case paymentActions.types.RECEIVE_PAYMENT_OPTIONS:paymentStore.receivePaymentOptions(data);break;case paymentActions.types.PRIMARY_PAYMENT_OPTION:paymentStore.setPrimaryPaymentOption(data);break;case paymentActions.types.REMOVE_PAYMENT_OPTION:paymentStore.removePaymentOption(data);break}}),receivePaymentOptions:function(rawPaymentOptions){var $me=this;rawPaymentOptions.forEach(function(rawPaymentOption){$me.upsertRow("paymentOptions","payment_option_id",rawPaymentOption.payment_option_id,$me.sanitize(rawPaymentOption,paymentStore.SCHEMA.Card))});paymentStore.emit(paymentStore.events.UPDATE)},setPrimaryPaymentOption:function(paymentOptionId){var $me=this;this.getPaymentOptions().forEach(function(paymentOption){if(paymentOption.payment_option_id==paymentOptionId){paymentOption.is_primary_card=true}else{paymentOption.is_primary_card=false}$me.upsertRow("paymentOptions","payment_option_id",paymentOption.payment_option_id,paymentOption)});paymentStore.emit(paymentStore.events.UPDATE)},removePaymentOption:function(paymentOptionId){this.removeRow("paymentOptions","payment_option_id",paymentOptionId);paymentStore.emit(paymentStore.events.UPDATE)},getPaymentOptions:function(){return this.getRows("paymentOptions")},events:{UPDATE:"paymentStore.events.UPDATE",REACTIVATE:"paymentStore.events.REACTIVATE"},SCHEMA:{Card:{payment_option_id:{type:"string"},name:{label:"Name",type:"string",validation:{required:true,minLength:3,maxLength:32}},street1:{type:"string"},street2:{type:"string"},city:{type:"string"},state:{type:"string"},cctype:{type:"string"},credit_card_type_name:{type:"string"},ccnum:{label:"Credit Card Number",type:"int",validation:{required:true}},ccnumlastfour:{type:"string",maxLength:4},last_four_credit_card_number:{type:"string",maxLength:4},primary_card:{type:"bool"},date_added:{type:"date",initial:function(){return new Date}},date_removed:{type:"date"},reason_removed:{type:"string"},cvv:{label:"CVV",type:"string"},exp_month:{type:"object",schema:function(){return paymentStore.SCHEMA.ExpMonth},initial:function(){return localeService.getMonth((new Date).getMonth()+1)},validation:{required:true}},exp_year:{type:"int",initial:function(){return(new Date).getFullYear()},validation:{required:true}},credit_card_expiration:{type:"string"},country:{type:"object",schema:function(){return paymentStore.SCHEMA.Country},initial:function(){return{label:"United States",value:"US"}},validation:{required:true}},zip:{label:"Zip Code",type:"string",validation:{required:true}},is_primary_card:{type:"bool"},nonce:{type:"string"}},Country:{label:{type:"string"},value:{type:"string"}},ExpMonth:{label:{type:"string"},short:{type:"string"},id:{type:"int"}},PaymentType:{duration:{type:"int"},interval:{type:"string"},total_price:{type:"int"}}}});paymentActions.store=paymentStore;return paymentStore}]);if(typeof angular==="undefined"){throw new Error("Angular must be included in order to use the user service")}var userServices=angular.module("userServices",["utilServices"]);if(typeof userServices==="undefined"){throw new Error("userServices must be included in order to use the userStore")}userServices.service("userStore",["dispatcher","userActions","paymentStore",function(dispatcher,userActions,paymentStore){var userStore=DataStore.create({dispatcherIndex:dispatcher.register(function(payload){var data=payload.data;var action=payload.action;switch(action){case userActions.type.RECEIVE:userStore.receive(data);break}}),receive:function(rawUsers){var $me=this;rawUsers.forEach(function(rawRow){$me.upsertRow("user","user_id",rawRow.user_id,userStore.sanitize(rawRow,userStore.schema.User))});this.emit(this.events.UPDATE)},getProfile:function(){if(typeof this.rows["user"]==="undefined"||this.rows["user"].length===0){return this.sanitize({},userStore.schema.User)}var user=this.rows["user"][0];return user},events:{UPDATE:"userStore.events.UPDATE"},schema:{iOSSubscription:{id:{type:"integer"},subscription_id:{type:"int"},user_id:{type:"string"},ios_receipt_id:{type:"integer"},start_date:{type:"datetime"},end_date:{type:"datetime"},active:{type:"bool"}},LitleSubscription:{months:{type:"integer"},payment_type:{type:"object",schema:function(){return paymentStore.SCHEMA.PaymentType}},active:{type:"bool"},next_payment_date:{type:"datetime"}},SchoolLocation:{city:{type:"string"},state:{type:"string"}},User:{user_id:{type:"string",maxLength:255},username:{type:"string",maxLength:60,initial:function(){return"..."},validation:{minLength:5,maxLength:60,spaces:function(value){if(value.indexOf(" ")!==-1){return["Username cannot contain spaces"]}return true}}},display_name:{type:"string",maxLength:255,initial:function(){return""}},profile_url:{type:"string",max_length:255,initial:function(){return""}},default_avatar:{type:"string",max_length:255,initial:function(){return""}},is_moderator:{type:"bool"},can_change_name:{type:"bool"},email:{type:"string",maxLength:75,minLength:5,validation:{minLength:5,maxLength:75,email:true}},expiration_date:{type:"datetime"},last_login:{type:"datetime"},disabled_account:{type:"bool"},ios_subscription:{type:"object",schema:function(){return userStore.schema.iOSSubscription}},subscription:{type:"object",schema:function(){return userStore.schema.LitleSubscription}},premier:{type:"bool",initial:function(){return false}},is_remember_me:{type:"bool"},created_content:{type:"bool"},num_documents_uploaded:{type:"string",initial:function(){return"0"}},num_questions_asked:{type:"string",initial:function(){return"0"}},num_questions_answered:{type:"string",initial:function(){return"0"}},profile_percent_complete:{type:"int",initial:function(){return 0}},tutor_questions_remaining:{type:"string",initial:function(){return"0"}},school:{type:"string",initial:function(){return""}},school_id:{type:"int"},school_location:{type:"object",schema:function(){return userStore.schema.SchoolLocation}},student_type:{type:"string",initial:function(){return""}},full_name:{type:"string",initial:function(){return""},maxLength:60,validation:{maxLength:60}},graduation_year:{type:"string",initial:function(){return""}},graduation_month:{type:"string",initial:function(){return""}},is_paused:{type:"bool"},can_pause:{type:"bool"},last_paused_on:{type:"datetime",format:"MM-DD-YYYY"},next_pause_date:{type:"date"},fc_premier_recurring:{type:"bool",initial:function(){return false}},phone_number:{type:"phone",initial:function(){return""},validation:{phone:true}},sms_notification_enabled:{type:"bool"},is_unlock:{type:"bool"},stop_dashboard_alerts:{type:"bool"},total_download_count:{type:"string",initial:function(){return"0"}},monthly_available_downloads:{type:"string",initial:function(){return"0"}},monthly_unlocks_remaining:{type:"integer",initial:function(){return 0}},todays_download_count:{type:"string",initial:function(){return"0"}},non_marketplace_docs_approved:{type:"string",initial:function(){return"0"}},num_docs_to_retag:{type:"integer",initial:function(){return 0}},can_upgrade:{type:"bool"},days_left:{type:"int"},profile_photo:{type:"string"},profile_errors:{type:"array",initial:function(){return[]}},expert_dashboard_available:{type:"bool"},can_access_intern_email_page:{type:"bool"},resume_date:{type:"datetime"},auto_renew_date:{type:"datetime"},litle_subscription:{type:"object",schema:function(){return userStore.schema.LitleSubscription}},unlocks_remaining:{type:"int",initial:function(){return 0}},is_teacher:{type:"bool"},next_payment_date_display:{type:"string"},is_paypal_user:{type:"bool"},is_google_play_subscriber:{type:"bool"},is_ios_subscriber:{type:"bool"}}}});userActions.store=userStore;return userStore}]);userServices.service("userActions",function(dispatcher,apiService,notificationService){var userActions=new function(){return{receive:function(rows){dispatcher.dispatch(userActions.type.RECEIVE,rows)},loadMe:function(details,success,error){userApi.load();if(details){userActions.loadDetails(success,error)}},loadDetails:function(success,error){userApi.loadDetails(success,error)},saveMe:function(details,success,error,notifications){userApi.save(userActions.store.sanitize(details,userActions.store.schema.User),success,error,notifications)},pauseMe:function(months,success,error){userApi.pause(months,success,error)},resumeMe:function(success,error){userApi.resume(success,error)},changePassword:function(passwords,success,error){userApi.changePassword(passwords,success,error)},removePhoto:function(){userApi.removePhoto()},rememberMeApi:function(callback,url){userApi.rememberMeApi(callback,url)},checkLogin:function(){userApi.checkLogin()},resubscribe:function(callback,clickType){userApi.resubscribe(callback,clickType)},type:{RECEIVE:"userActions.type.RECEIVE"}}};var userApi=new function(){var API_USERS_URL="/api/v1/users/";var API_USERS_DETAILS="/api/v1/users/details/";var API_USERS_CHANGE_PASSWORD="/api/v1/users/password/";var API_USERS_REMOVE_PROFILE_PHOTO="/api/v1/users/removeProfilePhoto/";var API_USERS_PAUSE_MEMBERSHIP="/api/user.php?method=pause";var API_USERS_RESUME_MEMBERSHIP="/api/user.php?method=resume";var API_IS_REMEMBER_ME="/api/v1/users/rememberMe/";var API_USER_CHECK_LOGIN="/api/v1/users/checkLogin/";var API_USER_RESUBSCRIBE="/api/v1/users/resubscribe/";return{loadDetails:function(success,error){apiService.get(API_USERS_DETAILS,{}).success(function(response){userActions.receive([response]);if(typeof success!=="undefined"){success(response)}}).error(function(response){if(typeof error!=="undefined"){error(response)}})},load:function(){apiService.get(API_USERS_URL,{}).success(function(response){userActions.receive([response])}).error(function(){})},save:function(user,success,error,notifications){apiService.post(API_USERS_DETAILS,user).success(function(response){userActions.receive([response]);if(response.errors instanceof Array&&response.errors.length>0||typeof response.errors==="object"&&!(response.errors instanceof Array)){if(typeof notifications==="undefined"||notifications===true){if(response.errors instanceof Array){notificationService.error(response.errors,"profile_errors")}else{for(var field in response.errors){notificationService.error([response.errors[field]],"profile_errors")}}}typeof error!=="undefined"?error(response):null}else{if(typeof notifications==="undefined"||notifications===true){notificationService.success(["Successfully saved profile"],"profile_errors",true);notificationService.error([],"profile_errors",true)}typeof success!=="undefined"?success(response):null}}).error(function(response){typeof error!=="undefined"?error(response):null;if(response.error&&response.error.message==="Access Denied"){document.location="/login/"}if(response.error&&response.error.message&&response.error.message.relogin===true){document.location="/relogin.php"}})},pause:function(months,success,error){apiService.post(API_USERS_PAUSE_MEMBERSHIP,{pause_duration:months}).success(function(response){if(typeof response.message!=="undefined"){notificationService.success([response.message],"general",null,success)}userActions.loadDetails()}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"general",null,error)}})},resume:function(success,error){apiService.post(API_USERS_RESUME_MEMBERSHIP,{}).success(function(response){if(typeof response.message!=="undefined"){notificationService.success([response.message],"general")}userActions.loadDetails()}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"general")}})},resubscribe:function(callback,clickType){apiService.post(API_USER_RESUBSCRIBE,{}).success(function(response){callback(response,clickType)}).error(function(response){callback(response,clickType)})},changePassword:function(passwords,success,error){apiService.post(API_USERS_CHANGE_PASSWORD,passwords).success(function(response){if(response.error&&response.error.trim()!==""){notificationService.error([response.error.trim()],"profile_password_errors");typeof error!=="undefined"?error(response):null}else{notificationService.success(["Successfully changed password"],"profile_password_errors");typeof success!=="undefined"?success(response):null}}).error(function(response){if(response.error&&response.error.trim()!==""){notificationService.error([response.error.trim()],"profile_password_errors");typeof error!=="undefined"?error(response):null}})},removePhoto:function(){apiService.delete(API_USERS_REMOVE_PROFILE_PHOTO,{}).success(function(response){userActions.receive([response])})},rememberMeApi:function(callback,url){url=typeof url==="undefined"?"/home/#/settings":url;apiService.post(API_IS_REMEMBER_ME,{redirect:url}).success(function(response){if(typeof callback!="undefined"){callback()}}).error(function(){document.location="/relogin.php"})},lastChecked:null,checkLogin:function(){var minuteAgo=moment().subtract(1,"minutes");if(this.lastChecked!==null&&this.lastChecked.isAfter(minuteAgo)){return}this.lastChecked=moment();apiService.get(API_USER_CHECK_LOGIN).success(function(response){if(!response.success){document.location="/login/?_force=1"}}).error(function(response){document.location="/login/?_force=1"})}}};return userActions});!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n){e.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n){function t(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}},function(e,n,t){"use strict";t.r(n);var i=t(0),o=t.n(i),a=t(1),r=t.n(a),s=new(function(){function e(){o()(this,e)}return r()(e,[{key:"init",value:function(){if(void 0===e)var e=window.jQuery;this.onDashboardTabUpdate=this.onDashboardTabUpdate.bind(this),this.onLibraryTabUpdate=this.onLibraryTabUpdate.bind(this),e(window).on("DashboardTabStore.events.UPDATE",this.onDashboardTabUpdate),e(window).on("Dashboard.events.libraryFolder",this.onLibraryTabUpdate)}},{key:"onDashboardTabUpdate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(void 0===t)var t=window.jQuery;n&&n.data&&n.data.activeTab?(this.clearActive(),t("#ch-ucm-"+n.data.activeTab.mainTab).addClass("isActive")):this.onNewDashboardTab(e,n)}},{key:"onLibraryTabUpdate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.clearActive(),$("#ch-ucm-library-"+n.folder).addClass("isCourseActive")}},{key:"onNewDashboardTab",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n&&n.data.tabs){var t=n.data.tabs,i=t.filter(function(e){return e.isSub&&0===e.id.indexOf("library-")&&"library-add-course"!==e.id}).sort(function(e,n){return e.sort>n.sort});$(".ch_course_label").remove();var o=$("#ch-ucm-library"),a=$("#ch_library_toggle").hasClass("collapsed")?"none":"list-item",r=i.map(function(e){return $('<li class="ch_course_label" id="ch-ucm-'+e.id+'" style="display: '+a+';"><a href="/home/#'+e.href+'" rel="" title="'+e.label+'">'+e.label+"</a></li>")});o.after(r)}}},{key:"clearActive",value:function(){$("#ch_offCanvas_nav li.isCourseActive").removeClass("isCourseActive"),$("#ch_offCanvas_nav li.isActive").removeClass("isActive")}}]),e}()),l=function(){function e(){o()(this,e)}return r()(e,[{key:"toggleCourses",value:function(){try{if(!window.localStorage)return}catch(e){return}window.localStorage.getItem(e.HIDE_LIBRARY_NAV_PREF)&&"0"!==window.localStorage.getItem(e.HIDE_LIBRARY_NAV_PREF)?window.localStorage.setItem(e.HIDE_LIBRARY_NAV_PREF,"0"):window.localStorage.setItem(e.HIDE_LIBRARY_NAV_PREF,"1"),this.setupLibraryNavState()}},{key:"setupLibraryNavState",value:function(){try{if(!window.localStorage)return}catch(e){return}"1"===window.localStorage.getItem(e.HIDE_LIBRARY_NAV_PREF)?this.hideCourses():this.showCourses()}},{key:"showCourses",value:function(){if(void 0===e)var e=window.jQuery;e("li.ch_course_label").css("display","list-item"),e("#ch_library_toggle").removeClass("collapsed")}},{key:"hideCourses",value:function(){if(void 0===e)var e=window.jQuery;e("li.ch_course_label").css("display","none"),e("#ch_library_toggle").addClass("collapsed")}}]),e}();l.HIDE_LIBRARY_NAV_PREF="CH_HIDE_LIBRARY_NAV_PREF";var c=new l,u=function e(){o()(this,e)};u.scrollToTop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;$("html, body").animate({scrollTop:0},e)};var d,v=u,f=function(){function e(){o()(this,e)}return r()(e,null,[{key:"setupUserContentMenu",value:function(){if(void 0===e)var e=window.jQuery;var n=function(){e("#ch_notifications_action > a").removeClass("isActive"),e("#ch_notifications_panel").removeClass("isEnabled")};e(".ch_hamburger_icon").on("click",function(t){e(t.target).is(".courseListToggle")||(v.scrollToTop(),e("#ch_offCanvas_nav").toggleClass("isOnCanvas"),e(this).toggleClass("isOnCanvas"),e("body").toggleClass("isOverflowHidden"),e("#ch-social-share_container").toggleClass("isHidden"),n())}),e(".ch-external-link").on("click",function(e){e.stopPropagation()}),e(document).on("click",function(t){e(t.target).is("#ch_offCanvas_nav, #ch_offCanvas_nav *, .ch_hamburger_icon, .ch_hamburger_icon *")||(e("#ch_offCanvas_nav, .ch_hamburger_icon").removeClass("isOnCanvas"),e("body").removeClass("isOverflowHidden"),n())})}},{key:"setupMobileUserContentMenu",value:function(){if(void 0===e)var e=window.jQuery;var n=e(".ch_subNav_panel"),t=function(){e(".ch_nav_action.isHamburgerMenu").removeClass("dropdownIsActive"),n.removeClass("dropdownIsActive"),e("html").css("overflow",""),e("body").css({position:"",width:""})};e(".ch_nav_action.isHamburgerMenu").on("click",function(t){e("html").css("overflow","hidden"),e("body").css("position","fixed"),e("body").css("width","100%");var i=!n.hasClass("dropdownIsActive");n.toggleClass("dropdownIsActive",i),e(this).toggleClass("dropdownIsActive",i),e("#ch_askQuestionTray_wrapper").toggleClass("isHidden"),i||n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e("html").removeAttr("style"),e(".hasChildren > ul").addClass("isHidden"),e(".willMoveOut").removeClass("willMoveOut"),e(".isActive").removeClass("isActive"),e("body").removeAttr("style")});var o=e("#ch_mobile-app-banner_container"),a=o.length>0&&"none"!==o.css("display")?o.outerHeight():0;n.css("marginTop","".concat(a,"px")),t.preventDefault()}),e(".hasChildren").children("a").on("click",function(n){n.currentTarget.classList.contains("ch_mobile_tutoring_link")||(n.preventDefault(),e(this).next("ul").removeClass("isHidden").end().parent(".hasChildren").parent("ul").addClass("willMoveOut"))}),e(document).on("click",function(n){e(n.target).is(".ch_nav_group.isBrowseMenu, .ch_nav_group.isBrowseMenu *")&&!e(n.target).is("ul.ch_nav_group.isBrowseMenu ul.ndbNavigationMobile li.clickable")||t()}),e(".ch_nav_group.isBrowseMenu li:not(.hasChildren, .oneLevelUpAction) > a:not(.isHamburgerMenu):not(.courseListToggle)").on("click",function(e){t()})}},{key:"setupBrowseMenu",value:function(){if(void 0===e)var e=window.jQuery;if(e.fn.menuAim){var n=e(".ch_nav_group > li").hasClass("open-to-left")?"left":"right";e(".ch_subNav_group").menuAim({activate:function(n){e(n).children().addClass("isActive"),e(n).children("ul").fadeIn(100)},deactivate:function(n){e(n).children().removeClass("isActive"),e(n).children("ul").fadeOut(100)},exitMenu:function(){return e(".ch_subNav_group").find(".isActive").removeClass("isActive"),!0},submenuDirection:n})}}},{key:"setupMobileBrowseMenu",value:function(){if(void 0===e)var e=window.jQuery;e(".oneLevelUpAction").on("click",function(n){var t=e(this);t.parent("ul").parent(".hasChildren").parent("ul");t.parent("ul").addClass("isHidden").parent(".hasChildren").parent("ul").removeClass("willMoveOut")})}},{key:"setupLibraryMenu",value:function(){if(void 0===e)var e=window.jQuery;e("#ch_library_toggle").on("click",function(e){e.preventDefault(),e.stopPropagation(),c.toggleCourses()}),c.setupLibraryNavState()}},{key:"setupAccountMenu",value:function(){if(void 0===e)var e=window.jQuery}}]),e}();d=function(){!function(){if(void 0===e)var e=window.jQuery;e("document").ready(function(){f.setupUserContentMenu(),f.setupMobileUserContentMenu(),f.setupBrowseMenu(),f.setupMobileBrowseMenu(),f.setupLibraryMenu(),s.init()})}()},"complete"===document.readyState?d():window.addEventListener("load",d)}]);var _deps=["utilServices"];var courseHeroMQServices=angular.module("courseHeroMQServices",_deps);courseHeroMQServices.service("courseHeroMQ",function($rootScope,$q,apiService){var API_GET_TOKEN_URL="/api/v1/users/me/messagingToken/";var started=false;function onMessage(e,payload){var messageType=payload.messageType;if(messageType==="error"){console.warn(payload.data.text);return}$rootScope.$emit(messageType,payload.data);$rootScope.$apply()}if(typeof $==="undefined"){var $=jQuery}$(window).on("courseHeroMQ.message.receive",onMessage);return{subscribe:function(topic){var deferred=$q.defer();if(connectionHandler.subscriptions.indexOf(topic)>=0){deferred.resolve();return deferred.promise}connectionHandler.subscriptions.push(topic);if(!connectionHandler.connected){connectionHandler.deferrers[topic]=deferred;return deferred.promise}var realTopic=topic.replace("{me}",connectionHandler.token.user_id);connectionHandler.session.subscribe(realTopic,connectionHandler.onMessage.bind(null,realTopic)).then(deferred.resolve,deferred.reject);return deferred.promise},start:function(websocketUrl){if(!started){apiService.get(API_GET_TOKEN_URL).success(function(response){connectionHandler.token=response;if(connectionHandler.token&&connectionHandler.token.messaging_token){connectionHandler.connect(websocketUrl)}});started=true}},listen:function(event,callback){$(window).on(event,callback)},ignore:function(event,callback){$(window).off(event,callback)}}});var connectionHandler=new function(){var RETRY_TIMEOUT=2e3;var retryTimeout=null;var closeHandler=function(reason,error){};var emit=function(event,data){$(window).trigger(event,[data])};var websocketConnection=null;return{connected:false,session:null,token:null,subscriptions:[],deferrers:{},subscribe:function(topic,callback){if(connectionHandler.subscriptions.indexOf(topic)>=0){return}connectionHandler.subscriptions.push(topic);if(!connectionHandler.connected){return}var realTopic=topic.replace("{me}",connectionHandler.token.user_id);connectionHandler.session.subscribe(realTopic,connectionHandler.onMessage.bind(null,realTopic))},onConnect:function(session){if(retryTimeout){clearInterval(retryTimeout)}connectionHandler.session=session;connectionHandler.connected=true;connectionHandler.subscriptions.forEach(function(topic){var realTopic=topic.replace("{me}",connectionHandler.token.user_id);var deferred=connectionHandler.deferrers[topic]?connectionHandler.deferrers[topic]:{resolve:null,reject:null};session.subscribe(realTopic,connectionHandler.onMessage.bind(null,topic)).then(deferred.resolve,deferred.reject)})},onMessage:function(topic,messages){var message=messages[0];var messageType=message.type;if(messageType==="error"){connectionHandler.subscriptions.splice(connectionHandler.subscriptions.indexOf(topic),1);console.warn(message.data.text);return}emit("courseHeroMQ.message.receive",{messageType:messageType,data:message.data})},setupWebsocket:function(websocketUrl,token){websocketConnection=new autobahn.Connection({url:websocketUrl,realm:"realm1",onchallenge:connectionHandler.issueToken.bind(null,token),authmethods:["ticket"]});websocketConnection.onopen=connectionHandler.onConnect;websocketConnection.onclose=closeHandler;websocketConnection.open()},issueToken:function(token,session,method,extra){return token},connect:function(websocketUrl){connectionHandler.setupWebsocket(websocketUrl,connectionHandler.token.messaging_token)}}};var CourseHeroMQTransportController=function($scope,courseHeroMQ){$scope.init=function(websocketUrl){courseHeroMQ.start(websocketUrl)}};courseHeroMQServices.controller("CourseHeroMQTransportController",CourseHeroMQTransportController);(function(){var primaryTextStyle="color:#001a96; font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 400; font-style: normal; font-size: 60px;";var secondaryTextStyle="color: #e00099;font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size: 36px;";var tertiaryTextStyle="color: #3d3d3d;font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size: 24px;";console.group("Work with us!");console.log("%cCourse Hero%c is hiring.",primaryTextStyle,tertiaryTextStyle);console.log("%c Go to%c https://grnh.se/73cfdb9b1 %cto apply!",tertiaryTextStyle,secondaryTextStyle,tertiaryTextStyle);console.groupEnd()})();(function(){"use strict";angular.module("ux.tagRecording",[])})();(function(){"use strict";angular.module("ux.tagRecording").service("TagRecordingService",TagRecordingService);function TagRecordingService($window){var loaded=true;if(typeof $window.__insp=="undefined"){window.devLog("Inspectlet is not loaded on this page.");loaded=false}return{tagRecording:function(tag){if(!loaded){return}window.devLog("Session recording tagged: "+tag);$window.__insp.push(["tagSession",tag])}}}})();(function(){"use strict";angular.module("ux.tagRecording").directive("tagRecording",TagRecordingDirective);function TagRecordingDirective($parse,$timeout,TagRecordingService){return{restrict:"A",controller:function(){},link:function(scope,element,attrs){var tagInstructions=$parse(attrs.tagRecording)(scope);var fieldTagName="tag";var fieldAction="on";if(!(tagInstructions instanceof Array)){tagInstructions=[tagInstructions]}$timeout(function(){for(var i=0;i<tagInstructions.length;i++){attachTagging(i)}function attachTagging(i){var tagInstruction=tagInstructions[i];var tagElement=element;if(!tagInstruction.hasOwnProperty(fieldTagName)){errorMissingField(tagInstruction,fieldTagName,"Cannot tag something without a tag name");return}if(tagInstruction.hasOwnProperty("watch")){scope.$watch(attrs[tagInstruction.watch],function(newValue,oldValue){if(newValue==oldValue){return}tag(tagInstruction)});return}if(!tagInstruction.hasOwnProperty(fieldAction)){errorMissingField(tagInstruction,fieldAction,"Cannot tag something without an action");return}if(tagInstruction.hasOwnProperty("element")){tagElement=angular.element(element[0].querySelector(tagInstruction.element))}tagElement.on(tagInstruction[fieldAction],function(){tag(tagInstruction)})}function tag(tagInstruction){TagRecordingService.tagRecording(tagInstruction[fieldTagName])}},0);function errorMissingField(tagInstruction,field,message){console.error('Missing field "'+field+'": '+message+". Tag instruction: ",tagInstruction)}}}}})();!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=26)}([function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=window.React},function(e,t){e.exports=function(e,t,i,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}},function(e,t){e.exports=function(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},function(e,t){e.exports=window.BeefFlux},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){var n=i(15),r=i(0);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?r(e):t}},function(e,t){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(t)}e.exports=i},function(e,t,i){var n=i(19);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}},function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},function(e,t){function i(){return e.exports=i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i.apply(this,arguments)}e.exports=i},function(e,t){e.exports=window.moment},function(e,t,i){var n=i(20),r=i(21),a=i(22);e.exports=function(e){return n(e)||r(e)||a()}},function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?e.exports=n=function(e){return i(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},n(t)}e.exports=n},function(e,t){e.exports=window.ReactDOM},function(e,t,i){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++)i[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return i},r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(s(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,a=n.length,o=String(e).replace(r,function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e}}),l=n[i];i<a;l=n[++i])f(l)||!S(l)?o+=" "+l:o+=" "+s(l);return o},t.deprecate=function(i,n){if(void 0!==e&&!0===e.noDeprecation)return i;if(void 0===e)return function(){return t.deprecate(i,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),r=!0}return i.apply(this,arguments)}};var a,o={};function s(e,i){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(i)?n.showHidden=i:i&&t._extend(n,i),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,e,n.depth)}function l(e,t){var i=s.styles[t];return i?"["+s.colors[i][0]+"m"+e+"["+s.colors[i][1]+"m":e}function c(e,t){return e}function u(e,i,n){if(e.customInspect&&i&&w(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return b(r)||(r=u(e,r,n)),r}var a=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}if(g(t))return e.stylize(""+t,"number");if(m(t))return e.stylize(""+t,"boolean");if(f(t))return e.stylize("null","null")}(e,i);if(a)return a;var o=Object.keys(i),s=function(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(i)),_(i)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(i);if(0===o.length){if(w(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(y(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(E(i))return e.stylize(Date.prototype.toString.call(i),"date");if(_(i))return h(i)}var c,S="",T=!1,C=["{","}"];(d(i)&&(T=!0,C=["[","]"]),w(i))&&(S=" [Function"+(i.name?": "+i.name:"")+"]");return y(i)&&(S=" "+RegExp.prototype.toString.call(i)),E(i)&&(S=" "+Date.prototype.toUTCString.call(i)),_(i)&&(S=" "+h(i)),0!==o.length||T&&0!=i.length?n<0?y(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),c=T?function(e,t,i,n,r){for(var a=[],o=0,s=t.length;o<s;++o)A(t,String(o))?a.push(p(e,t,i,n,String(o),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(p(e,t,i,n,r,!0))}),a}(e,i,n,s,o):o.map(function(t){return p(e,i,n,s,t,T)}),e.seen.pop(),function(e,t,i){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(c,S,C)):C[0]+S+C[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,i,n,r,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),A(n,r)||(o="["+r+"]"),s||(e.seen.indexOf(l.value)<0?(s=f(i)?u(e,l.value,null):u(e,l.value,i-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),v(o)){if(a&&r.match(/^\d+$/))return s;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function d(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function f(e){return null===e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function v(e){return void 0===e}function y(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function E(e){return S(e)&&"[object Date]"===T(e)}function _(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function w(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(i){if(v(a)&&(a=e.env.NODE_DEBUG||""),i=i.toUpperCase(),!o[i])if(new RegExp("\\b"+i+"\\b","i").test(a)){var n=e.pid;o[i]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",i,n,e)}}else o[i]=function(){};return o[i]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=m,t.isNull=f,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=y,t.isObject=S,t.isDate=E,t.isError=_,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(24);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=i(25),t._extend=function(e,t){if(!t||!S(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function D(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t;if("function"!=typeof(t=e[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,i,n=new Promise(function(e,n){t=e,i=n}),r=[],a=0;a<arguments.length;a++)r.push(arguments[a]);r.push(function(e,n){e?i(e):t(n)});try{e.apply(this,r)}catch(e){i(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=N,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n]);var r=i.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return r.apply(a,arguments)};t.apply(this,i).then(function(t){e.nextTick(o,null,t)},function(t){e.nextTick(D,t,o)})}return Object.setPrototypeOf(i,Object.getPrototypeOf(t)),Object.defineProperties(i,n(t)),i}}).call(this,i(23))},function(e,t,i){e.exports={"new-marker":"new-marker",newMarker:"new-marker"}},function(e,t){function i(t,n){return e.exports=i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(t,n)}e.exports=i},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){var i,n,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],u=!1,h=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new m(e,t)),1!==c.length||u||s(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){"use strict";i.r(t);var n,r=i(1),a=i(16),o=i(5),s=i.n(o),l=i(9),c=i.n(l),u=i(6),h=i.n(u),p=i(7),d=i.n(p),m=i(0),f=i.n(m),g=i(8),b=i.n(g),v=function(e){function t(){return s()(this,t),h()(this,d()(t).apply(this,arguments))}return b()(t,e),c()(t,[{key:"getClassName",value:function(e){var t="";for(var i in e)t+=e[i]?" "+i:"";return t}}]),t}(r.Component);!function(e){e[e.PHONE_MAX=767]="PHONE_MAX",e[e.PHONE_MIN=320]="PHONE_MIN",e[e.TABLET_MAX=1199]="TABLET_MAX"}(n||(n={}));var y,S,E,_,w,T,C,k,O,A,N,D,x,R,U,I,F,z,P,L,j,M,B,H,q,G,W,Q,V,X,K,Y,J,Z,ee,te,ie,ne,re,ae,oe,se,le,ce,ue,he,pe,de,me,fe,ge,be,ve,ye,Se,Ee,_e,we,Te,Ce,ke,Oe,Ae,Ne,De,xe,Re,Ue,Ie,Fe,ze,Pe,Le,je,Me,Be,He,qe,Ge,We,Qe,Ve,Xe,$e,Ke,Ye,Je,Ze,et,tt,it,nt,rt,at,ot,st,lt,ct,ut,ht,pt,dt,mt,ft,gt,bt,vt,yt,St,Et,_t,wt,Tt,Ct,kt,Ot,At,Nt,Dt,xt,Rt,Ut,It,Ft,zt,Pt,Lt,jt,Mt,Bt,Ht,qt,Gt,Wt,Qt,Vt,Xt,$t,Kt,Yt,Jt,Zt,ei,ti,ii,ni,ri,ai,oi,si,li,ci,ui,hi,pi,di,mi,fi,gi,bi,vi,yi,Si,Ei,_i,wi,Ti,Ci,ki,Oi,Ai,Ni,Di,xi,Ri,Ui,Ii,Fi,zi,Pi,Li,ji,Mi,Bi,Hi,qi,Gi,Wi,Qi,Vi,Xi,$i,Ki,Yi,Ji,Zi,en,tn,nn,rn,an,on,sn,ln,cn,un,hn,pn,dn,mn,fn,gn,bn,vn,yn,Sn,En,_n,wn,Tn,Cn,kn,On,An,Nn,Dn,xn,Rn,Un,In,Fn,zn,Pn,Ln,jn,Mn,Bn,Hn,qn,Gn,Wn,Qn,Vn,Xn,$n,Kn,Yn,Jn,Zn,er,tr,ir,nr,rr,ar,or,sr,lr,cr,ur,hr,pr,dr,mr,fr,gr,br,vr,yr,Sr,Er,_r,wr,Tr,Cr,kr,Or,Ar,Nr,Dr,xr,Rr,Ur,Ir,Fr,zr,Pr,Lr,jr,Mr,Br,Hr,qr,Gr,Wr,Qr,Vr,Xr,$r,Kr,Yr,Jr,Zr,ea,ta,ia,na,ra,aa,oa,sa,la,ca,ua,ha,pa,da,ma,fa,ga,ba,va,ya,Sa,Ea,_a,wa,Ta,Ca,ka,Oa,Aa,Na,Da,xa,Ra,Ua,Ia,Fa,za,Pa,La,ja,Ma,Ba=n,Ha=i(14),qa=i.n(Ha),Ga="search_widget:search_submitted",Wa=i(4),Qa=Wa.Actions.define("SET_DEFAULT_SUGGESTIONS",function(e){return e}),Va=i(11),Xa=i.n(Va),$a=Wa.Actions.define("RECEIVE_SEARCH_RESPONSE",function(e){return e}),Ka=i(3),Ya=i.n(Ka),Ja=i(2),Za=i.n(Ja),eo=(i(10),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(this,e),Object.assign(this,t)}),to=(y=Wa.Schema.int(),S=Wa.Schema.string(),C=T=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"code",_,f()(e)),Ya()(e,"message",w,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),T.schema={},E=C,_=Za()(E.prototype,"code",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=Za()(E.prototype,"message",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E),io=to,no=(k=Wa.Schema.int(),O=Wa.Schema.string(),A=Wa.Schema.int(),N=Wa.Schema.string(),D=Wa.Schema.string(),x=Wa.Schema.int(),R=Wa.Schema.string(),H=B=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"school_id",I,f()(e)),Ya()(e,"school_name",F,f()(e)),Ya()(e,"course_id",z,f()(e)),Ya()(e,"course_num",P,f()(e)),Ya()(e,"course_name",L,f()(e)),Ya()(e,"dept_id",j,f()(e)),Ya()(e,"dept_acro",M,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),B.schema={},U=H,I=Za()(U.prototype,"school_id",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=Za()(U.prototype,"school_name",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Za()(U.prototype,"course_id",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=Za()(U.prototype,"course_num",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=Za()(U.prototype,"course_name",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=Za()(U.prototype,"dept_id",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=Za()(U.prototype,"dept_acro",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U),ro=no,ao=(q=Wa.Schema.int(),G=Wa.Schema.string(),K=X=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"subject_id",Q,f()(e)),Ya()(e,"subject_name",V,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),X.schema={},W=K,Q=Za()(W.prototype,"subject_id",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Za()(W.prototype,"subject_name",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W),oo=ao,so=(Y=Wa.Schema.array({initial:function(){return[]},schema:null}),J=Wa.Schema.array({initial:function(){return[]},schema:null}),Z=Wa.Schema.object({schema:function(){return ro.schema},constructor:ro}),ee=Wa.Schema.object({schema:function(){return oo.schema},constructor:oo}),se=oe=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"type",ie,f()(e)),Ya()(e,"doc_type",ne,f()(e)),Ya()(e,"course",re,f()(e)),Ya()(e,"subject",ae,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),oe.schema={},te=se,ie=Za()(te.prototype,"type",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=Za()(te.prototype,"doc_type",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=Za()(te.prototype,"course",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Za()(te.prototype,"subject",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te),lo=so,co=(le=Wa.Schema.string(),ce=Wa.Schema.string(),ue=Wa.Schema.string(),he=Wa.Schema.string(),pe=Wa.Schema.string(),de=Wa.Schema.bool(),_e=Ee=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"lat",fe,f()(e)),Ya()(e,"long",ge,f()(e)),Ya()(e,"city",be,f()(e)),Ya()(e,"state",ve,f()(e)),Ya()(e,"zip",ye,f()(e)),Ya()(e,"auto",Se,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Ee.schema={},me=_e,fe=Za()(me.prototype,"lat",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Za()(me.prototype,"long",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=Za()(me.prototype,"city",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Za()(me.prototype,"state",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Za()(me.prototype,"zip",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=Za()(me.prototype,"auto",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me),uo=co,ho=(we=Wa.Schema.int(),Te=Wa.Schema.string(),Ce=Wa.Schema.int(),ke=Wa.Schema.string(),Oe=Wa.Schema.string(),Ae=Wa.Schema.object({schema:function(){return uo.schema},constructor:uo}),Ne=Wa.Schema.object({schema:function(){return lo.schema},constructor:lo}),De=Wa.Schema.string(),xe=Wa.Schema.int({initial:function(){return 25}}),Re=Wa.Schema.int({initial:function(){return 0}}),Ue=Wa.Schema.int({initial:function(){return 0}}),Ve=Qe=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"search_id",Fe,f()(e)),Ya()(e,"search_key",ze,f()(e)),Ya()(e,"parent_search_id",Pe,f()(e)),Ya()(e,"user_query",Le,f()(e)),Ya()(e,"final_query",je,f()(e)),Ya()(e,"location",Me,f()(e)),Ya()(e,"filters",Be,f()(e)),Ya()(e,"sort",He,f()(e)),Ya()(e,"limit",qe,f()(e)),Ya()(e,"offset",Ge,f()(e)),Ya()(e,"total_results",We,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Qe.schema={},Ie=Ve,Fe=Za()(Ie.prototype,"search_id",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Za()(Ie.prototype,"search_key",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Za()(Ie.prototype,"parent_search_id",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=Za()(Ie.prototype,"user_query",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=Za()(Ie.prototype,"final_query",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=Za()(Ie.prototype,"location",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=Za()(Ie.prototype,"filters",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=Za()(Ie.prototype,"sort",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=Za()(Ie.prototype,"limit",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=Za()(Ie.prototype,"offset",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=Za()(Ie.prototype,"total_results",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie),po=ho,mo=(Xe=Wa.Schema.string(),$e=Wa.Schema.string(),Ke=Wa.Schema.string(),Ye=Wa.Schema.int(),Je=Wa.Schema.array({initial:function(){return[]},schema:function(){return mo.schema}}),ot=at=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"display",et,f()(e)),Ya()(e,"description",tt,f()(e)),Ya()(e,"value",it,f()(e)),Ya()(e,"count",nt,f()(e)),Ya()(e,"children",rt,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),at.schema={},Ze=ot,et=Za()(Ze.prototype,"display",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=Za()(Ze.prototype,"description",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=Za()(Ze.prototype,"value",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=Za()(Ze.prototype,"count",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=Za()(Ze.prototype,"children",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze),fo=mo,go=(st=Wa.Schema.string(),lt=Wa.Schema.string(),ct=Wa.Schema.string(),ut=Wa.Schema.array({schema:function(){return fo.schema},constructor:fo}),bt=gt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"display",pt,f()(e)),Ya()(e,"type",dt,f()(e)),Ya()(e,"field",mt,f()(e)),Ya()(e,"options",ft,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),gt.schema={},ht=bt,pt=Za()(ht.prototype,"display",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=Za()(ht.prototype,"type",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=Za()(ht.prototype,"field",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=Za()(ht.prototype,"options",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht),bo=go,vo=(vt=Wa.Schema.array({schema:function(){return bo.schema},constructor:bo}),yt=Wa.Schema.array({schema:function(){return fo.schema},constructor:fo}),Tt=wt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"filters",Et,f()(e)),Ya()(e,"sort",_t,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),wt.schema={},St=Tt,Et=Za()(St.prototype,"filters",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=Za()(St.prototype,"sort",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St),yo=vo,So=(Ct=Wa.Schema.string(),kt=Wa.Schema.string(),Ot=Wa.Schema.string(),At=Wa.Schema.string(),Nt=Wa.Schema.string(),Dt=Wa.Schema.int(),jt=Lt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"title",Rt,f()(e)),Ya()(e,"url",Ut,f()(e)),Ya()(e,"type",It,f()(e)),Ya()(e,"date",Ft,f()(e)),Ya()(e,"text",zt,f()(e)),Ya()(e,"views",Pt,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Lt.schema={},xt=jt,Rt=Za()(xt.prototype,"title",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=Za()(xt.prototype,"url",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=Za()(xt.prototype,"type",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Za()(xt.prototype,"date",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=Za()(xt.prototype,"text",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Za()(xt.prototype,"views",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt),Eo=So,_o=(Mt=Wa.Schema.int(),Bt=Wa.Schema.string(),Qt=Wt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"db_filename",qt,f()(e)),Ya()(e,"type",Gt,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Wt.schema={},Ht=Qt,qt=Za()(Ht.prototype,"db_filename",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=Za()(Ht.prototype,"type",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht),wo=_o,To=(Vt=Wa.Schema.int(),Xt=Wa.Schema.bool(),Zt=Jt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"question_id",Kt,f()(e)),Ya()(e,"answered",Yt,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Jt.schema={},$t=Zt,Kt=Za()($t.prototype,"question_id",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=Za()($t.prototype,"answered",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$t),Co=To,ko=(ei=Wa.Schema.int(),ti=Wa.Schema.string(),oi=ai=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"cms_item_id",ni,f()(e)),Ya()(e,"route",ri,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),ai.schema={},ii=oi,ni=Za()(ii.prototype,"cms_item_id",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ri=Za()(ii.prototype,"route",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ii),Oo=ko,Ao=(si=Wa.Schema.int(),hi=ui=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"book_section_id",ci,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),ui.schema={},li=hi,ci=Za()(li.prototype,"book_section_id",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li),No=Ao,Do=(pi=Wa.Schema.string(),di=Wa.Schema.string(),mi=Wa.Schema.int(),Si=yi=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"title",gi,f()(e)),Ya()(e,"url",bi,f()(e)),Ya()(e,"count",vi,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),yi.schema={},fi=Si,gi=Za()(fi.prototype,"title",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi=Za()(fi.prototype,"url",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vi=Za()(fi.prototype,"count",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi),xo=Do,Ro=(Ei=Wa.Schema.int(),_i=Wa.Schema.string(),wi=Wa.Schema.string(),Ti=Wa.Schema.string(),xi=Di=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"course_id",ki,f()(e)),Ya()(e,"course_num",Oi,f()(e)),Ya()(e,"course_url",Ai,f()(e)),Ya()(e,"course_name",Ni,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Di.schema={},Ci=xi,ki=Za()(Ci.prototype,"course_id",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oi=Za()(Ci.prototype,"course_num",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ai=Za()(Ci.prototype,"course_url",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=Za()(Ci.prototype,"course_name",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ci),Uo=Ro,Io=(Ri=Wa.Schema.int(),Ui=Wa.Schema.string(),Ii=Wa.Schema.string(),Mi=ji=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"dept_id",zi,f()(e)),Ya()(e,"dept_acro",Pi,f()(e)),Ya()(e,"dept_url",Li,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),ji.schema={},Fi=Mi,zi=Za()(Fi.prototype,"dept_id",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi=Za()(Fi.prototype,"dept_acro",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=Za()(Fi.prototype,"dept_url",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi),Fo=(Bi=Wa.Schema.int(),Hi=Wa.Schema.string(),qi=Wa.Schema.string(),$i=Xi=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"school_id",Wi,f()(e)),Ya()(e,"school_name",Qi,f()(e)),Ya()(e,"school_url",Vi,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Xi.schema={},Gi=$i,Wi=Za()(Gi.prototype,"school_id",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qi=Za()(Gi.prototype,"school_name",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vi=Za()(Gi.prototype,"school_url",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gi),zo=(Ki=Wa.Schema.object({schema:function(){return Uo.schema},constructor:Uo}),Yi=Wa.Schema.object({schema:function(){return Io.schema},constructor:Io}),Ji=Wa.Schema.object({schema:function(){return Fo.schema},constructor:Fo}),Zi=Wa.Schema.object({schema:function(){return oo.schema},constructor:oo}),sn=on=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"course",tn,f()(e)),Ya()(e,"department",nn,f()(e)),Ya()(e,"school",rn,f()(e)),Ya()(e,"subject",an,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),on.schema={},en=sn,tn=Za()(en.prototype,"course",[Ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=Za()(en.prototype,"department",[Yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=Za()(en.prototype,"school",[Ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=Za()(en.prototype,"subject",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en),Po=(ln=Wa.Schema.string(),cn=Wa.Schema.string(),mn=dn=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"url",hn,f()(e)),Ya()(e,"overlay_text",pn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),dn.schema={},un=mn,hn=Za()(un.prototype,"url",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pn=Za()(un.prototype,"overlay_text",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),un),Lo=(fn=Wa.Schema.int(),yn=vn=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"video_id",bn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),vn.schema={},gn=yn,bn=Za()(gn.prototype,"video_id",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn),jo=(Sn=Wa.Schema.int(),En=Wa.Schema.string(),_n=Wa.Schema.string(),wn=Wa.Schema.string(),Tn=Wa.Schema.string(),Cn=Wa.Schema.string(),kn=Wa.Schema.string(),On=Wa.Schema.int(),Ln=Pn=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"textbook_id",Nn,f()(e)),Ya()(e,"title",Dn,f()(e)),Ya()(e,"author",xn,f()(e)),Ya()(e,"cover_url",Rn,f()(e)),Ya()(e,"edition_name",Un,f()(e)),Ya()(e,"isbn",In,f()(e)),Ya()(e,"publisher",Fn,f()(e)),Ya()(e,"num_solutions",zn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Pn.schema={},An=Ln,Nn=Za()(An.prototype,"textbook_id",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=Za()(An.prototype,"title",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=Za()(An.prototype,"author",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rn=Za()(An.prototype,"cover_url",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Un=Za()(An.prototype,"edition_name",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=Za()(An.prototype,"isbn",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn=Za()(An.prototype,"publisher",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=Za()(An.prototype,"num_solutions",[On],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),An),Mo=(jn=Wa.Schema.string(),qn=Hn=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"num",Bn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Hn.schema={},Mn=qn,Bn=Za()(Mn.prototype,"num",[jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mn),Bo=(Gn=Wa.Schema.string(),Wn=Wa.Schema.string(),Kn=$n=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"title",Vn,f()(e)),Ya()(e,"num",Xn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),$n.schema={},Qn=Kn,Vn=Za()(Qn.prototype,"title",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xn=Za()(Qn.prototype,"num",[Wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qn),Ho=(Yn=Wa.Schema.string(),tr=er=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"title",Zn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),er.schema={},Jn=tr,Zn=Za()(Jn.prototype,"title",[Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn),qo=(ir=Wa.Schema.object({initial:function(){return{}},schema:function(){return jo.schema},constructor:jo}),nr=Wa.Schema.int(),rr=Wa.Schema.string(),ar=Wa.Schema.object({initial:function(){return{}},schema:function(){return Mo.schema},constructor:Mo}),or=Wa.Schema.object({initial:function(){return{}},schema:function(){return Bo.schema},constructor:Bo}),sr=Wa.Schema.object({initial:function(){return{}},schema:function(){return Ho.schema},constructor:Ho}),lr=Wa.Schema.string(),cr=Wa.Schema.string(),Sr=yr=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"textbook",hr,f()(e)),Ya()(e,"exercise_id",pr,f()(e)),Ya()(e,"url",dr,f()(e)),Ya()(e,"chapter",mr,f()(e)),Ya()(e,"section",fr,f()(e)),Ya()(e,"heading",gr,f()(e)),Ya()(e,"exercise_num",br,f()(e)),Ya()(e,"page",vr,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),yr.schema={},ur=Sr,hr=Za()(ur.prototype,"textbook",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=Za()(ur.prototype,"exercise_id",[nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dr=Za()(ur.prototype,"url",[rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mr=Za()(ur.prototype,"chapter",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fr=Za()(ur.prototype,"section",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gr=Za()(ur.prototype,"heading",[sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br=Za()(ur.prototype,"exercise_num",[lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vr=Za()(ur.prototype,"page",[cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur),Go=(Er=Wa.Schema.object({schema:function(){return Eo.schema},constructor:Eo}),_r=Wa.Schema.object({schema:function(){return Po.schema},constructor:Po}),wr=Wa.Schema.object({schema:function(){return wo.schema},constructor:wo}),Tr=Wa.Schema.object({schema:function(){return Co.schema},constructor:Co}),Cr=Wa.Schema.object({schema:function(){return zo.schema},constructor:zo}),kr=Wa.Schema.object({schema:function(){return Oo.schema},constructor:Oo}),Or=Wa.Schema.object({schema:function(){return No.schema},constructor:No}),Ar=Wa.Schema.object({schema:function(){return Lo.schema},constructor:Lo}),Nr=Wa.Schema.array({schema:function(){return xo.schema},constructor:xo}),Dr=Wa.Schema.object({schema:function(){return jo.schema},constructor:jo}),xr=Wa.Schema.object({schema:function(){return qo.schema},constructor:qo}),Wr=Gr=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"core",Ur,f()(e)),Ya()(e,"thumbnail",Ir,f()(e)),Ya()(e,"document",Fr,f()(e)),Ya()(e,"question",zr,f()(e)),Ya()(e,"taxonomy",Pr,f()(e)),Ya()(e,"course_studyguide",Lr,f()(e)),Ya()(e,"lit_studyguide",jr,f()(e)),Ya()(e,"studyguide_video",Mr,f()(e)),Ya()(e,"sub_resources",Br,f()(e)),Ya()(e,"textbook",Hr,f()(e)),Ya()(e,"textbook_exercise",qr,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),c()(t,[{key:"getUniqueID",value:function(){return this.document?"DB-"+this.document.db_filename:this.question?"Q-"+this.question.question_id:this.textbook?"T-"+this.textbook.textbook_id:this.textbook_exercise?"TE-"+this.textbook_exercise.exercise_id:this.sub_resources?"C-"+this.taxonomy.course.course_id:"NA-"+this.core.title}}]),t}(eo),Gr.schema={},Rr=Wr,Ur=Za()(Rr.prototype,"core",[Er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ir=Za()(Rr.prototype,"thumbnail",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr=Za()(Rr.prototype,"document",[wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zr=Za()(Rr.prototype,"question",[Tr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pr=Za()(Rr.prototype,"taxonomy",[Cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr=Za()(Rr.prototype,"course_studyguide",[kr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jr=Za()(Rr.prototype,"lit_studyguide",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mr=Za()(Rr.prototype,"studyguide_video",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Br=Za()(Rr.prototype,"sub_resources",[Nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr=Za()(Rr.prototype,"textbook",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qr=Za()(Rr.prototype,"textbook_exercise",[xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr),Wo=(Qr=Wa.Schema.string(),Vr=Wa.Schema.string(),Jr=Yr=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"name",$r,f()(e)),Ya()(e,"url",Kr,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Yr.schema={},Xr=Jr,$r=Za()(Xr.prototype,"name",[Qr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kr=Za()(Xr.prototype,"url",[Vr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xr),Qo=(Zr=Wa.Schema.int(),ea=Wa.Schema.string(),ta=Wa.Schema.string(),ia=Wa.Schema.string(),na=Wa.Schema.string(),ra=Wa.Schema.string(),aa=Wa.Schema.string(),oa=Wa.Schema.array({schema:function(){return Wo.schema},constructor:Wo,initial:function(){return[]}}),sa=Wa.Schema.array({schema:function(){return qo.schema},constructor:qo,initial:function(){return[]}}),ya=va=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"textbook_id",ca,f()(e)),Ya()(e,"title",ua,f()(e)),Ya()(e,"author",ha,f()(e)),Ya()(e,"isbn",pa,f()(e)),Ya()(e,"edition_name",da,f()(e)),Ya()(e,"cover_url",ma,f()(e)),Ya()(e,"url",fa,f()(e)),Ya()(e,"chapters",ga,f()(e)),Ya()(e,"exercises",ba,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),va.schema={},la=ya,ca=Za()(la.prototype,"textbook_id",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ua=Za()(la.prototype,"title",[ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ha=Za()(la.prototype,"author",[ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pa=Za()(la.prototype,"isbn",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),da=Za()(la.prototype,"edition_name",[na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ma=Za()(la.prototype,"cover_url",[ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fa=Za()(la.prototype,"url",[aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ga=Za()(la.prototype,"chapters",[oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ba=Za()(la.prototype,"exercises",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),la),Vo=(Sa=Wa.Schema.string(),Ea=Wa.Schema.object({schema:function(){return Qo.schema},constructor:Qo}),ka=Ca=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"type",wa,f()(e)),Ya()(e,"textbook",Ta,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Ca.schema={},_a=ka,wa=Za()(_a.prototype,"type",[Sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ta=Za()(_a.prototype,"textbook",[Ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_a),Xo=(Oa=Wa.Schema.array({schema:function(){return Go.schema},constructor:Go}),Aa=Wa.Schema.object({schema:function(){return po.schema},constructor:po}),Na=Wa.Schema.object({schema:function(){return yo.schema},constructor:yo}),Da=Wa.Schema.array({schema:function(){return io.schema},constructor:io}),xa=Wa.Schema.array({initial:function(){return[]},schema:function(){return Vo.schema},constructor:Vo}),ja=La=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"results",Ua,f()(e)),Ya()(e,"meta",Ia,f()(e)),Ya()(e,"options",Fa,f()(e)),Ya()(e,"errors",za,f()(e)),Ya()(e,"callout_results",Pa,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),La.schema={},Ra=ja,Ua=Za()(Ra.prototype,"results",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ia=Za()(Ra.prototype,"meta",[Aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa=Za()(Ra.prototype,"options",[Na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),za=Za()(Ra.prototype,"errors",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pa=Za()(Ra.prototype,"callout_results",[xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ra);!function(e){e.RELEVANCY="relevancy",e.VIEWS="views",e.DATE="date",e.POPULAR="popular"}(Ma||(Ma={}));var $o,Ko,Yo,Jo,Zo,es,ts,is,ns,rs,as,os,ss,ls,cs,us,hs,ps,ds,ms,fs,gs,bs,vs,ys,Ss,Es,_s,ws,Ts,Cs,ks,Os,As,Ns,Ds,xs,Rs,Us,Is,Fs,zs,Ps,Ls,js,Ms,Bs,Hs=Ma,qs=($o=Wa.Schema.string(),Ko=Wa.Schema.int(),Yo=Wa.Schema.string(),Jo=Wa.Schema.string(),Zo=Wa.Schema.int(),ss=os=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"initial_query",ts,f()(e)),Ya()(e,"search_suggestion_id",is,f()(e)),Ya()(e,"suggestion_source",ns,f()(e)),Ya()(e,"referrer",rs,f()(e)),Ya()(e,"suggestion_position",as,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),os.schema={},es=ss,ts=Za()(es.prototype,"initial_query",[$o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),is=Za()(es.prototype,"search_suggestion_id",[Ko],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ns=Za()(es.prototype,"suggestion_source",[Yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rs=Za()(es.prototype,"referrer",[Jo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),as=Za()(es.prototype,"suggestion_position",[Zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es);!function(e){e.WEB="web",e.MOBILE="mobile"}(Bs||(Bs={}));var Gs,Ws=(ls=Wa.Schema.string({initial:function(){return Bs.WEB}}),cs=Wa.Schema.string(),us=Wa.Schema.int(),hs=Wa.Schema.int(),ps=Wa.Schema.string(),ds=Wa.Schema.string(),ms=Wa.Schema.string(),fs=Wa.Schema.string(),gs=Wa.Schema.object({schema:function(){return uo.schema},constructor:uo}),bs=Wa.Schema.object({schema:function(){return lo.schema},initial:function(){return{}},constructor:lo}),vs=Wa.Schema.string({initial:function(){return Hs.RELEVANCY}}),ys=Wa.Schema.int({initial:function(){return 20}}),Ss=Wa.Schema.int({initial:function(){return 0}}),Es=Wa.Schema.object({schema:function(){return qs.schema},constructor:qs}),_s=Wa.Schema.array({schema:null,initial:function(){return[]}}),Ms=js=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"client",Ts,f()(e)),Ya()(e,"query",Cs,f()(e)),Ya()(e,"previous_search_id",ks,f()(e)),Ya()(e,"search_id",Os,f()(e)),Ya()(e,"search_key",As,f()(e)),Ya()(e,"trigger",Ns,f()(e)),Ya()(e,"view",Ds,f()(e)),Ya()(e,"source",xs,f()(e)),Ya()(e,"location",Rs,f()(e)),Ya()(e,"filters",Us,f()(e)),Ya()(e,"sort",Is,f()(e)),Ya()(e,"limit",Fs,f()(e)),Ya()(e,"offset",zs,f()(e)),Ya()(e,"suggestion",Ps,f()(e)),Ya()(e,"callout_types",Ls,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),js.schema={},ws=Ms,Ts=Za()(ws.prototype,"client",[ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cs=Za()(ws.prototype,"query",[cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ks=Za()(ws.prototype,"previous_search_id",[us],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Os=Za()(ws.prototype,"search_id",[hs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),As=Za()(ws.prototype,"search_key",[ps],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ns=Za()(ws.prototype,"trigger",[ds],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ds=Za()(ws.prototype,"view",[ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xs=Za()(ws.prototype,"source",[fs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rs=Za()(ws.prototype,"location",[gs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Us=Za()(ws.prototype,"filters",[bs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=Za()(ws.prototype,"sort",[vs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fs=Za()(ws.prototype,"limit",[ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zs=Za()(ws.prototype,"offset",[Ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ps=Za()(ws.prototype,"suggestion",[Es],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ls=Za()(ws.prototype,"callout_types",[_s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ws);!function(e){e.DOCUMENT="document",e.QUESTION="question",e.COURSE="course",e.COURSE_STUDY_GUIDE="course_studyguide",e.LIT_STUDY_GUIDE="lit_studyguide",e.COMBINED_STUDY_GUIDE="combined_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.VIDEO="video",e.EDUCATOR_CONTENT="educator_content",e.TEXTBOOK="textbook",e.TEXTBOOK_EXERCISE="textbook_exercise"}(Gs||(Gs={}));var Qs,Vs,Xs,$s,Ks,Ys,Js,Zs,el,tl,il,nl=Gs,rl=new(function(e){function t(){var e;return s()(this,t),(e=h()(this,d()(t).call(this))).state={lastResponse:null,trigger:null},Wa.Actions.register(Xa()({},$a,e.onReceiveSearchResponse.bind(f()(e))),f()(e)),e.sanitizeSearchResponse=e.sanitizeSearchResponse.bind(f()(e)),e}return b()(t,e),c()(t,[{key:"sanitizeSearchResponse",value:function(e){var t=this.sanitize(e,Xo.schema),i=t.meta&&t.meta.filters?t.meta.filters.type:[];return-1!==i.indexOf(nl.COURSE_STUDY_GUIDE)&&-1!==i.indexOf(nl.LIT_STUDY_GUIDE)&&(t.meta.filters.type=[].concat(qa()(i.filter(function(e){return e!==nl.COURSE_STUDY_GUIDE&&e!==nl.LIT_STUDY_GUIDE})),[nl.COMBINED_STUDY_GUIDE])),new Xo(t)}},{key:"sanitizeFilterData",value:function(e){return new lo(this.sanitize(e,lo.schema))}},{key:"sanitizeSuggestionData",value:function(e){return new qs(this.sanitize(e,qs.schema))}},{key:"sanitizeSearchRequest",value:function(e){var t=this.sanitize(e,Ws.schema),i=t.filters?t.filters.type:[];return-1!==i.indexOf(nl.COMBINED_STUDY_GUIDE)&&(t.filters.type=[].concat(qa()(i.filter(function(e){return e!==nl.COMBINED_STUDY_GUIDE})),[nl.COURSE_STUDY_GUIDE,nl.LIT_STUDY_GUIDE])),new Ws(t)}},{key:"onReceiveSearchResponse",value:function(e){var t=this.nextState();return t.lastResponse=this.sanitizeSearchResponse(e[0]),t.trigger=e[1],t}}]),t}(Wa.Store)),al=(Qs=Wa.Schema.int(),Vs=Wa.Schema.string(),Xs=Wa.Schema.int(),$s=Wa.Schema.string(),il=tl=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"id",Ys,f()(e)),Ya()(e,"text",Js,f()(e)),Ya()(e,"position",Zs,f()(e)),Ya()(e,"source",el,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),tl.schema={},Ks=il,Ys=Za()(Ks.prototype,"id",[Qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Js=Za()(Ks.prototype,"text",[Vs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=Za()(Ks.prototype,"position",[Xs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),el=Za()(Ks.prototype,"source",[$s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ks),ol=new(function(e){function t(){var e;return s()(this,t),(e=h()(this,d()(t).call(this))).state={defaultSuggestions:[]},Wa.Actions.register(Xa()({},Qa,e.setDefaultSuggestions.bind(f()(e))),f()(e)),e}return b()(t,e),c()(t,[{key:"sanitizeJSONSuggestions",value:function(e){var t=this,i=JSON.parse(e);return Array.isArray(i)?i.map(function(e,i){return t.sanitizeSuggestion({id:i,text:e})}):[]}},{key:"sanitizeAutocompleteSuggestions",value:function(e){var t=this;return Array.isArray(e)?e.map(function(e,i){return t.sanitizeSuggestion({id:e.search_suggestion_id,text:e.suggestion,position:i,source:e.source})}):[]}},{key:"sanitizeSuggestion",value:function(e){return new al(this.sanitize(e,al.schema))}},{key:"getDefaultSuggestions",value:function(){return this.state.defaultSuggestions}},{key:"setDefaultSuggestions",value:function(e){var t=this,i=this.nextState();return e.forEach(function(e){var n=t.sanitize(e,al.schema);t.upsertItem(i.defaultSuggestions,n.id,n)}),i}}]),t}(Wa.Store));function sl(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function ll(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?sl(i,!0).forEach(function(t){Xa()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sl(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var cl=window.dataLayer,ul=window.amplitude,hl=window.tracker,pl=function(){function e(){s()(this,e)}return c()(e,null,[{key:"trackEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;void 0!==cl&&(void 0!==hl&&hl.super_properties instanceof Object&&(t=ll({},hl.super_properties,{},t)),i&&(t.page_type=hl.get_page_type()),cl.push({event:"User Tracking Event",user_tracking_properties:{eventName:e,properties:t},_clear:!0}))}},{key:"setUserProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0!==ul&&ul.getInstance().setUserProperties(e)}}]),e}(),dl=window,ml=dl.Action,fl=dl.Actions,gl=dl.ApiService,bl=dl.Beef,vl=(dl.Dispatcher,dl.RoutingService,dl.Store);function yl(){return bl.start(),bl.service(gl.SERVICE_ID)}var Sl,El,_l,wl,Tl,Cl=function(e){return function(t,i){var n,r,a,o,s,l=t[i];return t[i]=(n=l,(r=e)||(r=250),function(){var e=a||this,t=+new Date,i=arguments;o&&t<o+r?(clearTimeout(s),s=setTimeout(function(){o=t,n.apply(e,i)},r)):(o=t,n.apply(e,i))}),t}},kl=(Sl=Cl(250),El=function(){function e(){s()(this,e)}return c()(e,null,[{key:"fetchAutocompleteSuggestions",value:function(e,t,i){return yl().get("/api/v1/search/suggest/",{query:e}).then(function(e){t&&t(e)},function(e){i&&i(e)})}}]),e}(),Za()(El,"fetchAutocompleteSuggestions",[Sl],Object.getOwnPropertyDescriptor(El,"fetchAutocompleteSuggestions"),El),El),Ol=i(12),Al=i.n(Ol),Nl=function(e){var t,i,n=e.disabledClass?e.disabledClass:"disabled",a=e.className,o=e.href,s=e.icon,l=e.id,c=e.label,u=e.onClick,h=e.tooltipText,p=e.tooltipClass,d=e.isHodorTooltip,m=e.disabled,f=e.iconPosition,g=e.onBlur;a+=m?" ".concat(n):"",s&&(t=r.createElement("i",{className:s,"aria-hidden":"true"})),h&&(i=d?r.createElement("span",{className:p||"","data-tooltip":h}):r.createElement("span",{className:p||""},h));return r.createElement("a",Al()({id:l,href:o||"javascript:void(0)",className:a,onClick:function(e){u&&!m&&u(e)},onBlur:g},e.chAnalyticsData),f&&"left"!==f?null:t,c,f&&"right"===f?t:null,i)},Dl=function(){function e(){s()(this,e)}return c()(e,null,[{key:"define",value:function(e,t){var i="__CHG_"+e;return void 0!==window[i]?window[i]:window[i]=t()}}]),e}(),xl=function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(i=h()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).selectedFilters=function(e){return e},i.setActiveFilter=function(e){return e},i.receiveFilters=function(e){return e},i.receiveInMeta=function(e){return e},i.resetActive=function(e){return e},i.resetAll=function(){},i.clearSelectedSchoolFilter=function(){},i.clearSelectedProfessorFilter=function(){},i.clearSelectedCourseTitleFilter=function(){},i.clearSelectedCourseNumberFilter=function(){},i.clearSelectedDepartmentFilter=function(){},i.clearSelectedCourseFilter=function(){},i.clearSelectedSubjectFilter=function(){},i.doSearch=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[e,t]},i.loadDefaultSchools=function(e){return e},i}return b()(t,e),t}(ml),Rl=Dl.define("FilterActions",function(){return fl.create(new xl)});!function(e){e[e.PageCount=1]="PageCount",e[e.DocDate=2]="DocDate",e[e.QADateAsked=3]="QADateAsked",e[e.FSCreated=4]="FSCreated"}(Tl||(Tl={}));_l={},Xa()(_l,Tl.DocDate,{type:"daterange"}),Xa()(_l,Tl.PageCount,{type:"number"}),Xa()(_l,Tl.QADateAsked,{type:"daterange"}),Xa()(_l,Tl.FSCreated,{type:"daterange"});var Ul=(wl={},Xa()(wl,Tl.PageCount,"page_count"),Xa()(wl,Tl.DocDate,"doc_date"),Xa()(wl,Tl.QADateAsked,"date_asked"),Xa()(wl,Tl.FSCreated,"created"),Xa()(wl,"page_count",Tl.PageCount),Xa()(wl,"doc_date",Tl.DocDate),Xa()(wl,"date_asked",Tl.QADateAsked),Xa()(wl,"created",Tl.FSCreated),wl),Il=function(){function e(){s()(this,e)}return c()(e,[{key:"log",value:function(e){console.error("You must not modify the resource type definitions. Especially if you tried to change it to '".concat(e,"'.\n            \n That would be the worst possible thing to change it to.\n            "))}},{key:"DOCUMENT",get:function(){return e._documentType},set:function(e){this.log(e)}},{key:"QUESTION",get:function(){return e._questionType},set:function(e){this.log(e)}},{key:"FLASHCARD",get:function(){return e._flashcardType},set:function(e){this.log(e)}},{key:"TUTOR",get:function(){return e._tutorType},set:function(e){this.log(e)}}]),e}();Il._documentType="document",Il._questionType="question",Il._flashcardType="flashcard",Il._tutorType="expert";var Fl=new Il;Object.freeze(Fl);var zl,Pl=function(e){function t(){var e;return s()(this,t),(e=h()(this,d()(t).call(this))).PROFESSOR="professor",e.COURSE_TITLE="courseTitle",e.COURSE_NUMBER="courseNumber",e.DEPARTMENT="department",e.COURSE="course",e.SCHOOL="school",e.SUBJECT="subject",e.SELECTED_SCHOOL="selected_school",e.events={UPDATE:"FilterStore.events.UPDATE",UPDATE_IN_META:"FilterStore.events.UPDATE_IN_META"},e.schema={Professor:{id:vl.int(),label:vl.string()},CourseTitle:{id:vl.int(),label:vl.string()},CourseNumber:{id:vl.int(),label:vl.string()},Department:{id:vl.int(),label:vl.string()},Course:{course_id:vl.int(),course_num:vl.string(),course_name:vl.string(),dept_acro:vl.string(),total_doc_count:vl.int()},School:{id:vl.int(),label:vl.string(),state:vl.string(),country:vl.string()},Subject:{id:vl.int(),label:vl.string()}},e.PROFESSOR_API_URL="/ajax/autocomplete_resultset.php",e.COURSE_TITLE_API_URL="/ajax/autocomplete_resultset.php",e.COURSE_NUMBER_API_URL="/ajax/autocomplete_resultset.php",e.DEPARTMENT_API_URL="/ajax/autocomplete_resultset.php",e.COURSES_API_URL="/api/v1/courses/search/",e.SCHOOLS_API_URL="/ajax/autocomplete_resultset.php",e.SUBJECT_API_URL="/ajax/autocomplete_resultset.php",e.currentSearch=void 0,e.defaultSchoolOptions=void 0,e.currentSearch=null,e.defaultSchoolOptions=null,Rl._register({setActiveFilter:Rl.setActiveFilter,receiveActiveFilters:Rl.receiveFilters,resetActive:Rl.resetActive,clearSelectedSchoolFilter:Rl.clearSelectedSchoolFilter,clearSelectedProfessorFilter:Rl.clearSelectedProfessorFilter,clearSelectedCourseTitleFilter:Rl.clearSelectedCourseTitleFilter,clearSelectedCourseNumberFilter:Rl.clearSelectedCourseNumberFilter,clearSelectedDepartmentFilter:Rl.clearSelectedDepartmentFilter,clearSelectedCourseFilter:Rl.clearSelectedCourseFilter,clearSelectedSubjectFilter:Rl.clearSelectedSubjectFilter,doSearch:Rl.doSearch,receiveInMeta:Rl.receiveInMeta,loadDefaultSchools:Rl.loadDefaultSchools,resetAll:Rl.resetAll},f()(e)),e.getInMetaFilters=e.getInMetaFilters.bind(f()(e)),e}return b()(t,e),c()(t,[{key:"getProfessorFilters",value:function(){return this.getFilters(this.PROFESSOR)}},{key:"getCourseTitleFilters",value:function(){return this.getFilters(this.COURSE_TITLE)}},{key:"getCourseNumberFilters",value:function(){return this.getFilters(this.COURSE_NUMBER)}},{key:"getDepartmentFilters",value:function(){return this.getFilters(this.DEPARTMENT)}},{key:"getCourseFilters",value:function(){return this.getFilters(this.COURSE)}},{key:"getSchoolFilters",value:function(){return this.getFilters(this.SCHOOL)}},{key:"getSubjectFilters",value:function(){return this.getFilters(this.SUBJECT)}},{key:"getFilters",value:function(e){return this.getRows(e)}},{key:"clearSelectedSchoolFilter",value:function(){this.clearAll(this.SELECTED_SCHOOL),this.resetActive(this.COURSE,!0),this.emit(this.events.UPDATE)}},{key:"clearSelectedProfessorFilter",value:function(){this.resetActive(this.PROFESSOR)}},{key:"clearSelectedCourseTitleFilter",value:function(){this.resetActive(this.COURSE_TITLE)}},{key:"clearSelectedCourseNumberFilter",value:function(){this.resetActive(this.COURSE_NUMBER)}},{key:"clearSelectedDepartmentFilter",value:function(){this.clearAll(this.DEPARTMENT),this.resetActive(this.COURSE_NUMBER,!0),this.emit(this.events.UPDATE)}},{key:"clearSelectedCourseFilter",value:function(){this.resetActive(this.COURSE)}},{key:"clearSelectedSubjectFilter",value:function(){this.resetActive(this.SUBJECT)}},{key:"resetAll",value:function(){this.clearAll(this.SELECTED_SCHOOL),this.resetActive(this.SCHOOL,!0),this.resetActive(this.PROFESSOR,!0),this.resetActive(this.COURSE_TITLE,!0),this.resetActive(this.COURSE_NUMBER,!0),this.resetActive(this.DEPARTMENT,!0),this.resetActive(this.COURSE,!0),this.resetActive(this.SUBJECT,!0),this.emit(this.events.UPDATE)}},{key:"setActiveFilter",value:function(e){this.resetActive(e.type),e.type===this.SCHOOL&&(this.clearAll(this.COURSE),this.emit(this.events.UPDATE,this.COURSE),this.clearSelectedSchoolFilter(),this.upsertRow(this.SELECTED_SCHOOL,"id",e.id,e)),e.active=!0,this.upsertRow(e.type,"id",e.id,e),this.emit(this.events.UPDATE,e.type),Rl.selectedFilters(this.getActiveFilterIds())}},{key:"resetActive",value:function(e,t){var i=this;this.getRows(e).forEach(function(e){e.active=!1,i.upsertRow(e.type,"id",e.id,e)}),t||(this.emit(this.events.UPDATE,e),Rl.selectedFilters(this.getActiveFilterIds()))}},{key:"getActiveProfessorFilter",value:function(){return this.getActiveFilter(this.PROFESSOR)}},{key:"getActiveCourseTitleFilter",value:function(){return this.getActiveFilter(this.COURSE_TITLE)}},{key:"getActiveCourseNumberFilter",value:function(){return this.getActiveFilter(this.COURSE_NUMBER)}},{key:"getActiveDepartmentFilter",value:function(){return this.getActiveFilter(this.DEPARTMENT)}},{key:"getActiveCourseFilter",value:function(){return this.getActiveFilter(this.COURSE)}},{key:"getActiveSchoolFilter",value:function(){return this.getActiveFilter(this.SCHOOL)}},{key:"getActiveSubjectFilter",value:function(){return this.getActiveFilter(this.SUBJECT)}},{key:"getActiveFilter",value:function(e){if(e===this.SCHOOL)return this.getRows(this.SELECTED_SCHOOL)[0];var t=this.getFilters(e).filter(function(e){return e.active});return 0===t.length?null:t[0]}},{key:"getActiveFilters",value:function(){return{professor:this.getActiveProfessorFilter(),courseTitle:this.getActiveCourseTitleFilter(),courseNumber:this.getActiveCourseNumberFilter(),department:this.getActiveDepartmentFilter(),course:this.getActiveCourseFilter(),school:this.getActiveSchoolFilter(),subject:this.getActiveSubjectFilter()}}},{key:"getActiveFilterIds",value:function(){var e=this.getActiveFilters();return{professor:e.professor?e.professor.id:null,courseTitle:e.courseTitle?e.courseTitle.id:null,courseNumber:e.courseNumber?e.courseNumber.id:null,department:e.department?e.department.id:null,course:e.course?e.course.id:null,school:e.school?e.school.id:null,subject:e.subject?e.subject.id:null}}},{key:"getDefaultSchoolFilter",value:function(){return{id:0,type:Ll.SCHOOL,mainText:"Enter your School"}}},{key:"receiveProfessorFilters",value:function(e){this.receiveFilters(e,this.PROFESSOR)}},{key:"receiveCourseTitleFilters",value:function(e){this.receiveFilters(e,this.COURSE_TITLE)}},{key:"receiveCourseNumberFilters",value:function(e){this.receiveFilters(e,this.COURSE_NUMBER)}},{key:"receiveDepartmentFilters",value:function(e){this.receiveFilters(e,this.DEPARTMENT)}},{key:"receiveCourseFilters",value:function(e){this.receiveFilters(e,this.COURSE)}},{key:"receiveSchoolFilters",value:function(e){this.receiveFilters(e,this.SCHOOL)}},{key:"receiveSubjectFilters",value:function(e){this.receiveFilters(e,this.SUBJECT)}},{key:"receiveFilters",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.forEach(function(e){t.upsertRow(e.type,"id",e.id,e)}),this.emit(this.events.UPDATE,i)}},{key:"receiveActiveFilters",value:function(e){for(var t in e){var i=e[t];this.upsertRow(i.type,"id",i.id,i),this.emit(this.events.UPDATE,i.type)}}},{key:"doSearch",value:function(e){null!==this.currentSearch&&this.currentSearch.abort(),e[1]&&this.clearAll(e[0].type);var t={value:e[0].value};switch("limit"in e[0]&&(t.limit=e[0].limit),e[0].type){case this.PROFESSOR:this.doProfessorSearch(e[0]);break;case this.COURSE_TITLE:this.doCourseTitleSearch(e[0]);break;case this.COURSE_NUMBER:this.doCourseNumberSearch(e[0]);break;case this.DEPARTMENT:this.doDepartmentSearch(e[0]);break;case this.COURSE:this.doCourseSearch(e[0].value);break;case this.SCHOOL:this.doSchoolSearch(t);break;case this.SUBJECT:this.doSubjectSearch(e[0].value)}}},{key:"doProfessorSearch",value:function(e){var t=this,i=this.getActiveSchoolFilter().id,n=this.getActiveDepartmentFilter()?this.getActiveDepartmentFilter().id:0,r=this.getActiveDepartmentFilter()?this.getActiveDepartmentFilter().mainText:"",a={school:i,dept:n>0?n:r,term:e.value,type:"school_dept_professor"};e.limit&&(a.limit=e.limit),this.currentSearch=yl().get(this.PROFESSOR_API_URL,a).done(function(e){var i=t.sanitizeRawProfessorFilters(e);t.receiveProfessorFilters(i)})}},{key:"sanitizeRawProfessorFilters",value:function(e){var t=this;return e.map(function(e){return{id:parseInt(e.id?e.id:"0"),active:!1,type:t.PROFESSOR,mainText:e.label,subText:null}})}},{key:"doCourseTitleSearch",value:function(e){var t=this,i={school:this.getActiveSchoolFilter().id,dept:this.getActiveDepartmentFilter().mainText,term:e.value,type:"school_dept_course_title"};e.limit&&(i.limit=e.limit),this.currentSearch=yl().get(this.COURSE_TITLE_API_URL,i).done(function(e){var i=t.sanitizeRawCourseTitleFilters(e);t.receiveCourseTitleFilters(i)})}},{key:"sanitizeRawCourseTitleFilters",value:function(e){var t=this;return e.map(function(e){return{id:parseInt(e.id?e.id:"0"),active:!1,type:t.COURSE_TITLE,mainText:e.label,subText:null}})}},{key:"doCourseNumberSearch",value:function(e){var t=this,i={term:this.getActiveDepartmentFilter().mainText+e.value,type:"course"};e.limit&&(i.limit=e.limit),this.currentSearch=yl().get(this.COURSE_NUMBER_API_URL,i).done(function(e){var i=t.sanitizeRawCourseNumberFilters(e);t.receiveCourseNumberFilters(i)})}},{key:"sanitizeRawCourseNumberFilters",value:function(e){var t=this,i=this.getActiveDepartmentFilter().mainText.length;return e.filter(function(e){return e&&e.id>0&&e.label}).map(function(e){return{id:parseInt(e.id),active:!1,type:t.COURSE_NUMBER,mainText:e.label.substring(i).trim(),subText:null}})}},{key:"doDepartmentSearch",value:function(e){var t=this,i={term:e.value,type:this.DEPARTMENT};e.limit&&(i.limit=e.limit),this.currentSearch=yl().get(this.DEPARTMENT_API_URL,i).done(function(e){var i=t.sanitizeRawDepartmentFilters(e);t.receiveDepartmentFilters(i)})}},{key:"sanitizeRawDepartmentFilters",value:function(e){var t=this;return e.filter(function(e){return e&&e.id>0}).map(function(e){return{id:parseInt(e.id?e.id:"0"),active:!1,type:t.DEPARTMENT,mainText:e.label,subText:null}})}},{key:"doCourseSearch",value:function(e){var t=this,i=this.COURSES_API_URL;this.currentSearch=yl().get(i,{q:e,schoolId:this.getActiveSchoolFilter().id}).done(function(e){if(e.results){var i=e.results.filter(function(e){return e.course_id>0}).map(function(e){return e=t.sanitize(e,t.schema.Course,!0),{id:parseInt(e.course_id),active:!1,type:t.COURSE,mainText:e.dept_acro+" "+e.course_num,subText:e.course_name,extraText:e.dept_acro,extraSubText:e.course_num,aside:e.total_doc_count+" Document"+(e.total_doc_count>1?"s":"")}});t.receiveCourseFilters(i)}else t.receiveCourseFilters([])})}},{key:"sanitizeRawSchoolFilters",value:function(e){var t=this;return e.filter(function(e){return e&&(e.id>0||e.school_id>0)}).map(function(e){return{id:parseInt(e.id?e.id:e.school_id),active:!1,type:t.SCHOOL,mainText:e.label?e.label:e.school_name,subText:e.state?e.state:e.location&&e.location.subdivision?e.location.subdivision:null}})}},{key:"doSchoolSearch",value:function(e){var t=this,i={term:e.value,type:this.SCHOOL};e.limit&&(i.limit=e.limit),this.currentSearch=yl().get(this.SCHOOLS_API_URL,i).done(function(e){var i=t.sanitizeRawSchoolFilters(e);t.receiveSchoolFilters(i)})}},{key:"doSubjectSearch",value:function(e){var t=this;this.currentSearch=yl().get(this.SUBJECT_API_URL,{term:e,type:this.SUBJECT}).done(function(e){var i=e.filter(function(e){return e.id>0}).map(function(e){return e=t.sanitize(e,t.schema.Subject,!0),{id:parseInt(e.id),active:!1,type:t.SUBJECT,mainText:e.label,subText:""}});t.receiveSubjectFilters(i)})}},{key:"receiveInMeta",value:function(e){var t=this;e.forEach(function(e){t.upsertRow("inmeta","type",e.type,e,!0)}),this.emit(this.events.UPDATE_IN_META)}},{key:"getInMetaFilters",value:function(){return this.getRows("inmeta")}},{key:"getInMetaName",value:function(e){return Ul[e]}},{key:"constructInMetaTag",value:function(e){var t=e.constraints,i=t.lower,n=t.upper;if(!i&&!n)return"";i=i||"",n=n||"";var r=this.getInMetaName(e.type);return r?"".concat(r,":").concat(e.constraints.lower,"..").concat(e.constraints.upper):""}},{key:"getAppliedInMetaFilters",value:function(e){var t=[];return e===Fl.QUESTION&&t.push(Tl.QADateAsked),e===Fl.FLASHCARD&&t.push(Tl.FSCreated),e===Fl.DOCUMENT&&(t.push(Tl.DocDate),t.push(Tl.PageCount)),t}},{key:"buildInMetaQuery",value:function(e){var t=this,i=this.getAppliedInMetaFilters(e);return this.getRows("inmeta").filter(function(e){var n=i.indexOf(e.type)>-1,r=t.constructInMetaTag(e);return n&&r&&r.length>0}).map(function(e){var i=t.constructInMetaTag(e);return"inmeta:".concat(i)}).join(" ")}},{key:"loadDefaultSchools",value:function(e){e&&(this.defaultSchoolOptions=this.sanitizeRawSchoolFilters(e)),this.emit(this.events.UPDATE,this.SCHOOL)}}]),t}(vl),Ll=Dl.define("FilterStore",function(){return new Pl});!function(e){e[e.ENTER=13]="ENTER",e[e.ESC=27]="ESC",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.UP_ARROW=38]="UP_ARROW",e[e.DOWN_ARROW=40]="DOWN_ARROW",e[e.DEL=46]="DEL"}(zl||(zl={}));var jl,Ml,Bl,Hl=zl,ql=function(e){function t(){return s()(this,t),h()(this,d()(t).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this;if(0==this.props.items.length)return null;var t=this.props.items.map(function(t){var i=t.id+t.mainText+t.subText;if(t.selected)var n="selected";else n="";var a=e.props.showSubText?r.createElement("div",{className:"ct_subText_text"},t.subText):null,o=e.props.showAside?r.createElement("div",{className:"ct_subText_aside"},r.createElement("span",null,t.aside)):null;return r.createElement("li",{key:i,className:n,onMouseOver:e.props.handleHover.bind(null,t)},r.createElement("a",{onClick:e.props.handleClick.bind(null,t.id)},r.createElement("div",{className:"ct_mainText_text"},t.mainText),a,o))}),i=this.props.className?this.props.className:"ct_autocompleteList_container",n=null,a=null;return this.props.showTitle&&this.props.titleText&&t.length>1&&(n=t[0],a=r.createElement("li",{className:"ct_autocomplete_list_title"},this.props.titleText),t=t.slice(1)),r.createElement("div",{className:i},r.createElement("ul",{className:"ct_autocompleteList_bundle"},n,a,t))}}]),t}(r.Component),Gl=function(e){function t(e){var i;s()(this,t),i=h()(this,d()(t).call(this,e));var n=e.dropdownLimit?e.dropdownLimit:10;return i.state={showDropdown:!1,tempSelect:0,oldValue:"",dropdownItems:e.dropdownItems.slice(0,n)},i.handleChange=i.handleChange.bind(f()(i)),i.handleClick=i.handleClick.bind(f()(i)),i.handleKeyDown=i.handleKeyDown.bind(f()(i)),i.handleHover=i.handleHover.bind(f()(i)),i.handleBlur=i.handleBlur.bind(f()(i)),i.handleFocus=i.handleFocus.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){$(document).on("click",this.handleBlur)}},{key:"componentWillUnmount",value:function(){$(document).off("click",this.handleBlur)}},{key:"componentDidUpdate",value:function(e){if(this.props.showDropdownControl!==e.showDropdownControl||this.props.dropdownItems!==e.dropdownItems){var t={};!1===this.props.showDropdownControl&&(t.showDropdown=!1),this.props.dropdownItems&&(t.tempSelect=0);var i=this.props.dropdownLimit||10;t.dropdownItems=(this.props.dropdownItems||[]).slice(0,i),this.setState(t)}}},{key:"handleChange",value:function(e,t){var i="string"==typeof t?t:e.target.value;this.setState({showDropdown:!this.props.disabled}),this.props.handleChange(this.props.type,i)}},{key:"handleClick",value:function(e){if(!(e<0&&-100!=e)){var t=0,i=this.state.dropdownItems.filter(function(i,n){if(i.id===e)return t=n,!0})[0];this.setState({showDropdown:!1,tempSelect:t}),this.props.handleClick(this.props.type,i)}}},{key:"handleHover",value:function(e){var t=this.state.tempSelect;this.state.dropdownItems.forEach(function(i,n){i.id===e.id&&(t=n)}),this.setState({tempSelect:t})}},{key:"handleKeyDown",value:function(e){switch(e.keyCode||e.which){case Hl.TAB:this.setState({showDropdown:!1});break;case Hl.RIGHT_ARROW:case Hl.ENTER:this.state.dropdownItems.length>0&&this.handleClick(this.state.dropdownItems[this.state.tempSelect].id);break;case Hl.UP_ARROW:this.state.tempSelect>0&&this.setState({tempSelect:this.state.tempSelect-1});break;case Hl.DOWN_ARROW:this.state.tempSelect<this.state.dropdownItems.length-1&&this.setState({tempSelect:this.state.tempSelect+1});break;case Hl.ESC:this.props.value?this.handleChange(null,""):this.props.onEscapeSearch&&this.props.onEscapeSearch()}}},{key:"handleBlur",value:function(e){this.props.handleBlurEventTarget&&!$(e.target).is("fieldset."+this.props.handleBlurEventTarget+" *")&&this.setState({showDropdown:!1}),$(e.target).is(".ct_autocompleteList_container, .ct_autocompleteList_container *, .autocompleteFilter_input")||(this.setState({showDropdown:!1}),this.props.onBlur&&this.props.onBlur())}},{key:"handleFocus",value:function(e){this.props.type==Ll.SCHOOL&&Ll.getActiveSchoolFilter()&&Ll.getActiveSchoolFilter().id>0||(this.setState({showDropdown:!0}),this.props.onFocus&&this.props.onFocus())}},{key:"render",value:function(){var e=this,t=this.state.dropdownItems.map(function(t,i){return{key:t.mainText+t.id,id:t.id,mainText:t.mainText,subText:t.subText,selected:e.state.tempSelect===i,aside:t.aside}}),i=this.state.showDropdown?r.createElement(ql,{items:t,handleClick:this.handleClick,handleHover:this.handleHover,className:this.props.listClass,showTitle:this.props.showDropdownTitle,showSubText:!this.props.hideListSubText,titleText:this.props.dropdownTitleText}):null,n=this.props.disabled&&this.props.placeholder?this.props.placeholder:this.props.value,a=this.props.iconLeft?this.props.iconLeft:null,o=this.props.iconRight?this.props.iconRight:null;return r.createElement(r.Fragment,null,r.createElement("div",{className:"ct_autocomplete_wrapper"},a,r.createElement("input",{className:"autocompleteFilter_input",type:"search",value:n,onChange:this.handleChange,onFocus:this.handleFocus,placeholder:this.props.placeholder,disabled:this.props.disabled,onKeyDown:this.handleKeyDown}),o,a||o?null:i),a||o?i:null)}}]),t}(r.Component),Wl=function(e){function t(){return s()(this,t),h()(this,d()(t).apply(this,arguments))}return b()(t,e),c()(t,[{key:"handleBlur",value:function(e){this.props.handleBlurEventTarget&&!$(e.target).is("fieldset."+this.props.handleBlurEventTarget+" *")&&this.setState({showDropdown:!1}),$(e.target).is(".ct_autocompleteList_container, .ct_autocompleteList_container *, .autocompleteFilter_input")||this.setState({showDropdown:!1})}},{key:"render",value:function(){var e,t=this,i=this.props.dropdownItems.map(function(e,i){return{key:e.mainText+e.id,id:e.id,mainText:e.mainText,subText:e.subText,selected:t.state.tempSelect===i,aside:e.aside}}).slice(0,10),n=null;this.props.dropdownAlternative&&1==i.length&&-1==i[0].id?n=this.props.dropdownAlternative:this.state.showDropdown&&(n=r.createElement(ql,{items:i.slice(0,this.props.dropdownLimit?this.props.dropdownLimit:10),handleClick:this.handleClick,handleHover:this.handleHover,className:this.props.listClass,showAside:!this.props.hideListAside,showSubText:!this.props.hideListSubText}));var a=this.props.fieldSetAndLabelConfig&&this.props.fieldSetAndLabelConfig.inputClass?this.props.fieldSetAndLabelConfig.inputClass:"autocompleteFilter_input";this.props.error&&(e=r.createElement("span",{className:"txt-red"},this.props.error),a+=" error");var o,s=this.props.fieldSetAndLabelConfig.dontRememberOldValue?r.createElement("input",{type:"search",onChange:this.handleChange,placeholder:this.props.placeholder,disabled:this.props.disabled,onKeyDown:this.handleKeyDown,className:a,onFocus:this.props.onFocus,onBlur:this.props.onBlur}):r.createElement("input",{type:"search",value:this.props.value,onChange:this.handleChange,placeholder:this.props.placeholder,disabled:this.props.disabled,onKeyDown:this.handleKeyDown,className:a,onFocus:this.props.onFocus,onBlur:this.props.onBlur});if(this.props.fieldSetAndLabelConfig.useLabel){var l=this.props.fieldSetAndLabelConfig.labelContent;o=r.createElement("label",{className:this.props.fieldSetAndLabelConfig.labelClass},l)}return this.props.fieldSetAndLabelConfig.useFieldSet?r.createElement("div",{className:this.props.fieldSetAndLabelConfig.fieldSetContainerClass},r.createElement("fieldset",{id:this.props.fieldSetAndLabelConfig.fieldSetId,className:this.props.fieldSetAndLabelConfig.fieldSetClass,disabled:this.props.disabled},o,r.createElement("div",{className:"search_input_dropdown"},s,n)),e):this.props.fieldSetAndLabelConfig.noWrapper?r.createElement(r.Fragment,null,r.createElement("div",{className:"search_input_dropdown"},s,n),e):r.createElement("div",{className:this.props.fieldSetAndLabelConfig.fieldSetContainerClass},r.createElement("div",{className:"search_input_dropdown"},s,n),e)}}]),t}(Gl),Ql=(jl=Cl(250),Ml=Cl(250),Bl=function(){function e(){s()(this,e)}return c()(e,null,[{key:"loadTrendingSchools",value:function(){yl().get("/api/v1/schools/trending/",{}).done(function(e){Rl.loadDefaultSchools(e)})}},{key:"loadNearbySchools",value:function(e,t){yl().get("/api/v1/autocomplete/schools/",{}).then(function(t){e&&e(t)},function(){t&&t()})}}]),e}(),Za()(Bl,"loadTrendingSchools",[jl],Object.getOwnPropertyDescriptor(Bl,"loadTrendingSchools"),Bl),Za()(Bl,"loadNearbySchools",[Ml],Object.getOwnPropertyDescriptor(Bl,"loadNearbySchools"),Bl),Bl),Vl=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).searchUrl="",i.state={school:{id:0,type:"school"},schoolOptions:[],defaultSchoolOptions:[],searchQuery:"",loading:!1,showDropdownTitle:!0,placeholder:i.props.placeholder,dropdownTitleText:""},i.getSchoolSearch=i.getSchoolSearch.bind(f()(i)),i.handleSearchChange=i.handleSearchChange.bind(f()(i)),i.handleSearchClick=i.handleSearchClick.bind(f()(i)),i.onFilterStoreUpdate=i.onFilterStoreUpdate.bind(f()(i)),i.handleInputFocus=i.handleInputFocus.bind(f()(i)),i.handleInputBlur=i.handleInputBlur.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.defaultSchoolFilter&&this.props.defaultSchoolFilter.id&&(this.props.defaultSchoolFilter.mainText&&this.setState({searchQuery:this.props.defaultSchoolFilter.mainText}),this.setState({school:this.props.defaultSchoolFilter}),this.getSchoolSearch()),Ll.listen(Ll.events.UPDATE,this.onFilterStoreUpdate);var e=Ll.getActiveSchoolFilter();e&&this.setState({school:e}),this.loadDefaultSchools()}},{key:"componentWillUnmount",value:function(){Ll.ignore(Ll.events.UPDATE,this.onFilterStoreUpdate)}},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({searchQuery:this.props.value})}},{key:"handleSearchChange",value:function(e,t){var i=this,n={searchQuery:t};""===t.trim()&&(n.school=null,n.schoolOptions=[]),this.setState(n,function(){if(""===t.trim())i.props.showDefaultInDropdown&&Rl.loadDefaultSchools(null),Rl.resetActive(e),Rl.clearSelectedSchoolFilter(),i.props.handleUpdate&&i.props.handleUpdate(null);else{var n={type:e,value:t};i.props.dropdownLimit&&(n.limit=i.props.dropdownLimit),Rl.doSearch(n,!0)}i.props.handleChange&&i.props.handleChange(t)})}},{key:"handleSearchClick",value:function(e,t){0===t.id&&(Rl.resetActive(e),Rl.clearSelectedSchoolFilter(),this.setState({placeholder:this.props.placeholder})),this.props.disabled||(this.props.updateWithFullFilter?this.props.handleUpdate(t):this.props.handleUpdate(t.mainText),this.setState({searchQuery:t.mainText,school:t}),Rl.setActiveFilter(t),this.getSchoolSearch())}},{key:"handleInputFocus",value:function(){this.props.activePlaceholder&&this.setState({placeholder:this.props.activePlaceholder}),this.props.onFocus&&this.props.onFocus()}},{key:"handleInputBlur",value:function(){this.props.activePlaceholder&&this.setState({placeholder:this.props.placeholder}),this.props.onBlur&&this.props.onBlur()}},{key:"onFilterStoreUpdate",value:function(e,t){var i=Ll.defaultSchoolOptions,n={showDropdownTitle:!1};n.school=Ll.getActiveSchoolFilter()?Ll.getActiveSchoolFilter():null;var r=[];this.state.searchQuery.trim()?r=Ll.getFilters(t).slice():i&&i.length>0&&(r=i.slice()),r=r.slice(0,5),this.state.searchQuery.trim()?0===r.length&&r.push({id:-1,type:t,mainText:"No results found"}):this.props.showDefaultInDropdown&&(n.showDropdownTitle=r.length>0,r.unshift({id:0,type:t,mainText:"All Schools"})),n.schoolOptions=r,this.setState(n)}},{key:"getSchoolSearch",value:function(){var e=this;this.setState({loading:!0}),yl().get("/ajax/autocomplete_resultset.php?type=school",{term:""}).done(function(t){t&&e.setState({loading:!1})})}},{key:"loadDefaultSchools",value:function(){this.props.showDefaultInDropdown&&(this.props.shouldFindNearbySchools?this.loadNearbySchools():this.loadTrendingSchools())}},{key:"loadTrendingSchools",value:function(){Ql.loadTrendingSchools(),this.setState({dropdownTitleText:"Trending Schools"})}},{key:"loadNearbySchools",value:function(){var e=this;Ql.loadNearbySchools(function(t){t&&t.hasOwnProperty("results")&&t.results.hasOwnProperty("length")&&0!==t.results.length?e.setState({dropdownTitleText:"Nearby Schools"},function(){Rl.loadDefaultSchools(t.results)}):e.loadTrendingSchools()}.bind(this),function(){e.loadTrendingSchools()}.bind(this))}},{key:"render",value:function(){var e=this.state.searchQuery;0===e.length&&this.state.school&&(e=this.state.school.mainText);var t="";this.props.showDefaultInDropdown&&this.state.showDropdownTitle&&(t=this.state.dropdownTitleText);var i={iconLeft:null,iconRight:null};return i.iconLeft=this.props.iconLeft?this.props.iconLeft:null,i.iconRight=this.props.iconRight?this.props.iconRight:null,this.props.useAutoCompleteIcon?r.createElement(Wl,Al()({showDropdownControl:this.props.showDropdown,activeFilter:this.state.school,dropdownItems:this.state.schoolOptions,value:e,disabled:!!this.props.disabled,placeholder:this.props.placeholder,type:Ll.SCHOOL,handleChange:this.handleSearchChange,handleClick:this.handleSearchClick,listClass:"ct_autocompleteList_container",fieldSetAndLabelConfig:this.props.autocompleteFilterFieldSetAndLabel,error:this.props.error,showDropdownTitle:this.state.showDropdownTitle,dropdownTitleText:t},i)):r.createElement(Gl,Al()({showDropdownControl:this.props.showDropdown,activeFilter:this.state.school,dropdownItems:this.state.schoolOptions,value:e,disabled:!!this.props.disabled,placeholder:this.state.placeholder,type:Ll.SCHOOL,handleChange:this.handleSearchChange,handleClick:this.handleSearchClick,listClass:"ct_autocompleteList_container",error:this.props.error,showDropdownTitle:this.state.showDropdownTitle,dropdownTitleText:t,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onEscapeSearch:this.props.onEscapeSearch},i))}}]),t}(v),Xl=i(17),$l=function(){function e(){s()(this,e)}return c()(e,null,[{key:"pluralize",value:function(e,t){return Object(Xl.isArray)(t)?1===e?t[0]:t[1]:t+(1===e?"":"s")}},{key:"boldWord",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"strong",n=new RegExp("("+this.escapeRegExp(t)+")","gi");return e.replace(n,"<"+i+">$1</"+i+">")}},{key:"formatNumber",value:function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"escapeRegExp",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"removeSpaces",value:function(e){return e.replace(/\s+/g,"")}},{key:"decodeHtmlEntities",value:function(e){return e.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")}}]),e}(),Kl=function(e){var t=e.suggestions.map(function(t){var i=$l.boldWord(t.text,e.queryString),n='<i class="chi-search"></i> '.concat(i);return r.createElement("li",{key:t.id,className:e.selectedSuggestion&&t.id===e.selectedSuggestion.id?"suggestion active":"suggestion",onClick:e.onClick.bind(null,t),dangerouslySetInnerHTML:{__html:n}})});return e.suggestions.length>0?r.createElement("ul",null,t):null},Yl=function(e){return r.createElement("div",{className:"sw_suggestions_container"},e.suggestionHeader,r.createElement(Kl,{suggestions:e.suggestions,onClick:e.onSuggestionSelect,selectedSuggestion:e.selectedSuggestion,queryString:e.queryString}))},Jl=function(e){var t="sw_search_bar ".concat(e.searchBarClassName),i=e.isExpanded?null:r.createElement("i",{className:"chi-search sw_icon sw_search_icon"}),n=e.suggestions.length>0&&e.areSuggestionsVisible?r.createElement("div",{className:"sw_suggestions_dropdown"},r.createElement(Yl,{userId:e.userId,onSuggestionSelect:e.onSuggestionSelect,suggestions:e.suggestions,selectedSuggestion:e.selectedSuggestion,suggestionHeader:e.suggestionHeader,queryString:e.queryString}),e.suggestionFooter):null;return r.createElement("div",{className:t},r.createElement("input",{type:"search",ref:e.inputRef,className:e.inputClassName,placeholder:e.placeholderText,"aria-label":e.placeholderText,onChange:e.onTextChange,onFocus:e.onFocus,onBlur:e.onBlur,onKeyDown:e.onKeyDown,value:e.queryString}),i,n)},Zl=function(e){var t=void 0!==e.title?e.title:"Can't find what you're looking for?",i=void 0!==e.tagline?e.tagline:"Ask our tutors a study question, on us.",n=void 0!==e.buttonUrl?e.buttonUrl:"/tutors/homework-help/",a=void 0!==e.buttonText?e.buttonText:"Get Free Homework Help",o=void 0!==e.buttonTarget?e.buttonTarget:"_blank",s=void 0!==e.finePrint?e.finePrint:"",l="panel isUpsell1 isBordered askQuestionCta";l+=void 0!==e.wrapperClass?" ".concat(e.wrapperClass):"";var c=e.iconUrl||"/assets/img/search/qa-icon.svg";return e.isEducator?null:r.createElement("div",{className:l},r.createElement("div",{className:"grid _noBottom"},r.createElement("div",{className:"column8 tablet6 phone12"},r.createElement("img",{src:c,className:"qaIcon hideWhenSmushesText",alt:i}),r.createElement("div",{className:"details"},r.createElement("p",{className:"banner_help_title"},t),r.createElement("p",null,i))),r.createElement("div",{className:"column4 tablet6 phone12 isMiddleAligned"},r.createElement("a",{href:n,target:o,className:"tertiaryButton1 isSmall","data-cha-target-name":"get_homework_help_button","data-cha-action-type":"visit"},a))),r.createElement("span",{className:"finePrint"},s))},ec=function(e){var t=e.title||"This page could not load.",i=e.message||"We're sorry for the inconvenience";return r.createElement("div",{className:"error-page"},r.createElement("h1",{className:"error-page-title"},t),r.createElement("p",{className:"error-page-message"},i))},tc=function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(i=h()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).el=void 0,i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.el&&(this.el.indeterminate=this.props.indeterminate)}},{key:"componentDidUpdate",value:function(e){this.el&&e.indeterminate!==this.props.indeterminate&&(this.el.indeterminate=this.props.indeterminate)}},{key:"render",value:function(){var e=this;return r.createElement("input",Al()({},this.props,{type:"checkbox",ref:function(t){return e.el=t}}))}}]),t}(r.Component);function ic(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function nc(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ic(i,!0).forEach(function(t){Xa()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ic(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var rc,ac=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).childrenAreHomogenous=function(e,t){var i=e[t.children[0].value].isActive;return t.children.slice(1).every(function(t){return e[t.value].isActive===i})},i.toggleMultiSelect=function(e){var t,n,r=nc({},i.state.filterHash),a=r[e.value],o=e.children,s=a.parent;if(a){if(n=o&&o.length>0&&!i.childrenAreHomogenous(i.state.filterHash,e),a.isActive=!!n||!a.isActive,o&&o.length>0&&o.forEach(function(e){r[e.value].isActive=a.isActive}),s){var l=!i.childrenAreHomogenous(r,s);r[s.value].isActive=!!l||r[e.value].isActive}t=Object.keys(r).filter(function(e){return r[e].isActive}),i.props.onChange(t)}},i.createFilterHash=i.createFilterHash.bind(f()(i)),i.toggleMultiSelect=i.toggleMultiSelect.bind(f()(i)),i.renderSelectItem=i.renderSelectItem.bind(f()(i)),i.state={filterHash:i.createFilterHash(i.props.options)},i}return b()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){this.props.value===e.value&&this.props.options===e.options||this.setState({filterHash:this.createFilterHash(this.props.options)})}},{key:"createFilterHash",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.reduce(function(e,n){var r=n.value,a=n.children,o=-1!==t.props.value.indexOf(r);a&&a.length>0&&(e=nc({},e,{},t.createFilterHash(a,n,o)));return e[r]={isActive:o,parent:i},e},{})}},{key:"renderSelectItem",value:function(e){var t,i,n,a,o,s=e.value,l=this.state.filterHash,c=this.props.showTooltips?r.createElement(r.Fragment,null," "):null;l&&l[s]&&(t=l[s].isActive),e.children&&e.children.length>0&&(i=r.createElement("ul",{className:"multiSelectChildList"},e.children.map(this.renderSelectItem,"multiSelectChildItem")),n=(n=!this.childrenAreHomogenous(this.state.filterHash,e))?"true":null),a=(this.props.chaTargetPrefix?"".concat(this.props.chaTargetPrefix,"_"):"")+"checkbox_".concat(e.display),this.props.showTooltips&&e.description&&(c=r.createElement("span",{className:"tooltip"},r.createElement("span",{className:"text",dangerouslySetInnerHTML:{__html:e.description}}))),o=this.props.showCount&&e.count?"(".concat(e.count,")"):"";var u={};return this.props.chaAmplitudeName&&(u["data-cha-amplitude-name"]=this.props.chaAmplitudeName),r.createElement("li",{className:"multiSelectItem msi-"+e.value,key:e.value},r.createElement("label",{className:"checkBox"},r.createElement(tc,Al()({type:"checkbox",className:n?"checkBoxIndeterminate":"",checked:t,indeterminate:n,onChange:this.toggleMultiSelect.bind(null,e),"data-cha-target-name":a,"data-cha-action-type":"click","cha-js-event-type":"change"},u))," ",r.createElement("span",{className:"multiSelectLabel"},e.display,c,o)),i)}},{key:"render",value:function(){if(this.props.options){var e=this.props.options.map(this.renderSelectItem);return r.createElement("ul",{className:"multiSelectList"},e)}}}]),t}(r.Component),oc=function(e){var t=function(t,i){i.preventDefault(),e.onChange(t)},i=e.items.map(function(i){var n="pill";return i.id===e.selected&&(n+=" isActive"),r.createElement("a",{href:"#",key:i.id,onClick:t.bind(null,i),className:n},i.name)});return r.createElement("div",{className:"pillGroup"},i)},sc=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).searchUrl=void 0,i.type=void 0,i.state={school:{id:0,type:i.type},schoolOptions:[],searchQuery:"",loading:!1},i.getSearch=i.getSearch.bind(f()(i)),i.handleSearchChange=i.handleSearchChange.bind(f()(i)),i.handleSearchClick=i.handleSearchClick.bind(f()(i)),i.onFilterStoreUpdate=i.onFilterStoreUpdate.bind(f()(i)),i.searchUrl="",i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=Ll.getActiveFilter(this.type);!e&&this.props.defaultSchoolFilter&&this.props.defaultSchoolFilter.id&&(e=this.props.defaultSchoolFilter),this.setState({school:e}),this.getSearch(),Ll.listen(Ll.events.UPDATE,this.onFilterStoreUpdate)}},{key:"componentDidUpdate",value:function(e,t){t.school&&!this.state.school&&this.setState({searchQuery:""})}},{key:"componentWillUnmount",value:function(){Ll.ignore(Ll.events.UPDATE,this.onFilterStoreUpdate)}},{key:"handleSearchChange",value:function(e,t){this.props.onSearchChange&&this.props.onSearchChange(t),this.setState({searchQuery:t}),""===t.trim()?(Rl.resetActive(e),e==Ll.COURSE?Rl.clearSelectedCourseFilter():e==Ll.SUBJECT?Rl.clearSelectedSubjectFilter():e==Ll.DEPARTMENT?Rl.clearSelectedDepartmentFilter():e==Ll.COURSE_NUMBER?Rl.clearSelectedCourseNumberFilter():e==Ll.COURSE_TITLE?Rl.clearSelectedCourseTitleFilter():e==Ll.PROFESSOR&&Rl.clearSelectedProfessorFilter(),this.props.handleUpdate&&this.props.handleUpdate(null)):Rl.doSearch({type:e,value:t},!0)}},{key:"handleSearchClick",value:function(e,t){this.props.disabled||(this.props.handleUpdate({name:t.mainText,id:t.id,extraText:t.extraText,extraSubText:t.extraSubText}),this.setState({searchQuery:t.mainText,school:t}),Rl.setActiveFilter(t),this.getSearch())}},{key:"onFilterStoreUpdate",value:function(e,t){var i=Ll.getFilters(t);0===i.length&&i.push({id:-1,type:t,mainText:"No results found"}),this.setState({schoolOptions:i})}},{key:"getSearch",value:function(){var e=this;this.setState({loading:!0}),yl().get("/ajax/autocomplete_resultset.php?type=subject",{term:""}).done(function(t){t&&e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.props.disabled&&this.props.value?this.props.value:this.state.searchQuery;!this.props.dropdownAlternative&&0===e.length&&this.state.school&&(e=this.state.school.mainText);var t=this.props.dropdownAlternative;return t&&(t=r.createElement(this.props.dropdownAlternative,{value:this.state.searchQuery,onClickHandler:this.props.dropdownAlternativeOnClick},[])),r.createElement(Wl,{showDropdownControl:this.props.showDropdown,activeFilter:this.state.school,dropdownItems:this.state.schoolOptions,value:e,disabled:this.props.disabled,placeholder:this.props.placeholder,type:this.type,handleChange:this.handleSearchChange,handleClick:this.handleSearchClick,listClass:"ct_autocompleteList_container",error:this.props.error,fieldSetAndLabelConfig:this.props.autocompleteFilterFieldSetAndLabel,dropdownLimit:this.props.dropdownLimit,hideListAside:this.props.hideDetails,dropdownAlternative:t,handleBlurEventTarget:this.props.handleBlurEventTarget})}}]),t}(v),lc=function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(i=h()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).type=Ll.COURSE,i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){Ll.listen(Ll.events.UPDATE,this.onFilterStoreUpdate)}},{key:"onFilterStoreUpdate",value:function(e,t){var i=Ll.getActiveCourseFilter(),n=Ll.getFilters(Ll.COURSE);0===n.length&&n.push({id:-1,type:t,mainText:"No results found"}),this.setState({schoolOptions:n,school:i})}}]),t}(sc),cc=function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(i=h()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).type=Ll.SUBJECT,i}return b()(t,e),c()(t,[{key:"onFilterStoreUpdate",value:function(e,t){var i=Ll.getActiveSubjectFilter(),n=Ll.getFilters(Ll.SUBJECT);0===n.length&&n.push({id:-1,type:t,mainText:"No results found"}),this.setState({schoolOptions:n,school:i})}}]),t}(sc);!function(e){e.MULTI="multi",e.COURSE="course",e.SORT="sort",e.SUBJECT="subject"}(rc||(rc={}));var uc,hc=rc,pc=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).preventClose=!1,i.state={activeMenuElement:null},i.toggleFilter=i.toggleFilter.bind(f()(i)),i.closeDropdown=i.closeDropdown.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"toggleFilter",value:function(e){var t=this,i=$(e.target).closest(".filterDropdownWrapper");e.preventDefault(),i.is(this.state.activeMenuElement)?this.closeDropdown(e,!0):(document.removeEventListener("click",this.closeDropdown),this.setState(function(e,t){return{activeMenuElement:i}},function(){t.props.isMobile||(document.addEventListener("click",t.closeDropdown),$("body").addClass("testGrid2Overlay"))}))}},{key:"closeDropdown",value:function(e,t){var i=this,n=$(e.target).closest(".isHighlighted").is(this.state.activeMenuElement);e.target.classList.contains("ct_mainText_text");t||!this.preventClose&&!n?this.setState({activeMenuElement:null},function(){0===$(".filterDropdownWrapper.isHighlighted").length&&$("body").removeClass("testGrid2Overlay"),document.removeEventListener("click",i.closeDropdown)}):this.preventClose=!1}},{key:"componentWillUnmount",value:function(){$("body").removeClass("testGrid2Overlay"),document.removeEventListener("click",this.closeDropdown)}},{key:"render",value:function(){var e=this,t=function(t,i){var n=rl.sanitize(e.props.value,ro.schema);switch(t){case"school":i?(n.school_id=i.id,n.school_name=i.mainText,n.course_id=null,n.course_name="",n.course_num=""):n=null,e.preventClose=!0;break;case"course":i?(n.course_id=i.id,n.course_name=i.mainText):(n.course_id=null,n.course_name="",n.course_num="")}e.props.onChange(n)},i=function(t){t?e.props.onChange({subject_id:t.id,subject_name:t.name}):e.props.onChange(null)},n=null;return this.props.tooltip&&(n=r.createElement("span",{className:"tooltip"},r.createElement("span",{className:"text",dangerouslySetInnerHTML:{__html:this.props.tooltip}}),this.props.isMobile?null:" What are these?")),r.createElement("div",{className:"filterDropdownWrapper"+(this.state.activeMenuElement?" isHighlighted":"")},r.createElement("div",{className:this.props.isMobile?"filterByMobile filterBlock":"filterByDropdown buttonDropdown"},this.props.label?r.createElement("span",{className:this.props.isMobile?"blockTitle":"filterDropdownLabel"},this.props.label," ",this.props.isMobile?n:null):null,r.createElement("button",{className:"filterByChosenContainer hideInPhone",type:"button",onClick:this.toggleFilter,"data-cha-target-name":"study_materials_filters_dropdown","data-cha-action-type":"click"},r.createElement("span",{className:"filterByChosenLabel"},this.props.title),r.createElement("i",{className:"chi-triangle-down"})),r.createElement("div",{className:"filterOptions buttonDropdownMenu"+(this.state.activeMenuElement?" isShown":"")},function(){var n=e.props.filter;switch(n.type){case hc.MULTI:return r.createElement(ac,{options:n.options,value:e.props.value,onChange:e.props.onChange});case hc.COURSE:var a=e.props.value&&e.props.value.school_id?{id:e.props.value.school_id,type:"school",mainText:e.props.value.school_name}:null,o=e.props.value&&e.props.value.course_id?{id:e.props.value.course_id,type:"course",mainText:e.props.value.course_name}:null;return r.createElement(r.Fragment,null,r.createElement(Vl,{defaultSchoolFilter:null,value:a?a.mainText:"",handleUpdate:t.bind(null,"school"),placeholder:"School Name",updateWithFullFilter:!0,dropdownLimit:5}),r.createElement(lc,{defaultSchoolFilter:null,handleUpdate:t.bind(null,"course"),placeholder:"Course Name",autocompleteFilterFieldSetAndLabel:{noWrapper:!0},value:o?o.mainText:"",disabled:!a,dropdownLimit:5,hideDetails:!0}));case hc.SORT:if(e.props.isMobile)return r.createElement(oc,{items:n.options.map(function(e){return{name:e.display,id:e.value}}),selected:e.props.value,onChange:e.props.onChange});var s=e.props.filter.options.filter(function(t){return t.value===e.props.value})[0]||e.props.filter.options[0];return n.options.map(function(t){return r.createElement("button",{className:"sortByOption"+(t===s?" isActive":""),onClick:function(i){i.preventDefault(),e.props.onChange({name:t.display,id:t.value})},key:t.value,"data-cha-target-name":"sort_by_"+t.value,"data-cha-action-type":"click"},t.display)});case hc.SUBJECT:var l=e.props.value?e.props.value.subject_name:"";return r.createElement(cc,{defaultSchoolFilter:null,value:l,handleUpdate:i,placeholder:"Subject Name",dropdownLimit:5,autocompleteFilterFieldSetAndLabel:{}});default:console.error("No valid type for filter",n)}}(),this.props.isMobile?null:n)))}}]),t}(r.Component),dc=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).state={viewAll:!1},i.onFilterChange=i.onFilterChange.bind(f()(i)),i.onSortChange=i.onSortChange.bind(f()(i)),i.toggleViewAll=i.toggleViewAll.bind(f()(i)),i.resetFilters=i.resetFilters.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){!this.props.isMobile&&e.isMobile?this.adjustMobileScrolling(!0):this.props.isMobile&&!e.isMobile&&this.state.viewAll&&this.adjustMobileScrolling(!1)}},{key:"onFilterChange",value:function(e,t){this.props.updateFilter(t,e)}},{key:"onSortChange",value:function(e){this.props.updateSortBy("".concat(e.id))}},{key:"resetFilters",value:function(e){e.preventDefault(),this.props.resetFilters()}},{key:"toggleViewAll",value:function(e){var t=this;e&&e.preventDefault(),this.setState({viewAll:!this.state.viewAll},function(){t.props.isMobile&&t.adjustMobileScrolling(!t.state.viewAll)})}},{key:"adjustMobileScrolling",value:function(e){if(e)$("body").removeClass("searchFilterIsActive"),$("#ch-body").css("height","auto");else{var t=$(".filterList").css("height");$("body").addClass("searchFilterIsActive"),$("#ch-body").css("height",t)}this.props.onCanScrollResultsChange(e)}},{key:"componentDidMount",value:function(){$(window).on("_ch.search.filter.toggle_view",this.toggleViewAll);var e=this.props.selectedFilters;if(this.props.selectedFilters&&this.props.selectedFilters.course&&(Rl.setActiveFilter({type:"school",id:e.course.school_id,mainText:e.course.school_name}),e.course.course_id)){var t=e.course.dept_acro?e.course.dept_acro:"",i="".concat(t," ").concat(e.course.course_num);Rl.setActiveFilter({type:"course",id:e.course.course_id,mainText:i})}if(this.props.selectedFilters&&this.props.selectedFilters.subject){var n=this.props.selectedFilters.subject;Rl.setActiveFilter({type:"subject",id:n.subject_id,mainText:n.subject_name})}}},{key:"componentWillUnmount",value:function(){$(window).off("_ch.search.filter.toggle_view",this.toggleViewAll)}},{key:"render",value:function(){var e=this,t=[],i=null,n="";this.props.availableFilters.forEach(function(n){var a=e.props.selectedFilters[n.field],o=(n.display,null),s=null;if("type"===n.field&&n.options){"Resource Type";var l=n.options.map(function(e){var t=e.display,i=e.description;return t&&i?"<b>".concat(t,"</b> ").concat(i):null}).filter(function(e){return null!=e}).join("<br /><br />");l&&(o=l),s="Filter by"}var c=r.createElement(pc,{title:n.display,label:s,tooltip:o,filter:n,onChange:e.onFilterChange.bind(null,n.field),value:a,isMobile:e.props.isMobile});"type"!==n.field?!e.state.viewAll&&e.props.isMobile||t.push(c):i=c});var a=this.props.availableSortBy.filter(function(t){return t.value===e.props.selectedSortBy})[0].display,o=r.createElement(pc,{title:a,label:"Sort By",tooltip:null,filter:new bo({type:hc.SORT,options:this.props.availableSortBy}),onChange:this.onSortChange,value:this.props.selectedSortBy,isMobile:this.props.isMobile}),s="panel isBordered filterList";return this.props.isMobile?s+=" filterPanelMobile":(n+=" column12 grid_center",s="filtersContainer container grid"),this.state.viewAll&&(s+=" isActive"),r.createElement("div",{className:"topFilters"+n},r.createElement("form",{className:s},r.createElement("div",{className:"panelTitle hideInTablet hideInDesktop"},r.createElement("button",{onClick:this.toggleViewAll,type:"button",className:"filterBackButton linkButton1"},r.createElement("i",{className:"chi-arrow-left"})," Filter")),i,o,t,r.createElement("a",{className:"resetFilter",href:"#",onClick:this.resetFilters},"Reset filter")))}}]),t}(v),mc=function(e){var t=e.location;if(!t)return null;var i=[t.zip,t.city,t.state].filter(function(e){return null!=e}).join(", ");return i?(e.details&&(i+=" - ".concat(e.details)),r.createElement("div",{className:"geoInfo"},r.createElement("i",{className:"chi-map-marker"})," ",i)):null},fc=function(e){var t,i,n,a,o;return a=e.resultsSingular||"result",o=e.resultsPlural||"results",t=1===e.numResults?a:o,e.isMobile&&!e.loading&&(n=r.createElement("button",{className:"filterButton ghostButton1 isSmall",onClick:e.onFilterClick,"data-cha-target-name":"mobile_link_to_filters","data-cha-action-type":"click"},"Filter")),i=e.loading||e.isMobile&&e.numResults<1?null:r.createElement(r.Fragment,null,e.numResults.toLocaleString()+" "+t+" ",r.createElement("span",{className:"hideInPhone"},'for "',r.createElement("strong",null,e.query),'"')),r.createElement("div",{className:"resultDetails resultDetailsLoader"},n,i)},gc=i(15),bc=i.n(gc),vc=function(e){var t=r.createElement(r.Fragment,null,"your search"),i=e.className?"no-results "+e.className:"no-results";return e.query&&(t=r.createElement("span",{className:"no-results-query"},e.query)),r.createElement("div",{className:i},r.createElement("h1",{className:"no-results-header"},"No results found for ",t),r.createElement("p",{className:"no-results-message"},"You can try:"),r.createElement("ul",{className:"no-results-suggestions dottedList"},r.createElement("li",{className:"no-results-suggestions-item"},"Using more general terms (exam prep, notes, essay, etc)"),r.createElement("li",{className:"no-results-suggestions-item"},"Checking your spelling"),r.createElement("li",{className:"no-results-suggestions-item"},"Adding or removing filters")))},yc=function(e){var t=[];for(var i in e)e[i]&&t.push(i);return t.join(" ")},Sc=function(e){var t=e.className,i=void 0===t?"":t,n=e.width,a=void 0===n?"":n,o=e.noGutter,s=void 0!==o&&o,l=e.isTopAligned,c=void 0!==l&&l,u=e.isMiddleAligned,h=void 0!==u&&u,p=e.isFirstColumn,d=void 0!==p&&p,m=e.isLastColumn,f=void 0!==m&&m,g=e.noGrow,b=void 0!==g&&g,v=e.isCenterAligned,y=void 0!==v&&v,S=e.isRightAligned,E=void 0!==S&&S,_=e.children,w="column".concat(a).concat(0!=i.length?" "+i:"");return w+=" "+yc({_noGutter:s,isTopAligned:c,isMiddleAligned:h,isFirstColumn:d,isLastColumn:f,noGrow:b,isCenterAligned:y,isRightAligned:E}),r.createElement("div",{className:w},_)},Ec=function(e){var t=e.center,i=void 0!==t&&t,n=e.left,a=void 0!==n&&n,o=e.right,s=void 0!==o&&o,l=e.top,c=void 0!==l&&l,u=e.reverse,h=void 0!==u&&u,p=e.column,d=void 0!==p&&p,m=e.columnReverse,f=void 0!==m&&m,g=e.spaceBetween,b=void 0!==g&&g,v=e.spaceAround,y=void 0!==v&&v,S=e.noBottom,E=void 0!==S&&S,_=e.noSideMargin,w=void 0!==_&&_,T=e.children,C=e.numColumns,k="grid".concat(C||"");return k+=" ".concat(yc({_center:i,_left:a,_right:s,_top:c,_reverse:h,_column:d,_columnReverse:f,_spaceBetween:b,_spaceAround:y,_noBottom:E,_noSideMargin:w})),r.createElement("div",{className:k},T)},_c=function(e){var t=e.children,i=e.className,n=void 0===i?"":i,a="well".concat(n.length>0?" "+n:"");return r.createElement("div",{className:a},t)},wc=function(){return r.createElement("div",{className:"textbookThumbnailCopyright",onClick:function(e){e.preventDefault(),e.stopPropagation()}},r.createElement("span",{className:"tooltip customTooltip popDown"},r.createElement("span",{className:"text textCenter"},"This textbook can be purchased at www.amazon.com"),r.createElement("span",{className:"textbookThumbnailCopyrightSymbol"},"")))},Tc=function(e){var t=e.textbook,i=e.isMobile,n=void 0!==i&&i,a=t.title,o=t.cover_url?t.cover_url:"http://images.amazon.com/images/P/1337408336.jpg",s=r.createElement("a",{href:t.url,title:a,className:"textbookTitle"},r.createElement("strong",{dangerouslySetInnerHTML:{__html:a}})),l=r.createElement("div",{className:"textbookPhotoCopyrightContainer"},r.createElement("a",{href:t.url,title:a},r.createElement("img",{src:o,className:"textbookPhoto",alt:a})),r.createElement(wc,null)),c=(t.exercises||[]).map(function(e){var t="Chapter ".concat(e.chapter.num,", Section ").concat(e.section.num,", ").concat(e.section.title,", Exercise ").concat(e.exercise_num);return r.createElement("a",{className:"panel textbookExerciseLink",href:e.url},r.createElement("span",null,t),r.createElement("i",{className:"chi-pointer-circle-right"}))});if(n)return r.createElement(_c,{className:"textbookSnippet"},r.createElement(Ec,null,r.createElement(Sc,{className:"textbookPhotoContainer"},l),r.createElement(Sc,{width:"8",className:"textbookTitleContainer"},r.createElement(Ec,null,r.createElement(Sc,{width:"12"},s),r.createElement(Sc,{width:"12"},r.createElement("a",{className:"chapterListLink isLarge",href:t.url},"View all chapters ",r.createElement("i",{className:"chi-pointer-right"})))))),r.createElement(Ec,{noBottom:!0},c.slice(0,1).map(function(e){return r.createElement(Sc,{width:"12"},e)})));var u="textbookSnippetContainer",h=6;return 0==c.length&&(u+=" isCollapsed",h=12),r.createElement("section",{className:u},r.createElement(_c,{className:"textbookSnippet"},r.createElement(Ec,{noBottom:!0},r.createElement(Sc,{width:"3",className:"textbookPhotoContainer"},l),r.createElement(Sc,null,r.createElement(Ec,{noBottom:!0},r.createElement(Sc,{width:"12",className:"textbookTitleContainer"},s),r.createElement(Sc,{width:h},r.createElement("p",{className:"textbookDetails"},t.edition_name&&"".concat(t.edition_name,".")," ",t.author,r.createElement("br",null),"ISBN: ",t.isbn)),r.createElement(Sc,{width:h},r.createElement("ul",{className:"chapterList"},t.chapters&&t.chapters.map(function(e){return r.createElement("li",{key:e.url,className:"chapterListItem"},r.createElement("a",{href:e.url},e.name))}),r.createElement("li",{className:"chapterListItem"},r.createElement("a",{href:t.url},"View all chapters ",r.createElement("i",{className:"chi-arrow-right"})))))),r.createElement(Ec,{noBottom:!0},c.slice(0,2).map(function(e){return r.createElement(Sc,null,e)}))))))};!function(e){e.CONVERSION_QUEUE="conversionQueue",e.JOB="job",e.DOCUMENT="document",e.QUESTION="question",e.QA_THREAD="qa_thread",e.FLASHCARD="flashcard",e.FLASHCARDS="flashcards",e.BOOK="book",e.SOCIAL_SHARE="social_share",e.STUDY_GUIDE="study_guide",e.INFOGRAPHIC="infographic",e.EDU_INFOGRAPHIC="edu-infographic",e.BEST_LESSONS="best_lesson",e.PROFILE="profile",e.TUTOR="expert",e.ECOURSE_TYPE="e-course",e.ANSWER="answers",e.COURSE="course",e.COURSE_STUDYGUIDE="course_studyguide",e.LIT_STUDYGUIDE="lit_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.BOOKMARK="bookmark",e.ALL="all",e.TEXTBOOK_EXERCISE="textbook_exercise",e.TEXTBOOK="textbook"}(uc||(uc={}));var Cc,kc=uc,Oc=function(e){var t=e.callout;e.isMobile;switch(t.type){case kc.TEXTBOOK:return r.createElement(Tc,{textbook:t.textbook,isMobile:e.isMobile})}return null},Ac=i(13),Nc=function(e){var t=e.items.map(function(t,i){var n=t.label?r.createElement("span",{className:e.labelClassName},t.label):null,a=t.icon?r.createElement("i",{className:e.iconClassName+" "+t.icon}):null,o=r.createElement("span",{className:e.valueClassName},t.value),s=r.createElement(r.Fragment,null,a,n,o);return t.url&&(s=r.createElement("a",{href:t.url},s)),r.createElement("li",{className:"listItem",key:i},s)});return t&&t.length?r.createElement("ul",{className:e.className},t):null},Dc=i(18),xc=function(e){var t=e.className,i=void 0===t?"":t;return r.createElement("div",{className:"".concat(Dc.newMarker," ").concat(i)})},Rc={DEFAULT_CONTENT_THUMBNAIL:"/assets/img/default_content_thumbnail.svg",DEFAULT_COURSE_THUMBNAIL:"/assets/img/courses/icons-standardized/Generic_Blue.svg"},Uc=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).state={src:e.src},i.handleError=i.handleError.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"handleError",value:function(){var e=this.props.fallbackUrl||Rc.DEFAULT_CONTENT_THUMBNAIL;this.state.src!=e&&this.setState({src:e})}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&this.setState({src:this.props.src})}},{key:"render",value:function(){var e=null;if(this.props.overlayText&&"0"!==this.props.overlayText){var t=$l.pluralize(parseInt(this.props.overlayText),["page","pages"]);e=r.createElement("span",{className:"thumbnailOverlayText"},this.props.overlayText,r.createElement("span",{className:"thumbnailOverlayTextDescription"},t))}return r.createElement("div",{className:"thumbnail"},r.createElement("img",{className:"thumbnailImg",src:this.state.src,alt:this.props.alt,onError:this.handleError}),e)}}]),t}(v),Ic=/\w/,Fc=/<[^\/>]+>/,zc=/<\/[^>]+>/,Pc=/\b\S+\b/,Lc=/\s|\d/,jc=/\s*(<[^\/\s>]+>\s*<\/[^\s<]+>)+\s*$/,Mc=function(){function e(){s()(this,e)}return c()(e,null,[{key:"parseTag",value:function(e,t){var i;return e?e.length>t&&Lc.exec(e[t+1])?"<":(i=e.indexOf(">",t),e.slice(t,i+1)):null}},{key:"insertClosingTag",value:function(e,t,i){var n="</".concat(t,">");return{updatedString:e.slice(0,i)+n+e.slice(i),insertedString:n}}},{key:"closeTagsFromStack",value:function(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r="",a=t.slice();if(!e||!a||!a.length)return{updatedString:e,insertedString:r};for(i=e;a.length>0;){var o=this.insertClosingTag(i,a.shift(),n);r+=o.insertedString,i=o.updatedString}return{updatedString:i,insertedString:r}}},{key:"truncate",value:function(e){var t,i,n,r,a=0,o=[];if(t=(e=e||{}).source,i=e.maxChar,n=!0===e.isHTML,r=!1!==e.stripEmpty,!t||!t.length||!i||i>=t.length)return t;for(;a<i&&a<t.length;)if("<"===t[a]&&n){var s=this.parseTag(t,a),l=s.length;if(!s)break;if(Fc.exec(s))o.push(s.match(Pc)[0]);else if(zc.exec(s)){var c,u=s.match(Pc)&&s.match(Pc)[0],h=o.indexOf(u),p=void 0;-1===h?(p=o,o=[]):(p=o.slice(h+1),o=o.slice(0,h)),t=(c=this.closeTagsFromStack(t,p,a)).updatedString,c.insertedString.length}a+=l,i+=l}else a+=1;if(Ic.exec(t[a]))for(;Ic.exec(t[a])&&a>0;)a-=1;return">"===t[a]&&(a+=1),t=t.slice(0,a),t=this.closeTagsFromStack(t,o,a).updatedString,n&&r&&(t=t.replace(jc,"")),t+"..."}}]),e}(),Bc=function(e){var t,i;!function(e){e.PENDING_SMS="Awaiting SMS Verification",e.PENDING_SUBMIT="Awaiting Submit",e.PENDING_PAYMENT="Awaiting Payment"}(i||(i={}));var n,a,o=(t={},Xa()(t,i.PENDING_SMS,"Continue Verification"),Xa()(t,i.PENDING_SUBMIT,"Continue Submit"),Xa()(t,i.PENDING_PAYMENT,"Continue Payment"),t),s=e.contentType,l=e.isNew,c=void 0!==l&&l,u=e.status,h=e.title,p=e.text,d=e.thumbnailUrl,m=e.thumbnailText,f=null,g=null,b=e.url,v=null,y=null,S=o[u]||"View";a="regularSnippet"+(e.className?" ".concat(e.className):""),n=p?r.createElement("p",{className:"contentItemText",dangerouslySetInnerHTML:{__html:p}}):null;var E;if(d)E=r.createElement(Uc,{src:d,alt:"",overlayText:m,fallbackUrl:e.thumbnailFallbackUrl}),f=-1!==[kc.TEXTBOOK,kc.TEXTBOOK_EXERCISE].indexOf("".concat(s))?r.createElement("div",{className:"textbookThumbnailContainer"},E,r.createElement(wc,null)):E;else if(h){var _=Mc.truncate({source:h,maxChar:80,isHTML:!0});f=r.createElement("div",{className:"thumbnailAlternative",dangerouslySetInnerHTML:{__html:_}})}if(e.status){var w="label status"+(e.statusClassName?" ".concat(e.statusClassName):"");g=r.createElement("div",{className:w},e.status)}e.header&&e.header.length>0&&(v=r.createElement(Nc,{items:e.header,className:"taxonomy"})),e.footer&&e.footer.length>0&&(y=r.createElement(Nc,{items:e.footer,className:"stats",labelClassName:"statTitle",valueClassName:"statValue",iconClassName:"statIcon"}));var T=null;b&&(T=r.createElement("a",{className:"viewButton secondaryButton1 isSmall"},S));var C={"data-cha-action-type":"none","data-cha-action-target-type":e.contentType,"data-cha-action-target-id":e.contentId,"data-cha-target-name":e.chaTargetNamePrefix?"".concat(e.chaTargetNamePrefix,"_content_item"):"content_item","data-cha-interaction-type":"viewed","data-cha-js-event-type":"scroll","data-cha-tracking-viewed-interaction":!0},k={"data-cha-target-name":e.chaTargetNamePrefix?"".concat(e.chaTargetNamePrefix,"_content_item"):"content_item","data-cha-action-type":"visit","data-cha-action-target-type":e.contentType,"data-cha-action-target-id":e.contentId};return e.chaAmplitudeName&&(k["data-cha-amplitude-name"]=e.chaAmplitudeName),e.chaTrackImpression&&(C["data-cha-impression"]="true"),r.createElement("div",Al()({className:a},C),r.createElement("div",{className:"overlay"}),e.actionDropdown,r.createElement("a",Al()({href:b,onClick:e.onClick,className:"snippetLink"},k)),v,r.createElement("h5",{className:"title"},r.createElement("a",{href:b,dangerouslySetInnerHTML:{__html:h}})),T,r.createElement("div",{className:"details"},f,r.createElement("div",{className:"excerpt"},n,y),r.createElement("div",{className:"clear"})),c&&r.createElement(xc,null),g,e.children)};!function(e){e[e.MAX_CHARS_WITH_THUMBNAIL=70]="MAX_CHARS_WITH_THUMBNAIL",e[e.MAX_CHARS_NO_THUMBNAIL=200]="MAX_CHARS_NO_THUMBNAIL"}(Cc||(Cc={}));var Hc,qc=Cc,Gc=function(){function e(){s()(this,e)}return c()(e,null,[{key:"doesThumbnailExist",value:function(e){return!!e.thumbnailUrl}},{key:"getThumbnailOverlayText",value:function(t){return e.doesThumbnailExist(t)&&t.type!=kc.COURSE_STUDYGUIDE&&t.type!=kc.LIT_STUDYGUIDE&&t.type!=kc.STUDYGUIDE_VIDEO?t.thumbnailText:null}},{key:"getFixedContentTitleAndText",value:function(t){var i=t.title||"",n=t.text||"",r=e.doesThumbnailExist(t),a="";switch(t.type){case kc.QUESTION:a="Q: ";break;case kc.DOCUMENT:case kc.CONVERSION_QUEUE:t.subType&&t.subType.length&&(a=t.subType[0].toUpperCase()+t.subType.substr(1)+" - ")}if(r){if(i.trim()||(i="Please reference attachment."),!n.trim()){var o=this.getPrettyType(t.type);o&&(n="Please reference attachment (description for this ".concat(o.toLowerCase()," is unavailable)."))}}else-1===[kc.TEXTBOOK_EXERCISE].indexOf(t.type||"")&&n&&(i=n,n="");return i=a+i,{title:i=Mc.truncate({source:i,maxChar:r?qc.MAX_CHARS_WITH_THUMBNAIL:qc.MAX_CHARS_NO_THUMBNAIL,isHTML:!0}),text:n}}},{key:"getPrettyType",value:function(e){switch(e){case kc.QUESTION:return"Question & Explanation";case kc.DOCUMENT:case kc.CONVERSION_QUEUE:case kc.BOOKMARK:return"Study Document";case kc.COURSE:return"Course";case kc.COURSE_STUDYGUIDE:return"Course Study Guide";case kc.LIT_STUDYGUIDE:return"Literature Study Guide";case kc.STUDYGUIDE_VIDEO:return"Study Guide Video";case kc.TEXTBOOK_EXERCISE:return"Solution";case kc.TEXTBOOK:return"Textbook"}return null}}]),e}();!function(e){e.ANSWERED="Solved",e.PENDING="Solution Pending"}(Hc||(Hc={}));var Wc,Qc=Hc,Vc=function(e){var t=e.content,i=[],n=e.content.isUserArchived?"Archived":e.status,a=e.content.isUserArchived?"isProcessing":e.statusClassName,o=function(e){var t=[];switch(e.type){case kc.TEXTBOOK_EXERCISE:e.textbook_exercise&&(t.push({value:"".concat(e.textbook_exercise.textbook.title," (").concat(e.textbook_exercise.textbook.edition_name,")")}),t.push({value:e.textbook_exercise.section.title}),t.push({value:"Page ".concat(e.textbook_exercise.page)}));break;case kc.TEXTBOOK:e.textbook&&(t.push({value:"".concat(e.textbook.edition_name,". ").concat(e.textbook.author,".")}),t.push({value:"ISBN: ".concat(e.textbook.isbn)}));break;default:var i=Gc.getPrettyType(e.type);i&&t.push({value:i})}return t}(t);if(t.type!==kc.COURSE&&(t.taxonomy&&t.taxonomy.school&&t.taxonomy.school.school_name&&t.taxonomy.school.school_url&&t.taxonomy.course&&t.taxonomy.course.course_num&&t.taxonomy.course.course_url&&t.taxonomy.department&&t.taxonomy.department.dept_acro?(o.push({url:e.dontShowTaxonomyUrl?null:t.taxonomy.school.school_url,value:t.taxonomy.school.school_name}),o.push({url:e.dontShowTaxonomyUrl?null:t.taxonomy.course.course_url,value:t.taxonomy.department.dept_acro.toUpperCase()+" "+t.taxonomy.course.course_num})):t.taxonomy&&t.taxonomy.subject&&t.taxonomy.subject.subject_name&&o.push({value:t.taxonomy.subject.subject_name})),t.courseResourceData){var s=t.courseResourceData,l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var h=u;i.push({label:h.title,value:h.count.toString()})}}else{if(t.type===kc.TEXTBOOK_EXERCISE&&i.push({value:"Solved",icon:"chi-check-circle"}),t.type===kc.TEXTBOOK&&t.textbook.num_solutions>0&&i.push({value:"".concat(t.textbook.num_solutions," Solutions"),icon:"chi-check-circle"}),t.date&&-1===[kc.TEXTBOOK,kc.TEXTBOOK_EXERCISE].indexOf(t.type)){var p=Ac(t.date);i.push({value:p.format("MM/YYYY"),icon:"chi-time"})}if(t.numViews&&i.push({value:t.numViews.toString(),icon:"chi-view"}),t.status&&!e.status){var d,m=t.status,f=null;m===Qc.ANSWERED?f="chi-check-circle":m===Qc.PENDING&&(f="chi-hourglass"),d={value:m,icon:f},i.unshift(d)}}var g=Gc.getFixedContentTitleAndText(t),b=Gc.doesThumbnailExist(t)?t.thumbnailUrl:void 0,v=Gc.getThumbnailOverlayText(t)||void 0;return r.createElement(Bc,{contentId:t.id,contentType:t.type,header:o,isNew:t.isNew,title:g.title,text:g.text,footer:i,thumbnailUrl:b,thumbnailText:v,thumbnailFallbackUrl:t.thumbnailFallbackUrl,url:t.url,className:t.type+(t.isUserArchived?" isUserArchived":""),status:n,statusClassName:a,actionDropdown:e.actionDropdown,chaAmplitudeName:e.chaAmplitudeName,chaTargetNamePrefix:e.chaTargetNamePrefix,chaTrackImpression:e.chaTrackImpression,onClick:e.onClick})},Xc=function(e){var t=e.results.map(function(t,i){if("object"===bc()(t)){var n=t.taxonomy&&t.taxonomy.course&&t.taxonomy.course.course_id&&e.coursesToHideTaxonomyLink.includes(t.taxonomy.course.course_id);return r.createElement("div",{className:"resultsItemContainer",key:i},r.createElement(Vc,{content:t,chaTrackImpression:!0,dontShowTaxonomyUrl:n}),!e.isMobile&&-1!==[kc.TEXTBOOK,kc.TEXTBOOK_EXERCISE].indexOf(t.type)&&r.createElement(wc,null))}return"function"==typeof t?t():t});if(0===t.length&&!e.loadingResults)return r.createElement(vc,{className:"column9 tablet8 phone10",query:e.query});var i=e.callouts?e.callouts.map(function(t){return r.createElement(Oc,{callout:t,isMobile:e.isMobile})}):null;return r.createElement(r.Fragment,null,i,t)},$c=function(e){var t=function(t,i){i.preventDefault(),"function"==typeof e.onPage&&e.onPage(t)},i=e.seoLinks?"?page="+(e.currentPage-1):"#",n=e.seoLinks?"?page="+(e.currentPage+1):"#";if(0===e.numPages)return null;var a=1;e.numPages>9&&(e.currentPage+5>=e.numPages?a=e.numPages-8:e.currentPage>5&&(a=e.currentPage-4));var o=Math.min(e.numPages-a+1,9),s=[],l={};if(e.chaAmplitudeName&&(l["data-cha-amplitude-name"]=e.chaAmplitudeName),!e.noPageNums)for(var c=0;c<o;c++){var u=c+a,h=u===e.currentPage?"isActive":"";s.push(r.createElement("li",{key:u},r.createElement("a",Al()({href:"#",onClick:t.bind(null,u),className:h,"data-cha-target-name":"page_link","data-cha-amp-pagination-number":u,"data-cha-action-type":"visit"},l),u)))}var p=e.currentPage>1?r.createElement("li",null,r.createElement("a",Al()({href:i,onClick:function(t){t.preventDefault(),"function"==typeof e.onPrev&&e.onPrev()},className:"prev changed","data-cha-target-name":"page_link_prev","data-cha-action-type":"visit"},l),r.createElement("i",{className:"chi-pointer-left-bold"}),"Prev")):null,d=e.currentPage<e.numPages?r.createElement("li",null,r.createElement("a",Al()({href:n,onClick:function(t){t.preventDefault(),"function"==typeof e.onNext&&e.onNext()},className:"next","data-cha-target-name":"page_link_next","data-cha-action-type":"visit"},l),"Next ",r.createElement("i",{className:"chi-pointer-right-bold"}))):null;return r.createElement("ul",{className:"pagination"},p,s,d)};!function(e){e.HOMEPAGE="homepage",e.HEADER="header",e.IOS="ios_app",e.ANDROID="android_app",e.RELOAD="reload",e.FILTER="filter",e.SORT="sort",e.PAGINATION="pagination",e.INSTAPAGE="instapage",e.COURSE_PAGE="course_page",e.EDUCATOR_LANDING="educator_landing"}(Wc||(Wc={}));var Kc,Yc=Wc;!function(e){e.WEB="list_w",e.MOBILE="list_m"}(Kc||(Kc={}));var Jc,Zc,eu,tu,iu,nu,ru,au,ou,su,lu,cu,uu,hu,pu,du=Kc,mu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.int.bind(null,e))},fu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.string.bind(null,e))},gu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.bool.bind(null,e))},bu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.float.bind(null,e))},vu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.array.bind(null,e))},yu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.object.bind(null,e))},Su=function(e,t,i,n){t.constructor.schema[i]=e()},Eu=(Jc=mu(),Zc=fu(),eu=mu(),tu=gu(),iu=mu(),nu=mu(),pu=hu=function e(t,i,n,r,a,o){s()(this,e),Ya()(this,"userId",au,this),Ya()(this,"username",ou,this),Ya()(this,"email",su,this),Ya()(this,"disabledAccount",lu,this),Ya()(this,"tutorQuestions",cu,this),Ya()(this,"numberOfUnlocks",uu,this),this.userId=t,this.username=i,this.email=n,this.disabledAccount=r,this.tutorQuestions=a,this.numberOfUnlocks=o},hu.MODEL_NAME="user",hu.schema={},ru=pu,au=Za()(ru.prototype,"userId",[Jc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ou=Za()(ru.prototype,"username",[Zc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),su=Za()(ru.prototype,"email",[eu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lu=Za()(ru.prototype,"disabledAccount",[tu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cu=Za()(ru.prototype,"tutorQuestions",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=Za()(ru.prototype,"numberOfUnlocks",[nu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ru),_u=function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(i=h()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).receiveUsers=function(e){return e},i.receiveUserDetails=function(e){return e},i}return b()(t,e),t}(ml),wu=fl.create(new _u),Tu=function(e){function t(){var e;return s()(this,t),(e=h()(this,d()(t).call(this))).userDetails=void 0,wu._register({receiveUsers:wu.receiveUsers,receiveUserDetails:wu.receiveUserDetails},f()(e)),e}return b()(t,e),c()(t,[{key:"getUsers",value:function(){return this.getRows(Eu.MODEL_NAME)}},{key:"getUserDetails",value:function(){return this.userDetails}},{key:"getUserById",value:function(e){return this.getUsers().filter(function(t){return t.userId===e})[0]}},{key:"receiveUsers",value:function(e){var t=this;e.forEach(function(e){t.upsertRow(Eu.MODEL_NAME,"userId",e.userId,t.sanitize(e,Eu.schema))}),this.onUpdate()}},{key:"receiveUserDetails",value:function(e){this.userDetails=e,this.onUpdate()}},{key:"self",value:function(){return t}},{key:"onUpdate",value:function(){this.emit(this.self().events.UPDATE)}}]),t}(vl);Tu.events={UPDATE:"UserStoreClass.events.UPDATE"};var Cu,ku,Ou=new Tu;(ku=Cu||(Cu={}))[ku.TEXTBOOK=kc.TEXTBOOK]="TEXTBOOK";var Au,Nu,Du,xu,Ru,Uu,Iu,Fu,zu,Pu,Lu,ju,Mu,Bu,Hu,qu,Gu,Wu,Qu,Vu,Xu,$u,Ku,Yu,Ju,Zu,eh,th,ih,nh,rh,ah,oh,sh,lh,ch,uh,hh,ph,dh,mh,fh,gh,bh,vh,yh,Sh,Eh,_h,wh,Th,Ch,kh,Oh,Ah,Nh,Dh,xh,Rh,Uh,Ih,Fh,zh,Ph,Lh,jh,Mh,Bh,Hh,qh,Gh,Wh,Qh,Vh,Xh,$h,Kh,Yh,Jh,Zh,ep,tp,ip,np,rp,ap,op,sp,lp,cp,up,hp,pp,dp,mp,fp,gp,bp,vp,yp,Sp,Ep,_p,wp,Tp,Cp,kp,Op,Ap,Np,Dp,xp,Rp,Up,Ip,Fp,zp,Pp,Lp,jp,Mp,Bp,Hp,qp,Gp,Wp,Qp,Vp,Xp,$p,Kp,Yp,Jp,Zp,ed,td=Cu,id=function(){function e(){s()(this,e)}return c()(e,null,[{key:"search",value:function(e,t){return Wa.ApiService.post("/api/v2/search/",e).then(function(e){$a([e,t])})}}]),e}(),nd=(Au=mu(),Nu=fu(),Du=fu(),xu=fu(),Ru=gu(),Uu=fu(),Iu=fu(),Fu=fu(),zu=mu(),Pu=fu(),Lu=gu(),ju=yu(),Mu=yu(),Bu=gu(),Hu=gu(),qu=gu(),Gu=mu(),Wu=mu(),Qu=mu(),Vu=mu(),Xu=bu(),$u=yu(),Ku=mu(),Yu=fu(),Ju=mu(),Zu=fu(),eh=fu(),th=fu(),ih=mu(),nh=mu(),rh=gu(),ah=gu(),oh=fu(),sh=fu(),lh=fu(),ch=fu(),uh=gu(),hh=fu(),ph=gu(),dh=fu(),mh=fu(),fh=gu(),gh=gu(),bh=mu(),vh=mu(),yh=mu(),Sh=mu(),Eh=mu(),_h=gu(),wh=mu(),Th=gu(),Ch=gu(),kh=gu(),Oh=mu(),Ah=vu(),Nh=gu(),Dh=gu(),xh=gu(),Rh=fu(),Uh=gu(),Ih=gu(),Fh=gu(),zh=gu(),Ph=gu(),Lh=fu(),Jp=Yp=function e(t,i,n,r,a,o,l,c,u,h,p,d,m,f,g,b,v,y,S,E,_,w,T,C,k,O,A,N,D,x,R,U,I,F,z,P,L,j,M,B,H,q,G,W,Q,V,X,$,K,Y,J,Z,ee,te,ie,ne,re,ae,oe,se,le,ce,ue,he,pe){s()(this,e),Ya()(this,"userId",Mh,this),Ya()(this,"username",Bh,this),Ya()(this,"displayName",Hh,this),Ya()(this,"profileUrl",qh,this),Ya()(this,"isModerator",Gh,this),Ya()(this,"canChangeName",Wh,this),Ya()(this,"email",Qh,this),Ya()(this,"expirationDate",Vh,this),Ya()(this,"daysLeft",Xh,this),Ya()(this,"lastLogin",$h,this),Ya()(this,"disabledAccount",Kh,this),Ya()(this,"iosSubscription",Yh,this),Ya()(this,"litleSubscription",Jh,this),Ya()(this,"premier",Zh,this),Ya()(this,"isRememberMe",ep,this),Ya()(this,"createdContent",tp,this),Ya()(this,"numDocumentsUploaded",ip,this),Ya()(this,"numQuestionsAsked",np,this),Ya()(this,"numQuestionsAnswered",rp,this),Ya()(this,"numFlashcardsCreated",ap,this),Ya()(this,"profilePercentComplete",op,this),Ya()(this,"profileErrors",sp,this),Ya()(this,"tutorQuestions",lp,this),Ya()(this,"school",cp,this),Ya()(this,"schoolId",up,this),Ya()(this,"schoolLocation",hp,this),Ya()(this,"studentType",pp,this),Ya()(this,"fullName",dp,this),Ya()(this,"graduationYear",mp,this),Ya()(this,"graduationMonth",fp,this),Ya()(this,"isPaused",gp,this),Ya()(this,"canPause",bp,this),Ya()(this,"lastPausedOn",vp,this),Ya()(this,"nextPauseDate",yp,this),Ya()(this,"resumeDate",Sp,this),Ya()(this,"autoRenewDate",Ep,this),Ya()(this,"canUpgrade",_p,this),Ya()(this,"phoneNumber",wp,this),Ya()(this,"smsNotificationEnabled",Tp,this),Ya()(this,"profilePhoto",Cp,this),Ya()(this,"defaultAvatar",kp,this),Ya()(this,"isUnlock",Op,this),Ya()(this,"stopDashboardAlerts",Ap,this),Ya()(this,"totalDownloadCount",Np,this),Ya()(this,"monthlyAvailableDownloads",Dp,this),Ya()(this,"monthlyUnlocksRemaining",xp,this),Ya()(this,"todaysDownloadCount",Rp,this),Ya()(this,"monthlyDownloadLimit",Up,this),Ya()(this,"nonMarketplaceDocsApproved",Ip,this),Ya()(this,"numDocsToRetag",Fp,this),Ya()(this,"expertDashboardAvailable",zp,this),Ya()(this,"canAccessInternEmailPage",Pp,this),Ya()(this,"fcPremierRecurring",Lp,this),Ya()(this,"unlocksRemaining",jp,this),Ya()(this,"userRights",Mp,this),Ya()(this,"canAnswerQuestions",Bp,this),Ya()(this,"isTeacher",Hp,this),Ya()(this,"needRealUsername",qp,this),Ya()(this,"nextPaymentDateDisplay",Gp,this),Ya()(this,"isPaypalUser",Wp,this),Ya()(this,"isGooglePlaySubscriber",Qp,this),Ya()(this,"isIOSSubscriber",Vp,this),Ya()(this,"hasValidCreditCard",Xp,this),Ya()(this,"isPinpoint",$p,this),Ya()(this,"department",Kp,this),this.userId=t,this.username=i,this.displayName=n,this.profileUrl=r,this.isModerator=a,this.canChangeName=o,this.email=l,this.expirationDate=c,this.daysLeft=u,this.lastLogin=h,this.disabledAccount=p,this.iosSubscription=d,this.litleSubscription=m,this.premier=f,this.isRememberMe=g,this.createdContent=b,this.numDocumentsUploaded=v,this.numQuestionsAsked=y,this.numQuestionsAnswered=S,this.numFlashcardsCreated=E,this.profilePercentComplete=_,this.profileErrors=w,this.tutorQuestions=T,this.school=C,this.schoolId=k,this.schoolLocation=O,this.studentType=A,this.fullName=N,this.graduationYear=D,this.graduationMonth=x,this.isPaused=R,this.canPause=U,this.lastPausedOn=I,this.nextPauseDate=F,this.resumeDate=z,this.autoRenewDate=P,this.canUpgrade=L,this.phoneNumber=j,this.smsNotificationEnabled=M,this.profilePhoto=B,this.defaultAvatar=H,this.isUnlock=q,this.stopDashboardAlerts=G,this.totalDownloadCount=W,this.monthlyAvailableDownloads=Q,this.monthlyUnlocksRemaining=V,this.todaysDownloadCount=X,this.monthlyDownloadLimit=$,this.nonMarketplaceDocsApproved=K,this.numDocsToRetag=Y,this.expertDashboardAvailable=J,this.canAccessInternEmailPage=Z,this.fcPremierRecurring=ee,this.unlocksRemaining=te,this.userRights=ie,this.canAnswerQuestions=ne,this.isTeacher=re,this.needRealUsername=ae,this.nextPaymentDateDisplay=oe,this.isPaypalUser=se,this.isGooglePlaySubscriber=le,this.isIOSSubscriber=ce,this.hasValidCreditCard=ue,this.isPinpoint=he,this.department=pe},Yp.MODEL_NAME="userDetails",Yp.schema={},jh=Jp,Mh=Za()(jh.prototype,"userId",[Au],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bh=Za()(jh.prototype,"username",[Nu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hh=Za()(jh.prototype,"displayName",[Du],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh=Za()(jh.prototype,"profileUrl",[xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gh=Za()(jh.prototype,"isModerator",[Ru],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=Za()(jh.prototype,"canChangeName",[Uu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=Za()(jh.prototype,"email",[Iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vh=Za()(jh.prototype,"expirationDate",[Fu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh=Za()(jh.prototype,"daysLeft",[zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$h=Za()(jh.prototype,"lastLogin",[Pu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=Za()(jh.prototype,"disabledAccount",[Lu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Za()(jh.prototype,"iosSubscription",[ju],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=Za()(jh.prototype,"litleSubscription",[Mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=Za()(jh.prototype,"premier",[Bu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ep=Za()(jh.prototype,"isRememberMe",[Hu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tp=Za()(jh.prototype,"createdContent",[qu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ip=Za()(jh.prototype,"numDocumentsUploaded",[Gu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),np=Za()(jh.prototype,"numQuestionsAsked",[Wu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rp=Za()(jh.prototype,"numQuestionsAnswered",[Qu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ap=Za()(jh.prototype,"numFlashcardsCreated",[Vu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),op=Za()(jh.prototype,"profilePercentComplete",[Xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sp=Za()(jh.prototype,"profileErrors",[$u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lp=Za()(jh.prototype,"tutorQuestions",[Ku],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cp=Za()(jh.prototype,"school",[Yu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),up=Za()(jh.prototype,"schoolId",[Ju],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hp=Za()(jh.prototype,"schoolLocation",[Zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pp=Za()(jh.prototype,"studentType",[eh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dp=Za()(jh.prototype,"fullName",[th],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mp=Za()(jh.prototype,"graduationYear",[ih],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fp=Za()(jh.prototype,"graduationMonth",[nh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gp=Za()(jh.prototype,"isPaused",[rh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bp=Za()(jh.prototype,"canPause",[ah],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vp=Za()(jh.prototype,"lastPausedOn",[oh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yp=Za()(jh.prototype,"nextPauseDate",[sh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sp=Za()(jh.prototype,"resumeDate",[lh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ep=Za()(jh.prototype,"autoRenewDate",[ch],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_p=Za()(jh.prototype,"canUpgrade",[uh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wp=Za()(jh.prototype,"phoneNumber",[hh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tp=Za()(jh.prototype,"smsNotificationEnabled",[ph],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cp=Za()(jh.prototype,"profilePhoto",[dh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kp=Za()(jh.prototype,"defaultAvatar",[mh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Op=Za()(jh.prototype,"isUnlock",[fh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ap=Za()(jh.prototype,"stopDashboardAlerts",[gh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Np=Za()(jh.prototype,"totalDownloadCount",[bh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dp=Za()(jh.prototype,"monthlyAvailableDownloads",[vh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xp=Za()(jh.prototype,"monthlyUnlocksRemaining",[yh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rp=Za()(jh.prototype,"todaysDownloadCount",[Sh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Up=Za()(jh.prototype,"monthlyDownloadLimit",[Eh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=Za()(jh.prototype,"nonMarketplaceDocsApproved",[_h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fp=Za()(jh.prototype,"numDocsToRetag",[wh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zp=Za()(jh.prototype,"expertDashboardAvailable",[Th],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pp=Za()(jh.prototype,"canAccessInternEmailPage",[Ch],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lp=Za()(jh.prototype,"fcPremierRecurring",[kh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jp=Za()(jh.prototype,"unlocksRemaining",[Oh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mp=Za()(jh.prototype,"userRights",[Ah],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bp=Za()(jh.prototype,"canAnswerQuestions",[Nh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hp=Za()(jh.prototype,"isTeacher",[Dh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qp=Za()(jh.prototype,"needRealUsername",[xh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gp=Za()(jh.prototype,"nextPaymentDateDisplay",[Rh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=Za()(jh.prototype,"isPaypalUser",[Uh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=Za()(jh.prototype,"isGooglePlaySubscriber",[Ih],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=Za()(jh.prototype,"isIOSSubscriber",[Fh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xp=Za()(jh.prototype,"hasValidCreditCard",[zh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$p=Za()(jh.prototype,"isPinpoint",[Ph],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kp=Za()(jh.prototype,"department",[Lh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jh),rd=function(){function e(){s()(this,e)}return c()(e,null,[{key:"getUserDetails",value:function(e){return yl().get("/api/v1/users/details/",{}).then(function(t){if(t){var i=new nd(t.user_id,t.username,t.display_name,t.profile_url,t.is_moderator,t.can_change_name,t.email,t.expiration_date,t.days_left,t.last_login,t.disabled_account,t.ios_subscription,t.litle_subcsription,t.premier,t.is_remember_me,t.created_content,t.num_documents_uploaded,t.num_questions_asked,t.num_questions_answered,t.num_flashcards_created,t.profile_percent_complete,t.profile_errors,t.tutor_questions_remaining,t.school,t.school_id,t.school_location,t.student_type,t.full_name,t.graduation_year,t.graduation_month,t.is_paused,t.can_pause,t.last_paused_on,t.next_pause_date,t.resume_date,t.auto_renew_date,t.can_upgrade,t.phone_number,t.sms_notification_enabled,t.profile_photo,t.default_avatar,t.is_unlock,t.stop_dashboard_alerts,t.total_download_count,t.monthly_available_downloads,t.monthly_unlocks_remaining,t.todays_download_count,t.monthly_download_limit,t.non_marketplace_docs_approved,t.num_docs_to_retag,t.expert_dashboard_available,t.can_access_intern_email_page,t.fc_premier_recurring,t.unlocks_remaining,t.user_rights,t.can_answer_questions,t.is_teacher,t.need_real_username,t.next_payment_date_display,t.is_paypal_user,t.is_google_play_subscriber,t.is_ios_subscriber,t.has_valid_credit_card,t.is_pinpoint,t.department);wu.receiveUserDetails(i),e&&e(t)}})}}]),e}(),ad=Dl.define("RECEIVE_COURSES",function(){return Wa.Actions.define("RECEIVE_COURSES",function(e){return e})}),od=Dl.define("ADD_COURSE",function(){return Wa.Actions.define("ADD_COURSE",function(e){return e.isNew=!0,e})}),sd=Dl.define("TOGGLE_ARCHIVE_COURSE",function(){return Wa.Actions.define("TOGGLE_ARCHIVE_COURSE",function(e){return e})}),ld=Dl.define("REMOVE_COURSE",function(){return Wa.Actions.define("REMOVE_COURSE",function(e){return e})});!function(e){e.ACCEPTED="accepted",e.DENIED="denied",e.RETAG_REQUIRED="retagRequired",e.UNDER_REVIEW="underReview",e.RETITLE_REQUIRED="retitleRequired",e.PROCESSING="processing"}(Zp||(Zp={})),function(e){e.GENERIC="generic",e.COPYRIGHT="copyright",e.PAGE_LENGTH="pageLength",e.SCAN_QUALITY="scanQuality",e.SPLIT_DOCS="splitDocs",e.DUPLICATE="duplicate"}(ed||(ed={}));Zp.ACCEPTED,Zp.ACCEPTED,Zp.DENIED,Zp.DENIED,Zp.DENIED,Zp.DENIED,Zp.RETAG_REQUIRED,Zp.RETITLE_REQUIRED;var cd,ud,hd,pd,dd,md,fd,gd,bd,vd,yd,Sd,Ed,_d,wd,Td,Cd,kd,Od,Ad,Nd,Dd,xd,Rd,Ud,Id,Fd,zd,Pd,Ld,jd,Md,Bd,Hd,qd,Gd,Wd,Qd,Vd,Xd,$d,Kd,Yd,Jd,Zd,em,tm,im={1:Zp.PROCESSING,18:Zp.ACCEPTED,19:Zp.ACCEPTED,2:Zp.DENIED,7:Zp.DENIED,8:Zp.DENIED,20:Zp.DENIED,23:Zp.DENIED},nm={201:ed.GENERIC,202:ed.COPYRIGHT,203:ed.PAGE_LENGTH,204:ed.SCAN_QUALITY,205:ed.SPLIT_DOCS,206:ed.DUPLICATE,207:Zp.DENIED,209:Zp.DENIED,210:Zp.DENIED},rm=(Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,{accepted:{status:"Processed",className:"isSuccess"},denied:{status:"Denied",className:"isError"},generic:{status:"Denied: Generic",className:"isError"},copyright:{status:"Denied: Copyright",className:"isError"},pageLength:{status:"Denied: Page Length",className:"isError"},scanQuality:{status:"Denied: Scan Quality",className:"isError"},splitDocs:{status:"Denied: Split Docs",className:"isError"},duplicate:{status:"Denied: Duplicate",className:"isError"},retagRequired:{status:"Retag Required",className:"isWarning"},retitleRequired:{status:"Retitle Required",className:"isWarning"},underReview:{status:"Processing",className:"isWarning"}}),am=(cd=Wa.Schema.int(),ud=Wa.Schema.string(),hd=Wa.Schema.string(),pd=Wa.Schema.string(),dd=Wa.Schema.int(),md=Wa.Schema.int(),fd=Wa.Schema.string(),gd=Wa.Schema.string(),bd=Wa.Schema.string(),vd=Wa.Schema.string(),yd=Wa.Schema.bool(),Sd=Wa.Schema.bool(),Ed=Wa.Schema.int(),_d=Wa.Schema.string(),wd=Wa.Schema.object(),Td=Wa.Schema.datetime(),Cd=Wa.Schema.string(),kd=Wa.Schema.int(),Od=Wa.Schema.string(),Ad=Wa.Schema.array({schema:function(){return xo.schema},constructor:xo}),Nd=Wa.Schema.object({schema:function(){return jo.schema},constructor:jo}),Dd=Wa.Schema.object({schema:function(){return qo.schema},constructor:qo}),tm=em=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"id",Rd,f()(e)),Ya()(e,"type",Ud,f()(e)),Ya()(e,"title",Id,f()(e)),Ya()(e,"url",Fd,f()(e)),Ya()(e,"folderId",zd,f()(e)),Ya()(e,"bookmarkId",Pd,f()(e)),Ya()(e,"text",Ld,f()(e)),Ya()(e,"thumbnailUrl",jd,f()(e)),Ya()(e,"thumbnailText",Md,f()(e)),Ya()(e,"thumbnailFallbackUrl",Bd,f()(e)),Ya()(e,"isUserArchived",Hd,f()(e)),Ya()(e,"isNew",qd,f()(e)),Ya()(e,"numViews",Gd,f()(e)),Ya()(e,"status",Wd,f()(e)),Ya()(e,"taxonomy",Qd,f()(e)),Ya()(e,"date",Vd,f()(e)),Ya()(e,"subType",Xd,f()(e)),Ya()(e,"intelligent_uploader_document_id",$d,f()(e)),Ya()(e,"pendingUserAction",Kd,f()(e)),Ya()(e,"courseResourceData",Yd,f()(e)),Ya()(e,"textbook",Jd,f()(e)),Ya()(e,"textbook_exercise",Zd,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),c()(t,[{key:"getUniqueId",value:function(){return this.type+"-"+this.id}}]),t}(eo),em.schema={},xd=tm,Rd=Za()(xd.prototype,"id",[cd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ud=Za()(xd.prototype,"type",[ud],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Id=Za()(xd.prototype,"title",[hd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fd=Za()(xd.prototype,"url",[pd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zd=Za()(xd.prototype,"folderId",[dd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pd=Za()(xd.prototype,"bookmarkId",[md],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ld=Za()(xd.prototype,"text",[fd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jd=Za()(xd.prototype,"thumbnailUrl",[gd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Md=Za()(xd.prototype,"thumbnailText",[bd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bd=Za()(xd.prototype,"thumbnailFallbackUrl",[vd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hd=Za()(xd.prototype,"isUserArchived",[yd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qd=Za()(xd.prototype,"isNew",[Sd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gd=Za()(xd.prototype,"numViews",[Ed],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wd=Za()(xd.prototype,"status",[_d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qd=Za()(xd.prototype,"taxonomy",[wd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vd=Za()(xd.prototype,"date",[Td],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xd=Za()(xd.prototype,"subType",[Cd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$d=Za()(xd.prototype,"intelligent_uploader_document_id",[kd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kd=Za()(xd.prototype,"pendingUserAction",[Od],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yd=Za()(xd.prototype,"courseResourceData",[Ad],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jd=Za()(xd.prototype,"textbook",[Nd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zd=Za()(xd.prototype,"textbook_exercise",[Dd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xd),om={BOOK:"book",COURSE:"course",DEPT:"dept",DOCUMENT:"document",DOCUMENT_TEXT:"document-text",DOCUMENT_IOS:"document_ios",ECOURSE:"ecourse",FLASHCARD:"flashcard",QUESTION:"question",SCHOOL:"school",SEARCH:"search",SPLIT:"split",SPLIT_ASSOCIATION:"split_assoc",STANDARDIZED_TEST:"standardized-test",LIT_STUDY_GUIDE:"study-guide",SUBJECT:"subject"},sm=function(){function e(){s()(this,e)}return c()(e,null,[{key:"determineDocumentStatus",value:function(e,t){if(!e)return null;var i=im[e];if(i==Zp.DENIED){if(t)return rm[nm[t]]?rm[nm[t]]:rm[Zp.DENIED]}else if(void 0===i)return rm[Zp.UNDER_REVIEW];return rm[i]}},{key:"determineDocumentStatusFromStatusString",value:function(e){for(var t in rm)if(rm[t].status===e)return rm[t];return null}}]),e}();function lm(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function cm(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?lm(i,!0).forEach(function(t){Xa()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):lm(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var um=function(e){function t(){var e,i;return s()(this,t),(i=h()(this,d()(t).call(this))).state={courses:[]},Wa.Actions.register((e={},Xa()(e,od,i.onAddCourse.bind(f()(i))),Xa()(e,ad,i.onReceiveCourses.bind(f()(i))),Xa()(e,sd,i.onToggleArchiveCourse.bind(f()(i))),Xa()(e,ld,i.onRemoveCourse.bind(f()(i))),e),f()(i)),i}return b()(t,e),c()(t,[{key:"getCourses",value:function(){return this.state.courses}},{key:"sanitizeDocumentArray",value:function(e){var t=this;if(!e||!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var i=[];return e.forEach(function(e){var n;n=t.sanitizeDocument(e),i.push(new am(t.sanitize(n,am.schema)))}),{contentArr:i,numContents:i.length}}},{key:"sanitizeUnlockedContent",value:function(e){var t=this;if(!e||!e.unlocked_content||!e.num_unlocks)return{contentArr:[],numContents:0};var i=e.unlocked_content;if(!Array.isArray(i)||0===i.length)return{contentArr:[],numContents:0};var n=[];return i.forEach(function(e){var i={};switch(e.content_type){case kc.QUESTION:i=t.sanitizeUnlockedQuestion(e);break;case kc.DOCUMENT:i=t.sanitizeUnlockedDocument(e);break;default:return}n.push(new am(t.sanitize(i,am.schema)))}),{contentArr:n,numContents:parseInt(e.num_unlocks)}}},{key:"sanitizeUploadedContent",value:function(e){var t,i,n=this,r=[];if(!e||!e.uploads||!e.total)return{contentArr:[],numContents:0};var a=e.uploads;return Array.isArray(a)&&0!==a.length?(a.forEach(function(e){t=n.sanitizeDocument(e.doc_info),i=sm.determineDocumentStatus(e.upload_state,e.deny_reason),e.intelligent_uploader_document_id&&(t.url="/upload/intelligent/".concat(e.jobid)),t=cm({},t,{date:Ac(e.doc_date),status:i?i.status:"",isUserArchived:e.is_archived,id:e.jobid,type:kc.CONVERSION_QUEUE,title:e.title}),e.deny_reason&&nm[e.deny_reason]===ed.COPYRIGHT&&(t.thumbnailUrl="",t.thumbnailText="0"),r.push(n.sanitize(t,am.schema))}),{contentArr:r,numContents:parseInt(e.total)}):{contentArr:[],numContents:0}}},{key:"sanitizeSearchResponseResults",value:function(e){return e.map(function(e){var t=0,i="",n=null;switch(e.core.type){case nl.QUESTION:t=e.question.question_id,i=e.question.answered?Qc.ANSWERED:Qc.PENDING;break;case nl.DOCUMENT:t=e.document.db_filename;break;case nl.COURSE:t=e.taxonomy.course.course_id,n=Rc.DEFAULT_COURSE_THUMBNAIL;break;case nl.COURSE_STUDY_GUIDE:t=e.course_studyguide.cms_item_id;break;case nl.LIT_STUDY_GUIDE:t=e.lit_studyguide.book_section_id;break;case nl.STUDYGUIDE_VIDEO:t=e.studyguide_video.video_id;break;case nl.TEXTBOOK:t=e.textbook.textbook_id;break;case nl.TEXTBOOK_EXERCISE:t=e.textbook_exercise.exercise_id}return new am({id:t,type:e.core.type,subType:e.document?e.document.type:null,title:e.core.title,url:e.core.url,text:e.core.text,thumbnailUrl:e.thumbnail?e.thumbnail.url:null,thumbnailText:e.thumbnail?e.thumbnail.overlay_text:null,thumbnailFallbackUrl:n,numViews:e.core.views,status:i,taxonomy:e.taxonomy,date:e.core.date,courseResourceData:e.sub_resources,textbook:e.textbook,textbook_exercise:e.textbook_exercise})})}},{key:"sanitizeNewCourse",value:function(e){return new am({id:e.folder_type_id,folderId:e.library_folder_id,type:kc.COURSE,title:e.name,url:e.folder_url,text:e.subtitle,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}},{key:"sanitizeRecentlyViewedContent",value:function(e){var t=this;if(!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var i=[];return e.forEach(function(e){var n={};switch(e.contentType){case kc.QUESTION:n=t.sanitizeQuestion(e[kc.QUESTION]);break;case kc.DOCUMENT:n=t.sanitizeDocument(e[kc.DOCUMENT]);break;case kc.TEXTBOOK_EXERCISE:n=t.sanitizeTextbookExercise(e[kc.TEXTBOOK_EXERCISE]);break;case om.LIT_STUDY_GUIDE:var r=e[om.LIT_STUDY_GUIDE];n={id:e.contentId,type:kc.LIT_STUDYGUIDE,title:r.title,url:r.url,thumbnailUrl:r.thumbnailUrl};break;case kc.BEST_LESSONS:n=t.sanitizeBestLesson(e);break;default:return}n=cm({},n,{date:Ac(e.recentDate)}),i.push(new am(t.sanitize(n,am.schema)))}),{contentArr:i,numContents:e.length}}},{key:"sanitizeQuestionResults",value:function(e){if(!e||!e.questions||!e.total)return{contentArr:[],numContents:0};var t=e.questions;return Array.isArray(t)&&0!==t.length?{contentArr:t.map(function(e){return new am({id:e.question_id,type:kc.QUESTION,title:e.question,url:"/qa_redirect.php?question_id="+e.question_id,thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,status:e.derived_question_status,taxonomy:new zo({subject:new oo({subject_id:e.category.category_id,subject_name:e.category.subject})}),isUserArchived:e.is_user_archived,date:Ac(e.deadline),pendingUserAction:e.pending_user_action})}),numContents:parseInt(e.total)}:{contentArr:[],numContents:0}}},{key:"sanitizeBookmarkedContent",value:function(e){var t=this;if(!e||!e.documents||!Array.isArray(e.documents)||0===e.documents.length)return{contentArr:[],numContents:0};var i=[];return e.documents.forEach(function(e){var n=cm({},t.sanitizeDocument(e.document),{date:Ac(e.date),type:kc.BOOKMARK,bookmarkId:e.document.bookmark_id,isUserArchived:e.document.is_archived});i.push(t.sanitize(n,am.schema))}),{contentArr:i,numContents:e.documents.length}}},{key:"sanitizeUnlockedQuestion",value:function(e){var t=e[kc.QUESTION];return(t=this.sanitizeQuestion(t)).isUserArchived=e.is_archived,t.date=Ac(e.unlock_date),t}},{key:"sanitizeUnlockedDocument",value:function(e){var t=e[kc.DOCUMENT];return(t=this.sanitizeDocument(t)).isUserArchived=e.is_archived,t.date=Ac(e.unlock_date),t}},{key:"sanitizeQuestion",value:function(e){var t={type:kc.QUESTION,id:e.question_id,title:e.question,url:e.resource_url,status:e.derived_question_status,numViews:e.view_count,taxonomy:this.sanitizeContentTaxonomy(e,kc.QUESTION),thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,pendingUserAction:e.pending_user_action};return this.sanitize(t,am.schema)}},{key:"sanitizeDocument",value:function(e){var t={type:kc.DOCUMENT,subType:e.type,id:e.db_filename,title:e.title,url:e.resource_url,thumbnailUrl:e.thumbnail_url,thumbnailText:e.meta_data?e.meta_data.page_count:null,text:e.text,numViews:e.views,taxonomy:this.sanitizeContentTaxonomy(e,kc.DOCUMENT),isNew:e.is_new||!1};return this.sanitize(t,am.schema)}},{key:"sanitizeTextbook",value:function(e){var t={textbook_id:e.textbook_id,title:e.title,author:e.author,edition_name:e.edition_name,isbn:e.isbn,publisher:e.publisher,cover_url:e.cover_url};return this.sanitize(t,jo.schema)}},{key:"sanitizeTextbookChapter",value:function(e){var t={num:e?e.abbreviation:""};return this.sanitize(t,Mo.schema)}},{key:"sanitizeTextbookSection",value:function(e){var t={num:e?e.abbreviation:"",title:e?e.title:""};return this.sanitize(t,Bo.schema)}},{key:"sanitizeTextbookHeading",value:function(e){var t={title:e?e.title:""};return this.sanitize(t,Ho.schema)}},{key:"sanitizeTextbookExercise",value:function(e){var t=e,i=t.sections[0]||void 0,n=i?i.sections[0]:void 0,r=n?n.sections[0]:void 0,a=r&&r.exercises.length>0?r.exercises[0]:n&&n.exercise.length>0?n.exercises[0]:i&&i.exercises.length>0?i.exercises[0]:void 0;if(a){var o=this.sanitizeTextbook(t),s=this.sanitizeTextbookChapter(i),l=this.sanitizeTextbookSection(n),c=this.sanitizeTextbookHeading(r),u={exercise_id:a.exercise_id,exercise_num:a.identifier,page:a.page,url:a.url,textbook:o,chapter:s,section:l,heading:c};u=this.sanitize(u,qo.schema);var h={type:kc.TEXTBOOK_EXERCISE,id:u.exercise_id,title:"Ch ".concat(u.chapter.num,", Sec ").concat(u.section.num,", Ex ").concat(u.exercise_num," - ").concat(u.heading.title),url:u.url,thumbnailUrl:o.cover_url,textbook_exercise:u};return this.sanitize(h,am.schema)}}},{key:"sanitizeBestLesson",value:function(e){var t={type:kc.BEST_LESSONS,id:e.id,isNew:e.isNew,title:e.title,url:e.url,thumbnailUrl:e.imageUrl};return this.sanitize(t,am.schema)}},{key:"sanitizeContentTaxonomy",value:function(e,t){var i,n,r,a;switch(t){case kc.QUESTION:e.category&&(i={subject_id:e.category.category_id,subject_name:e.category.subject}),e.course&&(n={school_id:e.course.schoolId,school_name:e.course.schoolName,school_url:e.course.schoolUrl},r={dept_id:e.course.deptId,dept_acro:e.course.dept},a={course_id:e.course.courseId,course_name:e.course.courseName,course_url:e.course.courseUrl,course_num:e.course.courseNum});break;case kc.DOCUMENT:e.subject&&(i={subject_id:e.subject.subject_id,subject_name:e.subject.subject_name}),e.course&&(n={school_id:e.course.school_id,school_name:e.course.school_name,school_url:e.course.school_url},r={dept_id:e.course.dept_id,dept_acro:e.course.dept_acro},a={course_id:e.course.course_id,course_name:e.course.course_name,course_num:e.course.course_num,course_url:e.course.course_url})}return{subject:i,school:n,department:r,course:a}}},{key:"sanitizeCourseResults",value:function(e){return e&&e.rows&&Array.isArray(e.rows)?e.rows.map(function(e){return new am({id:e.folder_type_id,folderId:e.library_folder_id,type:e.folder_type,title:e.name,text:e.subtitle,url:e.folder_url,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}):[]}},{key:"onReceiveCourses",value:function(e){var t=this,i=this.nextState();return e.forEach(function(e){t.upsertItem(i.courses,e.getUniqueId(),e)}),i}},{key:"onAddCourse",value:function(e){var t=this.nextState();return this.upsertItem(t.courses,e.getUniqueId(),e),t}},{key:"onToggleArchiveCourse",value:function(e){var t=this.nextState(),i=this.getItem(t.courses,e.getUniqueId());if(!i)throw Error("Course not found in store");return i.isUserArchived=!i.isUserArchived,t}},{key:"onRemoveCourse",value:function(e){var t=this.nextState();return t.courses=t.courses.filter(function(t){return t.getUniqueId()!==e.getUniqueId()}),t}}]),t}(Wa.Store),hm=Dl.define("ContentStore",function(){return new um}),pm=function e(){s()(this,e)};pm.scrollToTop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;$("html, body").animate({scrollTop:0},e)};var dm=pm,mm=function(e){for(var t=[],i="resultsLoaderContainer"+(e.className?" "+e.className:""),n=e.numLoaders?e.numLoaders:5,a=0;a<n;a++)t.push(r.createElement("div",{className:i,key:a},r.createElement("div",{className:"resultsLoader"})));return r.createElement(r.Fragment,null,t)},fm="default";function gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fm;return window.CHAnalytics.v(e)}var bm,vm,ym,Sm;var Em,_m=gm(),wm=(bm=Cl(200),Sm=ym=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).currentRequest=void 0,i.state={isMobile:!1,results:[],searchResponse:rl.sanitizeSearchResponse({meta:{user_query:e.query,search_id:e.searchId,search_key:e.searchKey}}),loadingResults:!1,loadingAll:!0,error:!1,selectedFilters:rl.sanitize(e.selectedFilters,lo.schema),sortBy:Hs.RELEVANCY,numPages:0,currentPage:1,query:e.query,userDetails:Ou.getUserDetails(),suggestion:e.suggestion,canScrollResults:!0,callouts:[]},i.doSearch=i.doSearch.bind(f()(i)),i.onSearchStoreUpdate=i.onSearchStoreUpdate.bind(f()(i)),i.onUserStoreUpdate=i.onUserStoreUpdate.bind(f()(i)),i.onFilterToggle=i.onFilterToggle.bind(f()(i)),i.onUpdateFilter=i.onUpdateFilter.bind(f()(i)),i.onUpdateSortBy=i.onUpdateSortBy.bind(f()(i)),i.onNext=i.onNext.bind(f()(i)),i.onPrev=i.onPrev.bind(f()(i)),i.onPage=i.onPage.bind(f()(i)),i.onQueryUpdate=i.onQueryUpdate.bind(f()(i)),i.onResetFilters=i.onResetFilters.bind(f()(i)),i.onBrowserHistory=i.onBrowserHistory.bind(f()(i)),i.onResize=i.onResize.bind(f()(i)),i.onScroll=i.onScroll.bind(f()(i)),i.onResultsScrollableChange=i.onResultsScrollableChange.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"allowFilteringByTextbook",value:function(){return this.props.isTextbooksEnabled}},{key:"allowGeolocationSearching",value:function(){return!0}},{key:"getAllSupportedTypes",value:function(){var e=[nl.DOCUMENT,nl.QUESTION,nl.COURSE,nl.COMBINED_STUDY_GUIDE,nl.STUDYGUIDE_VIDEO];return this.allowFilteringByTextbook()&&e.push(nl.TEXTBOOK),e}},{key:"doSearch",value:function(e,t,i){var n=this;this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null);var r={loadingResults:!0};this.state.error&&(r.loadingAll=!0,r.error=!1),this.setState(r);var a=e!==Yc.HEADER&&this.state.searchResponse&&this.state.searchResponse.meta?this.state.searchResponse.meta.search_id:null,o=rl.sanitize(this.state.selectedFilters,lo.schema);o.type&&0!==o.type.length||(o.type=this.getAllSupportedTypes());var s=[];this.allowFilteringByTextbook()&&s.push(td.TEXTBOOK);var l={previous_search_id:a,query:this.state.query,offset:20*(this.state.currentPage-1),limit:20,sort:this.state.sortBy,filters:o,view:this.state.isMobile?du.MOBILE:du.WEB,trigger:e,suggestion:this.state.suggestion,callout_types:s};this.allowGeolocationSearching()&&(l.location={auto:!0});var c=t?rl.sanitizeSearchRequest({search_id:t,search_key:i,callout_types:s}):rl.sanitizeSearchRequest(l);this.currentRequest=id.search(c,e).fail(function(e){if(0!==e.status){var t;try{t=JSON.parse(e.response)}catch(e){}t||(t=n.state.searchResponse),n.setState({error:!0,searchResponse:t})}}).always(function(){n.currentRequest=null,n.setState({loadingAll:!1,loadingResults:!1})})}},{key:"onBrowserHistory",value:function(e){var t=e.state;this.doSearch(Yc.RELOAD,t.search_id,t.search_key)}},{key:"onResetFilters",value:function(){var e=this;this.setState({selectedFilters:rl.sanitizeFilterData({type:this.getAllSupportedTypes()}),currentPage:1,sortBy:Hs.RELEVANCY},function(){Rl.resetAll(),e.dispatchSearchParamsChangedEvent(e.state.query,e.state.selectedFilters),e.doSearch(Yc.FILTER)})}},{key:"onQueryUpdate",value:function(e,t){var i=this,n=this.state.selectedFilters,r=t.school,a=t.suggestion;r&&r.id?n.course&&n.course.school_id==r.id||(n.course={school_id:r.id,school_name:r.mainText,course_id:null,course_num:null,course_name:null,dept_id:null,dept_acro:null},n=rl.sanitize(n,lo.schema)):n.course=null,this.setState({query:t.queryString,selectedFilters:n,suggestion:a,currentPage:1,results:[]},function(){return i.doSearch(Yc.HEADER)})}},{key:"onSearchStoreUpdate",value:function(e){var t=e.lastResponse,i=hm.sanitizeSearchResponseResults(t.results),n=this.state.isMobile&&0!==t.meta.offset?this.state.results.concat(i):i;this.state.isMobile&&20==t.results.length&&this.state.currentPage!=t.meta.total_results%20&&n.push(this.getAskAQuestionCalloutJSX.bind(this,"mimicRegularSnippet hideInTablet hideInDesktop")),e.trigger==Yc.RELOAD&&this.syncFilterStoreState(t.meta.filters);var r=[];null!==t&&(r=this.state.isMobile&&this.state.searchResponse.meta.parent_search_id===t.meta.parent_search_id?t.callout_results instanceof Array&&t.callout_results.length>0?t.callout_results:this.state.callouts:t.callout_results),this.setState({query:t.meta.user_query,results:n,searchResponse:t,callouts:r,selectedFilters:t.meta.filters,sortBy:t.meta.sort,numPages:Math.min(Math.ceil(t.meta.total_results/t.meta.limit),100),currentPage:Math.max(1,Math.ceil(t.meta.offset/t.meta.limit)+1)}),this.dispatchSearchParamsChangedEvent(t.meta.user_query,t.meta.filters),e.trigger!=Yc.RELOAD&&this.changeHistoryState(t.meta.search_id,t.meta.search_key,window.history.state&&window.history.state.search_id)}},{key:"onUserStoreUpdate",value:function(){this.setState({userDetails:Ou.getUserDetails()})}},{key:"onFilterToggle",value:function(e){e.preventDefault(),$(window).trigger("_ch.search.filter.toggle_view")}},{key:"onUpdateFilter",value:function(e,t){var i=this,n=this.state.selectedFilters;n[t]=e,this.setState({selectedFilters:n,currentPage:1},function(){i.dispatchSearchParamsChangedEvent(i.state.query,n),i.doSearch(Yc.FILTER)})}},{key:"onUpdateSortBy",value:function(e){var t=this;this.setState({sortBy:e,currentPage:1},function(){return t.doSearch(Yc.SORT)})}},{key:"onPrev",value:function(){this.onPage(this.state.currentPage-1)}},{key:"onNext",value:function(){this.onPage(this.state.currentPage+1)}},{key:"onPage",value:function(e){var t=this;e>this.state.numPages||e<1||(this.setState({currentPage:e},function(){return t.doSearch(Yc.PAGINATION)}),this.state.isMobile||dm.scrollToTop())}},{key:"onResize",value:function(){this.setState({isMobile:window.innerWidth<=Ba.PHONE_MAX})}},{key:"onScroll",value:function(e){!this.currentRequest&&this.state.isMobile&&this.state.canScrollResults&&(window.scrollY+window.innerHeight>=document.body.offsetHeight-(document.getElementById("ch-footer").offsetHeight+800)&&this.onNext())}},{key:"onResultsScrollableChange",value:function(e){this.setState({canScrollResults:e})}},{key:"getAskAQuestionCalloutJSX",value:function(e){var t=this.state.userDetails,i=!t||!t.userId||t.tutorQuestions>0,n=i?"Ask our tutors a study question, on us.":"Ask our tutors a study question.",a=i?"* Expires 30 days after account creation":null,o=i?"Get Free Homework Help*":"Get Homework Help";return r.createElement(Zl,{tagline:n,finePrint:a,buttonText:o,wrapperClass:e,isEducator:this.props.isEducator})}},{key:"dispatchSearchParamsChangedEvent",value:function(e,i){$(window).trigger(t.EVENT_SEARCH_PARAMS_CHANGED,[{query:e,selectedFilters:i}])}},{key:"changeHistoryState",value:function(e,t,i){var n={search_id:e,search_key:t},r="/search/results/".concat(e,"/").concat(t,"/");i?window.history.pushState(n,"",r):window.history.replaceState(n,"",r)}},{key:"syncFilterStoreState",value:function(e){if(Rl.resetAll(),e){if(e.course&&e.course.school_id&&e.course.school_name){var t={id:e.course.school_id,mainText:e.course.school_name,type:Ll.SCHOOL};Rl.setActiveFilter(t)}if(e.course&&e.course.course_id&&e.course.dept_acro&&e.course.course_num){var i={id:e.course.course_id,mainText:e.course.dept_acro+" "+e.course.course_num,type:Ll.COURSE};Rl.setActiveFilter(i)}if(e.subject&&e.subject.subject_id&&e.subject.subject_name){var n={id:e.subject.subject_id,mainText:e.subject.subject_name,type:Ll.SUBJECT};Rl.setActiveFilter(n)}}}},{key:"componentDidMount",value:function(){Ll.getActiveFilterIds(),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),window.addEventListener("popstate",this.onBrowserHistory),$(window).on(Ga,this.onQueryUpdate),this.dispatchSearchParamsChangedEvent(this.state.query,this.state.selectedFilters),this.onResize(),rl.listen(this.onSearchStoreUpdate),Ou.listen(Tu.events.UPDATE,this.onUserStoreUpdate),this.props.isLoggedIn&&rd.getUserDetails();var e=this.props.searchId,t=this.props.searchKey;e?(this.setState({loadingAll:!0}),this.doSearch(Yc.RELOAD,e,t),this.changeHistoryState(e,t,!1)):this.doSearch(this.props.searchTrigger)}},{key:"componentDidUpdate",value:function(e,t){var i=this;t.searchResponse.meta.search_id!==this.state.searchResponse.meta.search_id&&window.requestAnimationFrame(function(){_m.pageView({references:{search_id:i.state.searchResponse.meta.search_id}})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("popstate",this.onBrowserHistory),window.removeEventListener("resize",this.onResize),rl.ignore(this.onSearchStoreUpdate),Ou.ignore(Tu.events.UPDATE,this.onUserStoreUpdate),$(window).off(Ga)}},{key:"render",value:function(){var e,i,n,a,o=this.state.searchResponse;if(o&&o.meta&&!this.state.loadingResults?(e=o.meta.user_query,i=o.meta.total_results):(e=this.state.query,i=0),this.state.error)return r.createElement("div",{className:"container"},r.createElement("div",{className:"grid"},r.createElement(ec,{message:t.ERROR_MESSAGE})));a=this.state.loadingAll?r.createElement("div",{className:"filterLoader"},r.createElement("div",{className:"container"})):r.createElement(dc,{selectedFilters:this.state.selectedFilters,availableFilters:o.options.filters,selectedSortBy:this.state.sortBy,availableSortBy:o.options.sort,updateFilter:this.onUpdateFilter,updateSortBy:this.onUpdateSortBy,resetFilters:this.onResetFilters,isMobile:this.state.isMobile,onCanScrollResultsChange:this.onResultsScrollableChange}),n=r.createElement("div",{className:"grid _noBottom resultCount"},r.createElement("div",{className:"column12"},r.createElement(fc,{isMobile:this.state.isMobile,query:e,numResults:i,loading:this.state.loadingResults,onFilterClick:this.onFilterToggle})));var s=this.state.loadingAll||this.state.loadingResults?r.createElement(mm,{numLoaders:this.state.results.length>0?this.state.results.length:20}):null,l=this.state.loadingAll||this.state.loadingResults&&!this.state.isMobile?null:r.createElement(Xc,{results:this.state.results,callouts:this.state.callouts,isMobile:this.state.isMobile,query:e,loadingResults:this.state.loadingResults,coursesToHideTaxonomyLink:this.props.coursesToHideTaxonomyLink}),c=this.state.isMobile?null:r.createElement($c,{numPages:this.state.numPages,currentPage:this.state.currentPage,onPrev:this.onPrev,onNext:this.onNext,onPage:this.onPage}),u=null;this.allowGeolocationSearching()&&o&&o.meta&&o.meta.location&&(u=r.createElement(mc,{location:o.meta.location}));return" testGrid testGrid2"," squareSnippets",r.createElement("div",{className:" testGrid testGrid2"},a,r.createElement("div",{className:"container"},n,r.createElement("div",{className:"grid squareSnippets"},"",r.createElement("div",{className:"resultsContainer"},l,s)),r.createElement("div",{className:"grid _spaceAround"},r.createElement("div",{className:"column10 isCenterAligned"},this.getAskAQuestionCalloutJSX())),r.createElement("div",{className:"column6 isCenterAligned"},c,u)))}}]),t}(v),ym.ERROR_MESSAGE="We're sorry for the inconvenience. Please update your search or try again later.",ym.EVENT_SEARCH_PARAMS_CHANGED="_ch_search_params_changed",vm=Sm,Za()(vm.prototype,"onScroll",[bm],Object.getOwnPropertyDescriptor(vm.prototype,"onScroll"),vm.prototype),vm);!function(e){e.NEW_HOME="new_home_sw",e.OLD_HEADER="old_header_sw",e.NEW_HEADER="new_header_sw"}(Em||(Em={}));var Tm=Em,Cm=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).containerRef=r.createRef(),i.inputRef=r.createRef(),i.state={queryString:"",initialQueryString:"",schoolQueryString:"",isLoading:!1,selectedSuggestion:null,selectedSchool:null,isExpanded:!!i.props.isExpanded&&i.props.isExpanded,areSuggestionsVisible:!1,containerClassName:"",searchBarClassName:"",autocompleteSuggestions:[],recentSearchSuggestions:[],suggestionHeader:null},i.onSuggestionStoreUpdate=i.onSuggestionStoreUpdate.bind(f()(i)),i.handleSearchBarChange=i.handleSearchBarChange.bind(f()(i)),i.handleSearchBarFocus=i.handleSearchBarFocus.bind(f()(i)),i.clickListener=i.clickListener.bind(f()(i)),i.onBlur=i.onBlur.bind(f()(i)),i.handleFocusChange=i.handleFocusChange.bind(f()(i)),i.collapseWidget=i.collapseWidget.bind(f()(i)),i.handleWindowResize=i.handleWindowResize.bind(f()(i)),i.handleButtonSubmit=i.handleButtonSubmit.bind(f()(i)),i.search=i.search.bind(f()(i)),i.handleKeyDown=i.handleKeyDown.bind(f()(i)),i.autocompleteWithSelectedSuggestion=i.autocompleteWithSelectedSuggestion.bind(f()(i)),i.clearQueryString=i.clearQueryString.bind(f()(i)),i.handleSchoolSearchBarChange=i.handleSchoolSearchBarChange.bind(f()(i)),i.handleSchoolSelect=i.handleSchoolSelect.bind(f()(i)),i.handleSuggestionSelect=i.handleSuggestionSelect.bind(f()(i)),i.onSearchResultsPageSearchParamsChanged=i.onSearchResultsPageSearchParamsChanged.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;ol.listen(this.onSuggestionStoreUpdate),document.addEventListener("mousedown",this.clickListener,!0),document.addEventListener("touchstart",this.clickListener,!0),window.addEventListener("resize",this.handleWindowResize,!0),$(window).on(t.EVENT_FOCUS,function(){return e.handleSearchBarFocus(void 0,!0)}),$(window).on(wm.EVENT_SEARCH_PARAMS_CHANGED,this.onSearchResultsPageSearchParamsChanged);var i=localStorage.getItem("".concat("ch-recentSearches-").concat(this.props.userId||"loggedOut")),n=i?ol.sanitizeJSONSuggestions(i):[];n.length>0&&Qa(n)}},{key:"componentDidUpdate",value:function(e,t){!1===this.props.isExpanded&&!1!==e.isExpanded&&this.collapseWidget(),this.inputRef.current&&(!t.isExpanded&&this.state.isExpanded?this.inputRef.current.focus():t.isExpanded&&!this.state.isExpanded&&this.inputRef.current.blur())}},{key:"componentWillUnmount",value:function(){ol.ignore(this.onSuggestionStoreUpdate),document.removeEventListener("mousedown",this.clickListener,!0),document.removeEventListener("touchstart",this.clickListener,!0),window.removeEventListener("resize",this.handleWindowResize,!0),$(window).off(t.EVENT_FOCUS),$(window).off(wm.EVENT_SEARCH_PARAMS_CHANGED)}},{key:"onSuggestionStoreUpdate",value:function(e){this.setState({recentSearchSuggestions:e.defaultSuggestions})}},{key:"handleSearchBarChange",value:function(e){var t=this,i=e.target.value,n=this.state.queryString,r={queryString:i,initialQueryString:i,selectedSuggestion:null};this.setState(r);var a=i.trim();a&&a!==n.trim()&&kl.fetchAutocompleteSuggestions(a,function(e){t.setState({autocompleteSuggestions:ol.sanitizeAutocompleteSuggestions(e)})},function(){})}},{key:"handleSchoolSearchBarChange",value:function(e){this.setState({schoolQueryString:e})}},{key:"handleSearchBarFocus",value:function(e,i){if($(window).width()<=Ba.PHONE_MAX&&this.props.className==Tm.NEW_HOME)i||$(window).trigger(t.EVENT_FOCUS);else{var n={areSuggestionsVisible:!0};this.state.isExpanded?this.setState(n):(n.isExpanded=!0,n.containerClassName="shouldExpand",n.searchBarClassName="shouldShrink",this.setState(n),this.track("Expanded"),this.props.onExpand&&this.props.onExpand())}}},{key:"clickListener",value:function(e){this.handleFocusChange(e.target)}},{key:"onBlur",value:function(e){this.handleFocusChange(e.relatedTarget)}},{key:"handleFocusChange",value:function(e){this.state.isExpanded&&e&&(this.containerRef.current&&this.containerRef.current.contains(e)?0==$(e).closest(".sw_search_bar").length&&0==$(e).closest(".sw_suggestions_container").length&&this.setState({areSuggestionsVisible:!1}):this.collapseWidget())}},{key:"collapseWidget",value:function(){this.setState({isExpanded:!1,containerClassName:"",searchBarClassName:"",areSuggestionsVisible:!1,selectedSuggestion:null}),this.props.onCollapse&&this.props.onCollapse()}},{key:"handleWindowResize",value:function(e){$(window).width()<=Ba.PHONE_MAX&&this.props.className==Tm.NEW_HOME&&this.collapseWidget(),this.props.onWindowResize&&this.props.onWindowResize(this.state.isExpanded)}},{key:"handleButtonSubmit",value:function(e){this.search()}},{key:"search",value:function(e,t){var i=t||this.state.selectedSuggestion,n=e||this.state.selectedSchool,r=0===window.location.pathname.indexOf("/search/results/");if(this.state.queryString.trim()||i){var a={areSuggestionsVisible:!1,queryString:this.state.queryString,schoolQueryString:this.state.schoolQueryString};i&&(a.queryString=i.text),n&&(a.schoolQueryString=n.mainText||""),r||(a.isLoading=!0),this.setState(a);var o=this.state.queryString;if(i&&(o=i.text),this.saveRecentSearch(o),/\/payment\/success/.test(window.location.pathname)&&this.track("Payment Success Search Performed",{Query:this.state.queryString}),r){var s=null;this.state.initialQueryString.trim()&&i&&(s={initial_query:this.state.initialQueryString,search_suggestion_id:i.id,suggestion_source:i.source,suggestion_position:i.position,referrer:window.location.pathname},s=rl.sanitizeSuggestionData(s)),$(window).trigger(Ga,[{queryString:a.queryString,school:n,suggestion:s}]),this.collapseWidget()}else window.location.href=this.getSearchUrl(o,n,i)}}},{key:"saveRecentSearch",value:function(e){var t=e.trim(),i=[t].concat(qa()(this.state.recentSearchSuggestions.filter(function(e){return e.text!==t}).map(function(e){return e.text}).slice(0,5))),n=JSON.stringify(i),r="".concat("ch-recentSearches-").concat(this.props.userId||"loggedOut");localStorage.setItem(r,n),Qa(i.map(function(e,t){return ol.sanitizeSuggestion({id:t,text:e})}))}},{key:"getSearchUrl",value:function(e,t,i){var n="all",r=document.location.pathname;-1===r.indexOf("/homework-help/")&&-1===r.indexOf("/tutor-problems/")||(n="question"),-1!==r.indexOf("/file/")&&(n="document");var a=this.props.className==Tm.NEW_HOME?Yc.HOMEPAGE:Yc.HEADER,o="/search/results/?stx="+encodeURIComponent(e)+"&filters_product="+n+"&searchTrigger="+a;return this.state.initialQueryString.trim()&&i&&(o+="&source="+i.source+"&initial_query="+encodeURIComponent(this.state.initialQueryString)+"&search_suggestion_id="+i.id+"&position="+i.position+"&referrer="+window.location.pathname+"&is_autocomplete=1"),t&&t.id>0&&t.mainText&&(o+="&school_id=".concat(t.id,"&school_name=").concat(encodeURIComponent(t.mainText))),o}},{key:"handleKeyDown",value:function(e){switch(e.keyCode||e.which){case Hl.TAB:if(this.state.selectedSuggestion&&this.state.selectedSuggestion.text!=this.state.queryString){e.preventDefault(),this.autocompleteWithSelectedSuggestion();break}this.setState({areSuggestionsVisible:!1});break;case Hl.RIGHT_ARROW:this.autocompleteWithSelectedSuggestion();break;case Hl.ENTER:this.search();break;case Hl.ESC:this.state.queryString?this.clearQueryString():this.collapseWidget();break;case Hl.DOWN_ARROW:this.selectNextSuggestion();break;case Hl.UP_ARROW:e.preventDefault(),this.selectPrevSuggestion()}}},{key:"autocompleteWithSelectedSuggestion",value:function(){this.state.selectedSuggestion&&this.setState({queryString:this.state.selectedSuggestion.text})}},{key:"clearQueryString",value:function(){this.setState({queryString:"",initialQueryString:"",selectedSuggestion:null})}},{key:"handleSchoolSelect",value:function(e){var t=e&&e.id>0?e:null;this.setState({selectedSchool:t}),e&&this.search(e)}},{key:"handleSuggestionSelect",value:function(e){this.setState({selectedSuggestion:e}),this.search(void 0,e)}},{key:"onSearchResultsPageSearchParamsChanged",value:function(e,t){var i=t.selectedFilters,n=null;i&&i.course&&i.course.school_id&&i.course.school_name&&(n={id:i.course.school_id,mainText:i.course.school_name,type:Ll.SCHOOL}),this.setState({queryString:t.query,selectedSchool:n})}},{key:"getSuggestions",value:function(){return 0==this.state.queryString.length?this.state.recentSearchSuggestions.length>0?this.state.recentSearchSuggestions:t.STARTING_SUGGESTIONS:this.state.autocompleteSuggestions}},{key:"getSuggestionsHeader",value:function(){var e=this.getSuggestions();return e==this.state.autocompleteSuggestions?null:e==this.state.recentSearchSuggestions?r.createElement("h6",null,"RECENT SEARCHES"):e==t.STARTING_SUGGESTIONS?r.createElement("h6",null,"EXAMPLE SEARCHES"):null}},{key:"getSuggestionsFooter",value:function(){var e=this;if(this.props.showAskQuestionOption)return r.createElement("div",{className:"sw_suggestions_footer","data-cha-target-name":"ask_question_from_search_option","data-cha-action-target-type":"search_suggestions","data-cha-action-type":"click",onClick:function(){e.track("Ask Question Option Click",{query:e.state.queryString});var t="sw=1";e.state.queryString&&(t+="&stx=".concat(encodeURIComponent(e.state.queryString))),window.location.href="/tutors/homework-help/?".concat(t)}},r.createElement("div",{className:"suggestion"},r.createElement("i",{className:"chi-message-add"}),"Ask our tutors a study question"))}},{key:"selectNextSuggestion",value:function(){var e,t,i=this.getSuggestions(),n=this.state.selectedSuggestion,r=i.map(function(e){return e.id});t=n?(e=r.indexOf(n.id))==i.length-1?n:i[e+1]:i[0],this.setState({selectedSuggestion:t})}},{key:"selectPrevSuggestion",value:function(){var e,t=this.state.selectedSuggestion,i=this.getSuggestions(),n=i.map(function(e){return e.id});e=t&&0!=i.length&&t.id!=i[0].id?i[n.indexOf(t.id)-1]:null,this.setState({selectedSuggestion:e})}},{key:"track",value:function(e,t){pl.trackEvent("[Search Widget] ".concat(e),t)}},{key:"render",value:function(){var e,t,i,n=this,a=r.createElement("i",{className:"chi-university sw_icon sw_university_icon"});if(this.state.isExpanded){var o=this.state.isLoading?"chi-loading":"chi-search-filled";i=r.createElement(Nl,{className:"mobile_sw_cancel_search_button",label:"Cancel",onClick:this.collapseWidget}),e=r.createElement("span",{className:"sw_school_dropdown"},r.createElement(Vl,{defaultSchoolFilter:this.state.selectedSchool,updateWithFullFilter:!0,placeholder:"All Schools",activePlaceholder:"Enter school name",useAutoCompleteIcon:!1,handleUpdate:this.handleSchoolSelect,handleChange:this.handleSchoolSearchBarChange,showDefaultInDropdown:!0,dropdownLimit:5,iconLeft:a,onEscapeSearch:this.collapseWidget,shouldFindNearbySchools:this.props.shouldFindNearbySchools})),t=r.createElement(Nl,{className:"sw_search_button",label:"",icon:o,onClick:this.handleButtonSubmit,onBlur:this.onBlur})}var s="sw_search_widget_container ".concat(this.props.className," ").concat(this.state.containerClassName);return r.createElement("div",{ref:this.containerRef,className:s},i,r.createElement("div",{className:"sw_search_bar_wrapper"},r.createElement(Nl,{className:"mobile_sw_start_search_button",label:"",icon:"chi-search",onClick:function(){n.inputRef.current&&n.inputRef.current.focus()}}),r.createElement(Jl,{queryString:this.state.queryString,isLoading:this.state.isLoading,onTextChange:this.handleSearchBarChange,searchBarClassName:this.state.searchBarClassName,inputClassName:this.state.areSuggestionsVisible?"hasDropdown":"",onFocus:this.handleSearchBarFocus,onBlur:this.onBlur,onKeyDown:this.handleKeyDown,placeholderText:this.props.searchBarPlaceholder,userId:this.props.userId,onSuggestionSelect:this.handleSuggestionSelect,isExpanded:this.state.isExpanded,areSuggestionsVisible:this.state.areSuggestionsVisible,selectedSuggestion:this.state.selectedSuggestion,suggestions:this.getSuggestions(),suggestionHeader:this.getSuggestionsHeader(),suggestionFooter:this.getSuggestionsFooter(),inputRef:this.inputRef}),e,t))}}]),t}(v);Cm.STARTING_SUGGESTIONS=[{id:0,text:"BIO 101 Class Notes",position:0,source:"default"},{id:1,text:"Microeconomics Practice Questions",position:1,source:"default"},{id:2,text:"Organizational Behavior Case Study",position:2,source:"default"}],Cm.EVENT_FOCUS="search_widget:focus";var km=Cm,Om=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).state={isExpanded:!1,searchBarPlaceholder:i.determinePlaceholder(!1)},i.handleSearchWidgetExpand=i.handleSearchWidgetExpand.bind(f()(i)),i.handleSearchWidgetCollapse=i.handleSearchWidgetCollapse.bind(f()(i)),i.handleWindowResize=i.handleWindowResize.bind(f()(i)),i.handleWindowScroll=i.handleWindowScroll.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleWindowScroll,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleWindowScroll,!0)}},{key:"handleSearchWidgetExpand",value:function(){$("#ch-header").addClass("isSearchActive"),$("body").prepend('<div class="sw_overlay"></div>').addClass("disableScroll"),this.handleWindowResize(!0)}},{key:"handleSearchWidgetCollapse",value:function(){$("#ch-header").removeClass("isSearchActive"),$("body").removeClass("disableScroll"),$(".sw_overlay").remove(),this.handleWindowResize(!1)}},{key:"handleWindowScroll",value:function(e){$(window).scrollTop()>=30?$("#ch-header").addClass("searchExpand"):$("#ch-header").removeClass("searchExpand")}},{key:"determinePlaceholder",value:function(e){return this.props.type==Tm.NEW_HEADER&&$(".hp_search_wrapper").width()<=t.MIN_WIDTH_SEARCH_BAR&&!e?this.props.shortPlaceholder:this.props.longPlaceholder}},{key:"handleWindowResize",value:function(e){if(this.setState({searchBarPlaceholder:this.determinePlaceholder(e)}),this.props.type==Tm.NEW_HEADER){if($(window).width()>Ba.PHONE_MAX&&e)return void $("#ch-header .hp_search_container").css("width",$("#ch-header").outerWidth()-$("#ch_headerLogo_action").outerWidth());$("#ch-header .hp_search_container").css("width","")}}},{key:"render",value:function(){return r.createElement(km,{className:this.props.type,userId:this.props.userId,onExpand:this.handleSearchWidgetExpand,onCollapse:this.handleSearchWidgetCollapse,onWindowResize:this.handleWindowResize,isExpanded:this.state.isExpanded,shouldFindNearbySchools:this.props.shouldFindNearbySchools,searchBarPlaceholder:this.state.searchBarPlaceholder,showAskQuestionOption:this.props.showAskQuestionOption})}}]),t}(v);Om.MIN_WIDTH_SEARCH_BAR=245;var Am,Nm=Om,Dm=$("[data-search-widget]").toArray(),xm=Array.isArray(Dm),Rm=0;for(Dm=xm?Dm:Dm[Symbol.iterator]();;){var Um;if(xm){if(Rm>=Dm.length)break;Um=Dm[Rm++]}else{if((Rm=Dm.next()).done)break;Um=Rm.value}var Im=Um,Fm=Im.dataset.type,zm=!!!parseInt(Im.dataset.isEducator),Pm=void 0,Lm=void 0,jm=void 0,Mm=void 0;switch(Am=Im.dataset.userId,!0,Fm){case Tm.OLD_HEADER:case Tm.NEW_HEADER:jm="Search",Mm="Find study resources",Pm=r.createElement(Nm,{userId:Am,type:Fm,shortPlaceholder:jm,longPlaceholder:Mm,shouldFindNearbySchools:!0,showAskQuestionOption:zm});break;case Tm.NEW_HOME:Lm="Find study guides, class notes and more.",Pm=r.createElement(km,{userId:Am,className:Fm,searchBarPlaceholder:Lm,shouldFindNearbySchools:!0,showAskQuestionOption:zm})}a.render(Pm,Im)}}]);!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=window.BeefFlux},function(e,t){e.exports=function(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}},function(e,t){e.exports=function(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}},function(e,t){e.exports=window.React},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var i=n(16),r=n(0);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var i=n(17);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=window.moment},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(18))},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=i=function(e){return n(e)}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i(t)}e.exports=i},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var i=n(4),r=n(14),o=n(5),a=n.n(o),s=n(9),c=n.n(s),u=n(6),l=n.n(u),d=n(7),h=n.n(d),p=n(0),m=n.n(p),b=n(8),f=n.n(b),g=function(e){function t(){return a()(this,t),l()(this,h()(t).apply(this,arguments))}return f()(t,e),c()(t,[{key:"getClassName",value:function(e){var t="";for(var n in e)t+=e[n]?" "+n:"";return t}}]),t}(i.Component),v=n(12),y=n.n(v),E=function(e){var t,n,r=e.disabledClass?e.disabledClass:"disabled",o=e.className,a=e.href,s=e.icon,c=e.id,u=e.label,l=e.onClick,d=e.tooltipText,h=e.tooltipClass,p=e.isHodorTooltip,m=e.disabled,b=e.iconPosition,f=e.onBlur;o+=m?" ".concat(r):"",s&&(t=i.createElement("i",{className:s,"aria-hidden":"true"})),d&&(n=p?i.createElement("span",{className:h||"","data-tooltip":d}):i.createElement("span",{className:h||""},d));return i.createElement("a",y()({id:c,href:a||"javascript:void(0)",className:o,onClick:function(e){l&&!m&&l(e)},onBlur:f},e.chAnalyticsData),b&&"left"!==b?null:t,u,b&&"right"===b?t:null,n)};var _=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e},S=n(15),C="object"==typeof self&&self&&self.Object===Object&&self,O=(S.a||C||Function("return this")()).Symbol;var w=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r},T=Array.isArray,D=Object.prototype,U=D.hasOwnProperty,k=D.toString,A=O?O.toStringTag:void 0;var N=function(e){var t=U.call(e,A),n=e[A];try{e[A]=void 0;var i=!0}catch(e){}var r=k.call(e);return i&&(t?e[A]=n:delete e[A]),r},I=Object.prototype.toString;var x=function(e){return I.call(e)},R="[object Null]",z="[object Undefined]",j=O?O.toStringTag:void 0;var L=function(e){return null==e?void 0===e?z:R:j&&j in Object(e)?N(e):x(e)};var P=function(e){return null!=e&&"object"==typeof e},H="[object Symbol]";var B=function(e){return"symbol"==typeof e||P(e)&&L(e)==H},G=1/0,M=O?O.prototype:void 0,Q=M?M.toString:void 0;var q=function e(t){if("string"==typeof t)return t;if(T(t))return w(t,e)+"";if(B(t))return Q?Q.call(t):"";var n=t+"";return"0"==n&&1/t==-G?"-0":n};var Y=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},V=NaN,F=/^\s+|\s+$/g,X=/^[-+]0x[0-9a-f]+$/i,K=/^0b[01]+$/i,W=/^0o[0-7]+$/i,Z=parseInt;var J=function(e){if("number"==typeof e)return e;if(B(e))return V;if(Y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(F,"");var n=K.test(e);return n||W.test(e)?Z(e.slice(2),n?2:8):X.test(e)?V:+e},ee=1/0,te=17976931348623157e292;var ne=function(e){return e?(e=J(e))===ee||e===-ee?(e<0?-1:1)*te:e==e?e:0:0===e?e:0};var ie=function(e){var t=ne(e),n=t%1;return t==t?n?t-n:t:0};var re=function(e){return null==e?"":q(e)};var oe=function(e,t,n){return e=re(e),n=null==n?0:_(ie(n),0,e.length),t=q(t),e.slice(n,n+t.length)==t},ae=n(11),se=n.n(ae);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var le,de=window.dataLayer,he=window.amplitude,pe=window.tracker,me=function(){function e(){a()(this,e)}return c()(e,null,[{key:"trackEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;void 0!==de&&(void 0!==pe&&pe.super_properties instanceof Object&&(t=ue({},pe.super_properties,{},t)),n&&(t.page_type=pe.get_page_type()),de.push({event:"User Tracking Event",user_tracking_properties:{eventName:e,properties:t},_clear:!0}))}},{key:"setUserProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0!==he&&he.getInstance().setUserProperties(e)}}]),e}();!function(e){e.TAB="tab",e.BTN="buttonName"}(le||(le={}));var be,fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={};r[e]=t,0!==n&&(r[e]="courseUrl",r.courseId=n);var o=new RegExp("/home/"),a=o.test(window.location.href)?"on dashboard":"on other page";r.dashboard=a,r.referringUrl=window.location.href;var s=i?"[Educator] ":"";me.trackEvent("".concat(s,"Left Navigation Click"),r)},ge=function(e){function t(e){var n;return a()(this,t),(n=l()(this,h()(t).call(this,e))).state={showOptions:!1},n.toggleShowOptions=n.toggleShowOptions.bind(m()(n)),n.handleSelect=n.handleSelect.bind(m()(n)),n.handleDropdownBlur=n.handleDropdownBlur.bind(m()(n)),n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleDropdownBlur)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleDropdownBlur)}},{key:"handleDropdownBlur",value:function(e){e&&$(e.target).closest($(".".concat(this.props.containerClassName))).length>0||!this.state.showOptions||this.setState({showOptions:!1})}},{key:"toggleShowOptions",value:function(){this.setState({showOptions:!this.state.showOptions})}},{key:"handleSelect",value:function(e){this.toggleShowOptions(),this.props.handleSelect(e)}},{key:"render",value:function(){var e=this,t=this.props.optionMenuClassName?"".concat(this.props.optionMenuClassName," ").concat("buttonDropdownMenu"):"buttonDropdownMenu";t="".concat(t," ").concat(this.state.showOptions?"isShown":"");var n=this.props.containerClassName?"".concat(this.props.containerClassName," ").concat("buttonDropdown"):"buttonDropdown",r=this.props.options.map(function(t,n){return i.createElement("a",y()({key:n,className:e.props.optionClassName,href:"javascript:void(0)",onClick:e.handleSelect.bind(null,t)},t.chAnalyticsData),t.displayText)}),o=null,a=this.props.btnText?i.createElement("span",null,this.props.btnText):null,s=null;if(this.props.iconClass){var c="".concat(this.props.iconClass," ").concat(this.state.showOptions?"isShown":"");s=i.createElement("i",{className:c})}return(this.props.iconClass||this.props.btnText)&&(o=i.createElement("a",y()({href:"javascript:void(0)",onClick:this.toggleShowOptions,className:this.props.btnClassName},this.props.menuOpenChAnalyticsData),a,s)),i.createElement("div",{className:n},o,i.createElement("div",{className:t},r))}}]),t}(g),ve=function(e){function t(e){return a()(this,t),l()(this,h()(t).call(this,e))}return f()(t,e),c()(t,[{key:"createDropDown",value:function(){return i.createElement(ge,y()({},this.props,{containerClassName:"actionDropdown",iconClass:"chi-ellipse-vertical actionDropdownIcon"}))}},{key:"render",value:function(){return this.createDropDown()}}]),t}(g);!function(e){e.Archive="Archive",e.Unarchive="Unarchive",e.Remove="Remove"}(be||(be={}));var ye=function(e){function t(e){var n;return a()(this,t),(n=l()(this,h()(t).call(this,e))).state={isCourseListExpanded:!1},n.toggleCourseListExpand=n.toggleCourseListExpand.bind(m()(n)),n.changeHash=n.changeHash.bind(m()(n)),n.onHashChange=n.onHashChange.bind(m()(n)),n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.addEventListener("hashchange",this.onHashChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.onHashChange)}},{key:"onHashChange",value:function(){this.forceUpdate()}},{key:"toggleCourseListExpand",value:function(){this.setState({isCourseListExpanded:!this.state.isCourseListExpanded})}},{key:"changeHash",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;fe(le.TAB,e,t,this.props.isEducator),window.location.pathname===this.props.homepageUrlPath?window.location.hash=e:window.location.href="".concat(this.props.homepageUrlPath,"#").concat(e)}},{key:"isTabActive",value:function(e){return oe(window.location.hash,e,1)}},{key:"isUrlActive",value:function(e){return window.location.href.indexOf(e)>=0}},{key:"render",value:function(){var e=this,n=Array.isArray(this.props.courses)?this.props.courses.filter(function(t){return!t.isUserArchived&&!e.props.coursesToHideTaxonomyLink.includes(t.id)}):[],r=n.length,o=null,a=null,s=null,c=null,u=this.props.isEducator;if(r||u){this.state.isCourseListExpanded||(n=n.slice(0,5));var l=n.map(function(t,n){var r=u?"/library/".concat(t.folderId,"/my-uploads/"):t.url,o=u&&e.isUrlActive("/library/".concat(t.folderId,"/"))?"active":"",a={"data-cha-target-name":"remove_course_btn","data-cha-action-type":"remove","data-cha-action-target-type":"course","data-cha-action-target-id":t.id,"data-cha-location":"left_sidebar"},s=[{displayText:be.Remove,optionValue:be.Remove,chAnalyticsData:a}];return i.createElement("li",{key:n,className:"".concat("clickable"," ").concat(o),onClick:function(){u?e.changeHash(r,t.id):(fe(le.TAB,t.url,t.id),window.location.href=t.url)},"data-cha-target-name":"course_link","data-cha-location":e.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":r},i.createElement("div",{className:"".concat("shouldTruncateText")},t.title),e.props.isEducator&&e.props.onCourseActionClick&&i.createElement("div",{className:"eduCourseDropdown",onClick:function(e){e.stopPropagation()}},i.createElement(ve,{options:s,handleSelect:function(n){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={name:e,action:t};0!==n&&(r.courseId=n);var o=i?"[Educator] ":"";me.trackEvent("".concat(o,"Dashboard - Course Click"),r)}("Course List Hamburger Dots",n.optionValue.toLowerCase(),t.id,e.props.isEducator),e.props.onCourseActionClick(t,n.optionValue)}})))});if(a=i.createElement("ul",{className:"courseList"},l,u&&i.createElement("li",{className:"uncategorized ".concat("clickable"," ").concat(this.isUrlActive(t.UNCATEGORIZED_HASH)?"active":""),onClick:function(){e.changeHash(t.UNCATEGORIZED_HASH)},"data-cha-target-name":"uncategorized_link","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":t.UNCATEGORIZED_HASH},i.createElement("div",{className:"".concat("shouldTruncateText")},"Uncategorized"),this.props.isEducator&&this.props.uncategorizedContentCount>0&&i.createElement("div",{className:"importantTotal"},this.props.uncategorizedContentCount))),r>n.length||this.state.isCourseListExpanded){var d=this.state.isCourseListExpanded?"Show less":"Show all";s=i.createElement("li",null,i.createElement(E,{className:"courseListToggle",label:d,onClick:function(){fe(le.BTN,d,0,e.props.isEducator),e.toggleCourseListExpand()},chAnalyticsData:{"data-cha-target-name":"show_more_courses_button","data-cha-action-type":this.state.isCourseListExpanded?"collapse":"expand","data-cha-action-target-type":"course_list","data-cha-location":this.props.chaLocation}}))}}this.props.onClickAddCourseBtn&&(c=i.createElement(E,{className:"navIconRight",icon:"chi-add-circle",tooltipText:"Add a Course",tooltipClass:"isTooltip tooltip-top normalTooltip",isHodorTooltip:!0,onClick:function(t){fe(le.BTN,"Add Course Icon",0,e.props.isEducator),e.props.onClickAddCourseBtn(t)},chAnalyticsData:{"data-cha-target-name":"add_course_btn","data-cha-location":"left_sidebar","data-cha-action-type":"attempt_to_add","data-cha-action-target-type":"new_course"}})),(n&&n.length>0||c)&&(o=i.createElement("li",{className:"".concat("main")},i.createElement("i",{className:"navIcon chi-course-title"}),"My Courses",c,u&&this.props.firstCourse&&i.createElement("span",{className:"addCourseTooltip"},i.createElement("div",{className:"toolTipText"},"Your course has been added! You can keep adding courses by using the + button."),i.createElement("a",{className:"closeToolTip",onClick:this.props.unsetFirstCourse},"Got it!"))));var h=null;return this.props.showUploadTooltip&&(h=i.createElement("div",{className:"navIconRight"},i.createElement("i",{className:"chi-infomation-circle isUpload"}),i.createElement("span",{className:"isTooltip tooltip-top normalTooltip textAlignLeft","data-tooltip":"Unlock free access to study documents or tutoring by sharing your own study resources with the Course Hero community."}))),i.createElement("div",{className:"ndbNavMenu"},i.createElement("ul",null,i.createElement("li",{className:"".concat("main"," ").concat("clickable").concat(this.isTabActive(t.HOME_HASH)?" active":""),onClick:function(){return e.changeHash(t.HOME_HASH)},"data-cha-target-name":"home_btn","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":"/home/#/home/"},i.createElement("i",{className:"navIcon chi-home"}),this.props.homepageLabel),o),a,i.createElement("ul",null,s,!u&&i.createElement("li",{className:"".concat("main"," ").concat("clickable").concat(this.isTabActive(t.LIBRARY_HASH)?" active":""),onClick:function(){return e.changeHash("/library/my-unlocks/")},"data-cha-target-name":"library_btn","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":"/home/#/library/my-unlocks/"},i.createElement("i",{className:"navIcon chi-books"}),"My Library"),this.props.showUpload&&i.createElement("li",{className:"".concat("main"," ").concat("clickable"," isLink").concat(this.isUrlActive(t.UPLOAD_URL)?" active":""),onClick:function(){fe(le.BTN,"Upload"),window.location.href=t.UPLOAD_URL},"data-cha-target-name":"upload_btn","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":"/upload/"},i.createElement("i",{className:"navIcon chi-upload"}),"Upload",h)))}}]),t}(g);ye.HOME_HASH="/home/",ye.LIBRARY_HASH="/library/",ye.UNCATEGORIZED_HASH="/library/uncategorized",ye.UPLOAD_URL="/upload/",ye.HOME_LABEL_HOME="Home",ye.HOME_LABEL_STUDENT_DASHBOARD="Student Dashboard",ye.HOME_LABEL_EDUCATOR_DASHBOARD="Educator Dashboard";var Ee=ye,_e=window,Se=(_e.Action,_e.Actions,_e.ApiService),Ce=_e.Beef;_e.Dispatcher,_e.RoutingService,_e.Store;function Oe(){return Ce.start(),Ce.service(Se.SERVICE_ID)}var we,Te,De=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getMyCourses",value:function(){return Oe().get("/api/v1/users/me/library/folders/",{})}},{key:"archiveCourse",value:function(e){return Oe().post("/api/v1/users/{userId}/library/{folderId}/archive/",{userId:"me",folderId:e.id})}},{key:"unArchiveCourse",value:function(e){return Oe().delete("/api/v1/users/{userId}/library/{folderId}/archive/",{userId:"me",folderId:e.id})}}]),e}(),Ue=n(1),ke=n(13),Ae=function(){function e(){a()(this,e)}return c()(e,null,[{key:"define",value:function(e,t){var n="__CHG_"+e;return void 0!==window[n]?window[n]:window[n]=t()}}]),e}(),Ne=Ae.define("RECEIVE_COURSES",function(){return Ue.Actions.define("RECEIVE_COURSES",function(e){return e})}),Ie=Ae.define("ADD_COURSE",function(){return Ue.Actions.define("ADD_COURSE",function(e){return e.isNew=!0,e})}),xe=Ae.define("TOGGLE_ARCHIVE_COURSE",function(){return Ue.Actions.define("TOGGLE_ARCHIVE_COURSE",function(e){return e})}),Re=Ae.define("REMOVE_COURSE",function(){return Ue.Actions.define("REMOVE_COURSE",function(e){return e})});!function(e){e.ACCEPTED="accepted",e.DENIED="denied",e.RETAG_REQUIRED="retagRequired",e.UNDER_REVIEW="underReview",e.RETITLE_REQUIRED="retitleRequired",e.PROCESSING="processing"}(we||(we={})),function(e){e.GENERIC="generic",e.COPYRIGHT="copyright",e.PAGE_LENGTH="pageLength",e.SCAN_QUALITY="scanQuality",e.SPLIT_DOCS="splitDocs",e.DUPLICATE="duplicate"}(Te||(Te={}));we.ACCEPTED,we.ACCEPTED,we.DENIED,we.DENIED,we.DENIED,we.DENIED,we.RETAG_REQUIRED,we.RETITLE_REQUIRED;var ze,je,Le,Pe,He,Be,Ge,Me,Qe,qe,Ye,Ve,Fe,Xe,Ke,We,$e,Ze,Je,et,tt,nt,it,rt,ot,at,st,ct,ut,lt,dt,ht,pt,mt,bt,ft,gt,vt,yt,Et,_t,St,Ct,Ot,wt,Tt,Dt,Ut,kt,At,Nt,It,xt,Rt,zt,jt,Lt,Pt,Ht,Bt,Gt,Mt,Qt,qt,Yt,Vt,Ft,Xt,Kt,Wt,$t,Zt,Jt,en,tn,nn,rn,on,an,sn,cn,un,ln,dn,hn,pn,mn,bn,fn,gn,vn,yn,En,_n,Sn,Cn,On,wn,Tn,Dn,Un,kn,An,Nn,In,xn,Rn,zn,jn,Ln,Pn,Hn,Bn={1:we.PROCESSING,18:we.ACCEPTED,19:we.ACCEPTED,2:we.DENIED,7:we.DENIED,8:we.DENIED,20:we.DENIED,23:we.DENIED},Gn={201:Te.GENERIC,202:Te.COPYRIGHT,203:Te.PAGE_LENGTH,204:Te.SCAN_QUALITY,205:Te.SPLIT_DOCS,206:Te.DUPLICATE,207:we.DENIED,209:we.DENIED,210:we.DENIED},Mn=(we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,{accepted:{status:"Processed",className:"isSuccess"},denied:{status:"Denied",className:"isError"},generic:{status:"Denied: Generic",className:"isError"},copyright:{status:"Denied: Copyright",className:"isError"},pageLength:{status:"Denied: Page Length",className:"isError"},scanQuality:{status:"Denied: Scan Quality",className:"isError"},splitDocs:{status:"Denied: Split Docs",className:"isError"},duplicate:{status:"Denied: Duplicate",className:"isError"},retagRequired:{status:"Retag Required",className:"isWarning"},retitleRequired:{status:"Retitle Required",className:"isWarning"},underReview:{status:"Processing",className:"isWarning"}}),Qn=n(2),qn=n.n(Qn),Yn=n(3),Vn=n.n(Yn),Fn=(n(10),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,e),Object.assign(this,t)}),Xn=(ze=Ue.Schema.string(),He=Pe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"num",Le,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Pe.schema={},je=He,Le=Vn()(je.prototype,"num",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je),Kn=(Be=Ue.Schema.string(),Ge=Ue.Schema.string(),Me=Ue.Schema.int(),Xe=Fe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"title",qe,m()(e)),qn()(e,"url",Ye,m()(e)),qn()(e,"count",Ve,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Fe.schema={},Qe=Xe,qe=Vn()(Qe.prototype,"title",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=Vn()(Qe.prototype,"url",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=Vn()(Qe.prototype,"count",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe),Wn=(Ke=Ue.Schema.int(),We=Ue.Schema.string(),$e=Ue.Schema.string(),Ze=Ue.Schema.string(),Je=Ue.Schema.string(),et=Ue.Schema.string(),tt=Ue.Schema.string(),nt=Ue.Schema.int(),pt=ht=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"textbook_id",rt,m()(e)),qn()(e,"title",ot,m()(e)),qn()(e,"author",at,m()(e)),qn()(e,"cover_url",st,m()(e)),qn()(e,"edition_name",ct,m()(e)),qn()(e,"isbn",ut,m()(e)),qn()(e,"publisher",lt,m()(e)),qn()(e,"num_solutions",dt,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),ht.schema={},it=pt,rt=Vn()(it.prototype,"textbook_id",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=Vn()(it.prototype,"title",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=Vn()(it.prototype,"author",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=Vn()(it.prototype,"cover_url",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=Vn()(it.prototype,"edition_name",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=Vn()(it.prototype,"isbn",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=Vn()(it.prototype,"publisher",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=Vn()(it.prototype,"num_solutions",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it),$n=(mt=Ue.Schema.string(),bt=Ue.Schema.string(),Et=yt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"title",gt,m()(e)),qn()(e,"num",vt,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),yt.schema={},ft=Et,gt=Vn()(ft.prototype,"title",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=Vn()(ft.prototype,"num",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft),Zn=(_t=Ue.Schema.string(),wt=Ot=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"title",Ct,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Ot.schema={},St=wt,Ct=Vn()(St.prototype,"title",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St),Jn=(Tt=Ue.Schema.object({initial:function(){return{}},schema:function(){return Wn.schema},constructor:Wn}),Dt=Ue.Schema.int(),Ut=Ue.Schema.string(),kt=Ue.Schema.object({initial:function(){return{}},schema:function(){return Xn.schema},constructor:Xn}),At=Ue.Schema.object({initial:function(){return{}},schema:function(){return $n.schema},constructor:$n}),Nt=Ue.Schema.object({initial:function(){return{}},schema:function(){return Zn.schema},constructor:Zn}),It=Ue.Schema.string(),xt=Ue.Schema.string(),qt=Qt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"textbook",zt,m()(e)),qn()(e,"exercise_id",jt,m()(e)),qn()(e,"url",Lt,m()(e)),qn()(e,"chapter",Pt,m()(e)),qn()(e,"section",Ht,m()(e)),qn()(e,"heading",Bt,m()(e)),qn()(e,"exercise_num",Gt,m()(e)),qn()(e,"page",Mt,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Qt.schema={},Rt=qt,zt=Vn()(Rt.prototype,"textbook",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=Vn()(Rt.prototype,"exercise_id",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=Vn()(Rt.prototype,"url",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Vn()(Rt.prototype,"chapter",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=Vn()(Rt.prototype,"section",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=Vn()(Rt.prototype,"heading",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=Vn()(Rt.prototype,"exercise_num",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=Vn()(Rt.prototype,"page",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt),ei=(Yt=Ue.Schema.int(),Vt=Ue.Schema.string(),Ft=Ue.Schema.string(),Xt=Ue.Schema.string(),Kt=Ue.Schema.int(),Wt=Ue.Schema.int(),$t=Ue.Schema.string(),Zt=Ue.Schema.string(),Jt=Ue.Schema.string(),en=Ue.Schema.string(),tn=Ue.Schema.bool(),nn=Ue.Schema.bool(),rn=Ue.Schema.int(),on=Ue.Schema.string(),an=Ue.Schema.object(),sn=Ue.Schema.datetime(),cn=Ue.Schema.string(),un=Ue.Schema.int(),ln=Ue.Schema.string(),dn=Ue.Schema.array({schema:function(){return Kn.schema},constructor:Kn}),hn=Ue.Schema.object({schema:function(){return Wn.schema},constructor:Wn}),pn=Ue.Schema.object({schema:function(){return Jn.schema},constructor:Jn}),Pn=Ln=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"id",bn,m()(e)),qn()(e,"type",fn,m()(e)),qn()(e,"title",gn,m()(e)),qn()(e,"url",vn,m()(e)),qn()(e,"folderId",yn,m()(e)),qn()(e,"bookmarkId",En,m()(e)),qn()(e,"text",_n,m()(e)),qn()(e,"thumbnailUrl",Sn,m()(e)),qn()(e,"thumbnailText",Cn,m()(e)),qn()(e,"thumbnailFallbackUrl",On,m()(e)),qn()(e,"isUserArchived",wn,m()(e)),qn()(e,"isNew",Tn,m()(e)),qn()(e,"numViews",Dn,m()(e)),qn()(e,"status",Un,m()(e)),qn()(e,"taxonomy",kn,m()(e)),qn()(e,"date",An,m()(e)),qn()(e,"subType",Nn,m()(e)),qn()(e,"intelligent_uploader_document_id",In,m()(e)),qn()(e,"pendingUserAction",xn,m()(e)),qn()(e,"courseResourceData",Rn,m()(e)),qn()(e,"textbook",zn,m()(e)),qn()(e,"textbook_exercise",jn,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),c()(t,[{key:"getUniqueId",value:function(){return this.type+"-"+this.id}}]),t}(Fn),Ln.schema={},mn=Pn,bn=Vn()(mn.prototype,"id",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fn=Vn()(mn.prototype,"type",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=Vn()(mn.prototype,"title",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn=Vn()(mn.prototype,"url",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=Vn()(mn.prototype,"folderId",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=Vn()(mn.prototype,"bookmarkId",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_n=Vn()(mn.prototype,"text",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=Vn()(mn.prototype,"thumbnailUrl",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cn=Vn()(mn.prototype,"thumbnailText",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On=Vn()(mn.prototype,"thumbnailFallbackUrl",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn=Vn()(mn.prototype,"isUserArchived",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=Vn()(mn.prototype,"isNew",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=Vn()(mn.prototype,"numViews",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Un=Vn()(mn.prototype,"status",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kn=Vn()(mn.prototype,"taxonomy",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),An=Vn()(mn.prototype,"date",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn=Vn()(mn.prototype,"subType",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=Vn()(mn.prototype,"intelligent_uploader_document_id",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=Vn()(mn.prototype,"pendingUserAction",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rn=Vn()(mn.prototype,"courseResourceData",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=Vn()(mn.prototype,"textbook",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jn=Vn()(mn.prototype,"textbook_exercise",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn);!function(e){e.CONVERSION_QUEUE="conversionQueue",e.JOB="job",e.DOCUMENT="document",e.QUESTION="question",e.QA_THREAD="qa_thread",e.FLASHCARD="flashcard",e.FLASHCARDS="flashcards",e.BOOK="book",e.SOCIAL_SHARE="social_share",e.STUDY_GUIDE="study_guide",e.INFOGRAPHIC="infographic",e.EDU_INFOGRAPHIC="edu-infographic",e.BEST_LESSONS="best_lesson",e.PROFILE="profile",e.TUTOR="expert",e.ECOURSE_TYPE="e-course",e.ANSWER="answers",e.COURSE="course",e.COURSE_STUDYGUIDE="course_studyguide",e.LIT_STUDYGUIDE="lit_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.BOOKMARK="bookmark",e.ALL="all",e.TEXTBOOK_EXERCISE="textbook_exercise",e.TEXTBOOK="textbook"}(Hn||(Hn={}));var ti,ni=Hn,ii={BOOK:"book",COURSE:"course",DEPT:"dept",DOCUMENT:"document",DOCUMENT_TEXT:"document-text",DOCUMENT_IOS:"document_ios",ECOURSE:"ecourse",FLASHCARD:"flashcard",QUESTION:"question",SCHOOL:"school",SEARCH:"search",SPLIT:"split",SPLIT_ASSOCIATION:"split_assoc",STANDARDIZED_TEST:"standardized-test",LIT_STUDY_GUIDE:"study-guide",SUBJECT:"subject"},ri=function(){function e(){a()(this,e)}return c()(e,null,[{key:"determineDocumentStatus",value:function(e,t){if(!e)return null;var n=Bn[e];if(n==we.DENIED){if(t)return Mn[Gn[t]]?Mn[Gn[t]]:Mn[we.DENIED]}else if(void 0===n)return Mn[we.UNDER_REVIEW];return Mn[n]}},{key:"determineDocumentStatusFromStatusString",value:function(e){for(var t in Mn)if(Mn[t].status===e)return Mn[t];return null}}]),e}(),oi={DEFAULT_CONTENT_THUMBNAIL:"/assets/img/default_content_thumbnail.svg",DEFAULT_COURSE_THUMBNAIL:"/assets/img/courses/icons-standardized/Generic_Blue.svg"};!function(e){e.ANSWERED="Solved",e.PENDING="Solution Pending"}(ti||(ti={}));var ai,si=ti;!function(e){e.DOCUMENT="document",e.QUESTION="question",e.COURSE="course",e.COURSE_STUDY_GUIDE="course_studyguide",e.LIT_STUDY_GUIDE="lit_studyguide",e.COMBINED_STUDY_GUIDE="combined_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.VIDEO="video",e.EDUCATOR_CONTENT="educator_content",e.TEXTBOOK="textbook",e.TEXTBOOK_EXERCISE="textbook_exercise"}(ai||(ai={}));var ci,ui,li,di,hi,pi,mi,bi,fi,gi,vi,yi,Ei,_i,Si,Ci,Oi,wi,Ti,Di,Ui,ki,Ai,Ni,Ii,xi,Ri,zi,ji,Li,Pi,Hi,Bi,Gi,Mi,Qi,qi,Yi,Vi,Fi,Xi,Ki,Wi,$i,Zi,Ji,er,tr=ai,nr=(ci=Ue.Schema.int(),ui=Ue.Schema.string(),mi=pi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"subject_id",di,m()(e)),qn()(e,"subject_name",hi,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),pi.schema={},li=mi,di=Vn()(li.prototype,"subject_id",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi=Vn()(li.prototype,"subject_name",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li),ir=(bi=Ue.Schema.int(),fi=Ue.Schema.string(),gi=Ue.Schema.string(),vi=Ue.Schema.string(),wi=Oi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"course_id",Ei,m()(e)),qn()(e,"course_num",_i,m()(e)),qn()(e,"course_url",Si,m()(e)),qn()(e,"course_name",Ci,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Oi.schema={},yi=wi,Ei=Vn()(yi.prototype,"course_id",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_i=Vn()(yi.prototype,"course_num",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Si=Vn()(yi.prototype,"course_url",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ci=Vn()(yi.prototype,"course_name",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yi),rr=(Ti=Ue.Schema.int(),Di=Ue.Schema.string(),Ui=Ue.Schema.string(),Ri=xi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"dept_id",Ai,m()(e)),qn()(e,"dept_acro",Ni,m()(e)),qn()(e,"dept_url",Ii,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),xi.schema={},ki=Ri,Ai=Vn()(ki.prototype,"dept_id",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=Vn()(ki.prototype,"dept_acro",[Di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ii=Vn()(ki.prototype,"dept_url",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ki),or=(zi=Ue.Schema.int(),ji=Ue.Schema.string(),Li=Ue.Schema.string(),Qi=Mi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"school_id",Hi,m()(e)),qn()(e,"school_name",Bi,m()(e)),qn()(e,"school_url",Gi,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Mi.schema={},Pi=Qi,Hi=Vn()(Pi.prototype,"school_id",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bi=Vn()(Pi.prototype,"school_name",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gi=Vn()(Pi.prototype,"school_url",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi),ar=(qi=Ue.Schema.object({schema:function(){return ir.schema},constructor:ir}),Yi=Ue.Schema.object({schema:function(){return rr.schema},constructor:rr}),Vi=Ue.Schema.object({schema:function(){return or.schema},constructor:or}),Fi=Ue.Schema.object({schema:function(){return nr.schema},constructor:nr}),er=Ji=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"course",Ki,m()(e)),qn()(e,"department",Wi,m()(e)),qn()(e,"school",$i,m()(e)),qn()(e,"subject",Zi,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Ji.schema={},Xi=er,Ki=Vn()(Xi.prototype,"course",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wi=Vn()(Xi.prototype,"department",[Yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$i=Vn()(Xi.prototype,"school",[Vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zi=Vn()(Xi.prototype,"subject",[Fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xi);function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(n,!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ur=function(e){function t(){var e,n;return a()(this,t),(n=l()(this,h()(t).call(this))).state={courses:[]},Ue.Actions.register((e={},se()(e,Ie,n.onAddCourse.bind(m()(n))),se()(e,Ne,n.onReceiveCourses.bind(m()(n))),se()(e,xe,n.onToggleArchiveCourse.bind(m()(n))),se()(e,Re,n.onRemoveCourse.bind(m()(n))),e),m()(n)),n}return f()(t,e),c()(t,[{key:"getCourses",value:function(){return this.state.courses}},{key:"sanitizeDocumentArray",value:function(e){var t=this;if(!e||!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var n=[];return e.forEach(function(e){var i;i=t.sanitizeDocument(e),n.push(new ei(t.sanitize(i,ei.schema)))}),{contentArr:n,numContents:n.length}}},{key:"sanitizeUnlockedContent",value:function(e){var t=this;if(!e||!e.unlocked_content||!e.num_unlocks)return{contentArr:[],numContents:0};var n=e.unlocked_content;if(!Array.isArray(n)||0===n.length)return{contentArr:[],numContents:0};var i=[];return n.forEach(function(e){var n={};switch(e.content_type){case ni.QUESTION:n=t.sanitizeUnlockedQuestion(e);break;case ni.DOCUMENT:n=t.sanitizeUnlockedDocument(e);break;default:return}i.push(new ei(t.sanitize(n,ei.schema)))}),{contentArr:i,numContents:parseInt(e.num_unlocks)}}},{key:"sanitizeUploadedContent",value:function(e){var t,n,i=this,r=[];if(!e||!e.uploads||!e.total)return{contentArr:[],numContents:0};var o=e.uploads;return Array.isArray(o)&&0!==o.length?(o.forEach(function(e){t=i.sanitizeDocument(e.doc_info),n=ri.determineDocumentStatus(e.upload_state,e.deny_reason),e.intelligent_uploader_document_id&&(t.url="/upload/intelligent/".concat(e.jobid)),t=cr({},t,{date:ke(e.doc_date),status:n?n.status:"",isUserArchived:e.is_archived,id:e.jobid,type:ni.CONVERSION_QUEUE,title:e.title}),e.deny_reason&&Gn[e.deny_reason]===Te.COPYRIGHT&&(t.thumbnailUrl="",t.thumbnailText="0"),r.push(i.sanitize(t,ei.schema))}),{contentArr:r,numContents:parseInt(e.total)}):{contentArr:[],numContents:0}}},{key:"sanitizeSearchResponseResults",value:function(e){return e.map(function(e){var t=0,n="",i=null;switch(e.core.type){case tr.QUESTION:t=e.question.question_id,n=e.question.answered?si.ANSWERED:si.PENDING;break;case tr.DOCUMENT:t=e.document.db_filename;break;case tr.COURSE:t=e.taxonomy.course.course_id,i=oi.DEFAULT_COURSE_THUMBNAIL;break;case tr.COURSE_STUDY_GUIDE:t=e.course_studyguide.cms_item_id;break;case tr.LIT_STUDY_GUIDE:t=e.lit_studyguide.book_section_id;break;case tr.STUDYGUIDE_VIDEO:t=e.studyguide_video.video_id;break;case tr.TEXTBOOK:t=e.textbook.textbook_id;break;case tr.TEXTBOOK_EXERCISE:t=e.textbook_exercise.exercise_id}return new ei({id:t,type:e.core.type,subType:e.document?e.document.type:null,title:e.core.title,url:e.core.url,text:e.core.text,thumbnailUrl:e.thumbnail?e.thumbnail.url:null,thumbnailText:e.thumbnail?e.thumbnail.overlay_text:null,thumbnailFallbackUrl:i,numViews:e.core.views,status:n,taxonomy:e.taxonomy,date:e.core.date,courseResourceData:e.sub_resources,textbook:e.textbook,textbook_exercise:e.textbook_exercise})})}},{key:"sanitizeNewCourse",value:function(e){return new ei({id:e.folder_type_id,folderId:e.library_folder_id,type:ni.COURSE,title:e.name,url:e.folder_url,text:e.subtitle,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}},{key:"sanitizeRecentlyViewedContent",value:function(e){var t=this;if(!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var n=[];return e.forEach(function(e){var i={};switch(e.contentType){case ni.QUESTION:i=t.sanitizeQuestion(e[ni.QUESTION]);break;case ni.DOCUMENT:i=t.sanitizeDocument(e[ni.DOCUMENT]);break;case ni.TEXTBOOK_EXERCISE:i=t.sanitizeTextbookExercise(e[ni.TEXTBOOK_EXERCISE]);break;case ii.LIT_STUDY_GUIDE:var r=e[ii.LIT_STUDY_GUIDE];i={id:e.contentId,type:ni.LIT_STUDYGUIDE,title:r.title,url:r.url,thumbnailUrl:r.thumbnailUrl};break;case ni.BEST_LESSONS:i=t.sanitizeBestLesson(e);break;default:return}i=cr({},i,{date:ke(e.recentDate)}),n.push(new ei(t.sanitize(i,ei.schema)))}),{contentArr:n,numContents:e.length}}},{key:"sanitizeQuestionResults",value:function(e){if(!e||!e.questions||!e.total)return{contentArr:[],numContents:0};var t=e.questions;return Array.isArray(t)&&0!==t.length?{contentArr:t.map(function(e){return new ei({id:e.question_id,type:ni.QUESTION,title:e.question,url:"/qa_redirect.php?question_id="+e.question_id,thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,status:e.derived_question_status,taxonomy:new ar({subject:new nr({subject_id:e.category.category_id,subject_name:e.category.subject})}),isUserArchived:e.is_user_archived,date:ke(e.deadline),pendingUserAction:e.pending_user_action})}),numContents:parseInt(e.total)}:{contentArr:[],numContents:0}}},{key:"sanitizeBookmarkedContent",value:function(e){var t=this;if(!e||!e.documents||!Array.isArray(e.documents)||0===e.documents.length)return{contentArr:[],numContents:0};var n=[];return e.documents.forEach(function(e){var i=cr({},t.sanitizeDocument(e.document),{date:ke(e.date),type:ni.BOOKMARK,bookmarkId:e.document.bookmark_id,isUserArchived:e.document.is_archived});n.push(t.sanitize(i,ei.schema))}),{contentArr:n,numContents:e.documents.length}}},{key:"sanitizeUnlockedQuestion",value:function(e){var t=e[ni.QUESTION];return(t=this.sanitizeQuestion(t)).isUserArchived=e.is_archived,t.date=ke(e.unlock_date),t}},{key:"sanitizeUnlockedDocument",value:function(e){var t=e[ni.DOCUMENT];return(t=this.sanitizeDocument(t)).isUserArchived=e.is_archived,t.date=ke(e.unlock_date),t}},{key:"sanitizeQuestion",value:function(e){var t={type:ni.QUESTION,id:e.question_id,title:e.question,url:e.resource_url,status:e.derived_question_status,numViews:e.view_count,taxonomy:this.sanitizeContentTaxonomy(e,ni.QUESTION),thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,pendingUserAction:e.pending_user_action};return this.sanitize(t,ei.schema)}},{key:"sanitizeDocument",value:function(e){var t={type:ni.DOCUMENT,subType:e.type,id:e.db_filename,title:e.title,url:e.resource_url,thumbnailUrl:e.thumbnail_url,thumbnailText:e.meta_data?e.meta_data.page_count:null,text:e.text,numViews:e.views,taxonomy:this.sanitizeContentTaxonomy(e,ni.DOCUMENT),isNew:e.is_new||!1};return this.sanitize(t,ei.schema)}},{key:"sanitizeTextbook",value:function(e){var t={textbook_id:e.textbook_id,title:e.title,author:e.author,edition_name:e.edition_name,isbn:e.isbn,publisher:e.publisher,cover_url:e.cover_url};return this.sanitize(t,Wn.schema)}},{key:"sanitizeTextbookChapter",value:function(e){var t={num:e?e.abbreviation:""};return this.sanitize(t,Xn.schema)}},{key:"sanitizeTextbookSection",value:function(e){var t={num:e?e.abbreviation:"",title:e?e.title:""};return this.sanitize(t,$n.schema)}},{key:"sanitizeTextbookHeading",value:function(e){var t={title:e?e.title:""};return this.sanitize(t,Zn.schema)}},{key:"sanitizeTextbookExercise",value:function(e){var t=e,n=t.sections[0]||void 0,i=n?n.sections[0]:void 0,r=i?i.sections[0]:void 0,o=r&&r.exercises.length>0?r.exercises[0]:i&&i.exercise.length>0?i.exercises[0]:n&&n.exercises.length>0?n.exercises[0]:void 0;if(o){var a=this.sanitizeTextbook(t),s=this.sanitizeTextbookChapter(n),c=this.sanitizeTextbookSection(i),u=this.sanitizeTextbookHeading(r),l={exercise_id:o.exercise_id,exercise_num:o.identifier,page:o.page,url:o.url,textbook:a,chapter:s,section:c,heading:u};l=this.sanitize(l,Jn.schema);var d={type:ni.TEXTBOOK_EXERCISE,id:l.exercise_id,title:"Ch ".concat(l.chapter.num,", Sec ").concat(l.section.num,", Ex ").concat(l.exercise_num," - ").concat(l.heading.title),url:l.url,thumbnailUrl:a.cover_url,textbook_exercise:l};return this.sanitize(d,ei.schema)}}},{key:"sanitizeBestLesson",value:function(e){var t={type:ni.BEST_LESSONS,id:e.id,isNew:e.isNew,title:e.title,url:e.url,thumbnailUrl:e.imageUrl};return this.sanitize(t,ei.schema)}},{key:"sanitizeContentTaxonomy",value:function(e,t){var n,i,r,o;switch(t){case ni.QUESTION:e.category&&(n={subject_id:e.category.category_id,subject_name:e.category.subject}),e.course&&(i={school_id:e.course.schoolId,school_name:e.course.schoolName,school_url:e.course.schoolUrl},r={dept_id:e.course.deptId,dept_acro:e.course.dept},o={course_id:e.course.courseId,course_name:e.course.courseName,course_url:e.course.courseUrl,course_num:e.course.courseNum});break;case ni.DOCUMENT:e.subject&&(n={subject_id:e.subject.subject_id,subject_name:e.subject.subject_name}),e.course&&(i={school_id:e.course.school_id,school_name:e.course.school_name,school_url:e.course.school_url},r={dept_id:e.course.dept_id,dept_acro:e.course.dept_acro},o={course_id:e.course.course_id,course_name:e.course.course_name,course_num:e.course.course_num,course_url:e.course.course_url})}return{subject:n,school:i,department:r,course:o}}},{key:"sanitizeCourseResults",value:function(e){return e&&e.rows&&Array.isArray(e.rows)?e.rows.map(function(e){return new ei({id:e.folder_type_id,folderId:e.library_folder_id,type:e.folder_type,title:e.name,text:e.subtitle,url:e.folder_url,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}):[]}},{key:"onReceiveCourses",value:function(e){var t=this,n=this.nextState();return e.forEach(function(e){t.upsertItem(n.courses,e.getUniqueId(),e)}),n}},{key:"onAddCourse",value:function(e){var t=this.nextState();return this.upsertItem(t.courses,e.getUniqueId(),e),t}},{key:"onToggleArchiveCourse",value:function(e){var t=this.nextState(),n=this.getItem(t.courses,e.getUniqueId());if(!n)throw Error("Course not found in store");return n.isUserArchived=!n.isUserArchived,t}},{key:"onRemoveCourse",value:function(e){var t=this.nextState();return t.courses=t.courses.filter(function(t){return t.getUniqueId()!==e.getUniqueId()}),t}}]),t}(Ue.Store),lr=Ae.define("ContentStore",function(){return new ur}),dr=function(e){function t(e){var n;a()(this,t),n=l()(this,h()(t).call(this,e));var i=lr.getCourses();return n.state={courses:i?n.sortCourses(i):[],uncategorizedContentCount:0},n.onContentStoreUpdate=n.onContentStoreUpdate.bind(m()(n)),n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;lr.listen(this.onContentStoreUpdate),this.state.courses&&0===this.state.courses.length&&De.getMyCourses().then(function(t){t&&(Ne(lr.sanitizeCourseResults(t)),e.setState({uncategorizedContentCount:t.metadata.content_count}))})}},{key:"componentWillUnmount",value:function(){lr.ignore(this.onContentStoreUpdate)}},{key:"onContentStoreUpdate",value:function(e){this.setState({courses:this.sortCourses(e.courses)})}},{key:"sortCourses",value:function(e){return e.sort(function(e,t){return e.date>t.date?-1:1})}},{key:"render",value:function(){var e=this.state,t=e.courses,n=e.uncategorizedContentCount,r=this.props.isEducator,o=Ee.HOME_LABEL_HOME;return this.props.canUserAccessQADashboard&&(o=r?Ee.HOME_LABEL_EDUCATOR_DASHBOARD:Ee.HOME_LABEL_STUDENT_DASHBOARD),i.createElement(Ee,{homepageLabel:o,homepageUrlPath:"/home/",courses:t,chaLocation:"header_left",showUploadTooltip:!1,showUpload:!0,isEducator:r,uncategorizedContentCount:n,coursesToHideTaxonomyLink:this.props.coursesToHideTaxonomyLink})}}]),t}(g);[].slice.call(document.getElementsByClassName("ch_dashboardNavbar")).forEach(function(e){var t=!!e.dataset.canAccessQaDashboard,n=!!e.dataset.isEducator,o=JSON.parse(e.dataset.coursesToHideTaxonomyLink);r.render(i.createElement(dr,{canUserAccessQADashboard:t,isEducator:n,coursesToHideTaxonomyLink:o}),e)})}]);(function(){"use strict";angular.module("qa.common",[])})();(function(){"use strict";angular.module("qa.common").factory("QAValidatorService",QAValidatorService);function QAValidatorService(){var minQuestionLength=10;var minAnswerLength=1;var validationFunctions={isValidQuestionLength:function(question){return question&&question.trim().length>=minQuestionLength},isValidAnswerLength:function(answer){return answer&&answer.trim().length>=minAnswerLength},isValidCategoryId:function(categoryId){return categoryId&&categoryId>0}};return{validate:validate};function validate(validations){var result={valid:true,errors:[]};for(var validation in validations){if(validations.hasOwnProperty(validation)){var fn=validationFunctions[validation];if(typeof fn==="function"){var success=validationFunctions[validation](validations[validation]);if(!success){result.valid=false;result.errors.push(errorMessageForValidation(validation))}}else{throw new Error("No such function")}}}return result}function errorMessageForValidation(validation){var mapping={isValidQuestionLength:"Your question must contain at least "+minQuestionLength+" characters. Please provide more information to help our tutors provide a better answer.",isValidAnswerLength:"Your answer is too short. Please add more information.",isValidCategoryId:"Please add a subject for your question."};return mapping[validation]}}})();(function(){var app=angular.module("qa-amplitude.service",[]);app.service("QAAmplitudeService",function($window){var EVENTS={SELECT_PRICE:"Select Price",CLICK_UPLOAD:"Click Upload",SELECT_DEADLINE:"Select Deadline",OPEN_EDIT:"Open Edit",SAVE_EDIT:"Save Edit",SUBMIT:"Submit",TRIGGER:"Trigger",CLICK_TAB:"Click Tab",SELECT_CATEGORY:"Select Category",START_TYPING:"Start Typing Question",FORMAT_QUESTION:"Format Question",UPLOAD_ATTACHMENT:"Upload Attachment",DELETE_ATTACHMENT:"Delete Attachment",UPGRADE:"Upgrade",SEE_CC_VERIFICATION:"See CC Verification",SET_COURSE:"Set Course",CANCEL:"Cancel",COMMENT:"Comment",CLOSE_GRASSHOPPER:"Close Grasshopper",TAG_COURSE_LINK:"Tag Course Link",TAG_COURSE_TAB:"Tag Course Tab",CLICK_SIMILAR_QUESTION:"Click Similar Question",POST_QUESTION:"Post Question Anyway"};var PAYMENT_TYPE={CASH:"all cash",TUTOR_QUESTION:"tutor question"};var tracker=new $window.MixpanelEventTracking;var super_properties={};function setSuperProperties(properties){super_properties=properties}function combine(obj1,obj2){var mergedObj={};Object.keys(obj1).forEach(function(key){mergedObj[key]=obj1[key]});Object.keys(obj2).forEach(function(key){mergedObj[key]=obj2[key]});return mergedObj}function trackEvent(eventPrefix,pageName,eventName,properties){properties=properties instanceof Object?properties:{};if(super_properties instanceof Object){properties=combine(super_properties,properties)}var prefix=eventPrefix&&eventPrefix.length?eventPrefix+" ":"";if(pageName!==undefined){prefix+=pageName+" - "}tracker.track(prefix+eventName,properties)}function trackPageView(eventPrefix,pageName,properties){properties=properties instanceof Object?properties:{};if(super_properties instanceof Object){properties=combine(super_properties,properties)}var prefix=eventPrefix&&eventPrefix.length?eventPrefix+" ":"";tracker.track(prefix+"View Page - "+pageName,properties)}function trackSimilarQuestionsEvent(eventName,properties){properties=properties instanceof Object?properties:{};properties["difficulty"]="basic";trackEvent("[EXAQ]","Similar Questions",eventName,properties)}function trackBasicDepositEvent(eventName,properties){properties=properties instanceof Object?properties:{};properties["difficulty"]="basic";trackEvent("[EXAQ]","Set Price",eventName,properties)}function trackAdvancedDepositEvent(eventName,properties){properties=properties instanceof Object?properties:{};properties["difficulty"]="advanced";trackEvent("[EXAQ]","Deposit",eventName,properties)}function trackBasicWaitEvent(eventName,properties){properties=properties instanceof Object?properties:{};trackEvent("[EXBW]","Wait",eventName,properties)}function trackAdvancedWaitEvent(eventName,properties){properties=properties instanceof Object?properties:{};trackEvent("[EXAW]","Wait",eventName,properties)}function trackSetPriceEvent(eventName,properties){properties=properties instanceof Object?properties:{};properties["difficulty"]="advanced";trackEvent("[EXAQ]","Set Price",eventName,properties)}function trackBasicDepositPageView(properties){properties=properties instanceof Object?properties:{};properties["difficulty"]="basic";trackPageView("[EXAQ]","Set Price",properties)}function trackSimilarQuestionsPageView(properties){properties=properties instanceof Object?properties:{};properties["difficulty"]="basic";trackPageView("[EXAQ]","Similar Questions",properties)}function trackAdvancedDepositPageView(properties){properties=properties instanceof Object?properties:{};properties["difficulty"]="advanced";trackPageView("[EXAQ]","Deposit",properties)}function trackBasicWaitPageView(properties){properties=properties instanceof Object?properties:{};trackPageView("[EXBW]","Wait",properties)}function trackAdvancedWaitPageView(properties){properties=properties instanceof Object?properties:{};trackPageView("[EXAW]","Wait",properties)}function trackSetPricePageView(properties){properties=properties instanceof Object?properties:{};properties["difficulty"]="advanced";trackPageView("[EXAQ]","Set Price",properties)}function trackAskQuestionWidgetEvent(eventName,isSitewideWidget,isBasicQuestion,properties){properties=properties instanceof Object?properties:{};properties["url"]=$window.location.href;properties["page_type"]=tracker.get_page_type();properties["difficulty"]=isBasicQuestion?"basic":"advanced";properties["isSitewideWidget"]=isSitewideWidget==true;trackEvent("[EXQW]","Widget",eventName,properties)}return{trackSimilarQuestionsEvent:trackSimilarQuestionsEvent,trackBasicDepositEvent:trackBasicDepositEvent,trackAdvancedDepositEvent:trackAdvancedDepositEvent,trackBasicWaitEvent:trackBasicWaitEvent,trackAdvancedWaitEvent:trackAdvancedWaitEvent,trackSetPriceEvent:trackSetPriceEvent,trackAskQuestionWidgetEvent:trackAskQuestionWidgetEvent,trackSimilarQuestionsPageView:trackSimilarQuestionsPageView,trackBasicDepositPageView:trackBasicDepositPageView,trackAdvancedDepositPageView:trackAdvancedDepositPageView,trackBasicWaitPageView:trackBasicWaitPageView,trackAdvancedWaitPageView:trackAdvancedWaitPageView,trackSetPricePageView:trackSetPricePageView,setSuperProperties:setSuperProperties,EVENTS:EVENTS,PAYMENT_TYPE:PAYMENT_TYPE}})})();(function(){"use strict";angular.module("qa.data",["qa.common"])})();(function(){"use strict";angular.module("qa.data").factory("QACategoryDataService",QACategoryDataService);function QACategoryDataService($http){return{getNumberOfActiveTutors:getNumberOfActiveTutors,findSubjects:findSubjects};function getNumberOfActiveTutors(categoryId){categoryId=categoryId&&!isNaN(categoryId)?categoryId:null;var params={categoryId:categoryId};return $http.get("/api/v1/expert-info/num-active/",{params:params,cache:true})}function findSubjects(name,userId){var params={name:name,userId:userId};return $http.get("/api/v1/search-qa-relevant-categories/",{params:params})}}})();(function(){"use strict";angular.module("qa.data").factory("QuestionDataService",QuestionDataService);function QuestionDataService($http,QAValidatorService){return{submitQuestion:submitQuestion,validateQuestion:validateQuestion};function submitQuestion(questionData){return $http.post("/api/v1/questions/",{question:{categoryId:questionData.categoryId,questionText:questionData.questionText,sourceUrl:questionData.sourceUrl,attachments:questionData.attachments,type:questionData.questionType,tutorId:questionData.tutorId,source:questionData.source}})}function validateQuestion(questionData){return QAValidatorService.validate({isValidQuestionLength:questionData.questionText,isValidCategoryId:questionData.categoryId})}}})();(function(){"use strict";angular.module("qa.data").factory("TutorQuestionsDataService",TutorQuestionsDataService);function TutorQuestionsDataService($http,$q){return{getAvailableTutorQuestionsCount:getAvailableTutorQuestionsCount,getBonusQuestionsInfo:getBonusQuestionsInfo};function getAvailableTutorQuestionsCount(){var deferred=$q.defer();$http.get("/api/v1/users/tutor-questions/").then(function(response){deferred.resolve(response.data)},function(err){deferred.reject(err.data)});return deferred.promise}function getBonusQuestionsInfo(){var deferred=$q.defer();$http.get("/api/v2/users/bonus-questions/").then(function(response){deferred.resolve(response.data)},function(err){deferred.reject(err.data)});return deferred.promise}}})();(function(){"use strict";angular.module("qa.data").factory("QAUserDiscountsService",QAUserDiscountsService);function QAUserDiscountsService($http,$q){return{getUserDiscount:getUserDiscount};function getUserDiscount(questionId){var deferred=$q.defer();$http.get("/api/v1/users/discount/").then(function(response){if(response.data){var discount=response.data;var discountMultiplier=discount?discount.discount:1;if(discount.question_id&&discount.question_id!=questionId){discountMultiplier=1}var result=(1-discountMultiplier).toFixed(2);result=parseFloat(result);result=Math.min(1,Math.max(result,0));deferred.resolve(result)}else{deferred.reject()}});return deferred.promise}}})();(function(){"use strict";angular.module("qa.data").service("QuestionDataStore",QuestionDataStore);function QuestionDataStore($http,$q){var questionDataStore=this;this.editing=false;this.attachments=[];this.questionId=null;this.questionText="";this.threadText="";this.numAttachments=0;this.fullQuestionCategory=[];this.category=null;this.availableTutorQuestions=0;this.price=0;this.loadStoreTemp=function(questionId){if(!questionId){return false}var deferred=$q.defer();$http.get("/api/v1/users/questions/"+questionId+"/",{}).success(function(data){questionDataStore.questionId=data.question.question_id;questionDataStore.questionText=data.question.question;questionDataStore.threadText=data.qaThreadText;questionDataStore.numAttachments=data.numAttachments;questionDataStore.category=data.question.category;questionDataStore.attachments=data.attachments;questionDataStore.price=data.price;deferred.resolve(data)}).error(function(){deferred.reject()});return deferred.promise};this.save=function(){}}})();(function(){"use strict";angular.module("qa.widgets",["qa.data"])})();(function(){"use strict";angular.module("qa.widgets").directive("qaCategoryAutocomplete",QACategoryAutocomplete);function QACategoryAutocomplete(QACategoryDataService){return{restrict:"A",scope:{value:"=ngModel",disabled:"=qaCategoryAutocompleteDisabled",userId:"@",placeholder:"@"},controller:function($scope,$http){$scope.subjects=[];$scope.formatSubject=function(subject){if(!subject){return""}return subject.subject};$scope.formatParent=function(subject){if(!subject){return""}var parent_subject=subject.parent_subject;return parent_subject===undefined?"":" in "+parent_subject};$scope.findSubjects=function(name){if(name.length>1){QACategoryDataService.findSubjects(name,$scope.userId).then(function(response){if(response.data&&response.data.length==0){$scope.subjects=[{subject:"No Results Found",empty:true}]}else{$scope.subjects=response.data}})}};$scope.selectSubject=function(s){$scope.value=s}},templateUrl:"/taxonomy/widget/_relevantSubjectAutocomplete/"}}})();(function(){"use strict";angular.module("qa.askAQuestion",["qa.data","qa.widgets","ngSanitize","ui.select","smoothScroll","ux.tagRecording","quillApp","qa-amplitude.service"]).config(["$interpolateProvider","$provide",function($interpolateProvider,$provide){$interpolateProvider.startSymbol("{[").endSymbol("]}");if(window.location.pathname.substr(0,5)==="/lit/"){$provide.decorator("$browser",["$delegate",function($delegate){$delegate.onUrlChange=function(){};$delegate.url=function(){return""};return $delegate}])}else{chAnalyticsWorkaround($provide)}}])})();(function(){"use strict";angular.module("qa.askAQuestion").directive("askAQuestion",[function(){return{restrict:"EA",scope:{startingCategory:"=",sourceUrl:"=",showHeader:"=",userId:"@",isSitewideWidget:"@",currentUserId:"@",submitCallback:"=",fromSearchWidget:"@",initialText:"@",growthPopup:"@",isPremierUser:"@",sourcePage:"@",fromLoginPopup:"@"},templateUrl:"/tutors/homework-help/ask/_question/",controllerAs:"askAQuestion",controller:AskQuestionController}}]);function AskQuestionController($scope,$window,$interval,$http,QuestionDataService,QACategoryDataService,TutorQuestionsDataService,QuestionDataStore,QAAmplitudeService,smoothScroll,$element,TagRecordingService){var basicQuestionTypeString="isBasicType";var askAQuestion=this;askAQuestion.customQuill=null;askAQuestion.questionData=QuestionDataStore;askAQuestion.errors=[];askAQuestion.showErrors=false;askAQuestion.tutorQuestions={};askAQuestion.sending=false;askAQuestion.sourceUrl=$scope.sourceUrl;askAQuestion.isSitewideWidget=$scope.isSitewideWidget;askAQuestion.fromSearchWidget=!!$scope.fromSearchWidget;askAQuestion.questionType=basicQuestionTypeString;askAQuestion.isBasicQuestion=askAQuestion.questionType==basicQuestionTypeString;askAQuestion.showHeader=$scope.showHeader===undefined?true:$scope.showHeader;askAQuestion.growthPopup=$scope.growthPopup;askAQuestion.text=$scope.initialText&&!askAQuestion.questionData.threadText?$scope.initialText:askAQuestion.questionData.threadText;askAQuestion.redeemed=$window.redeemed?$window.redeemed:false;askAQuestion.fromHomepage=$scope.sourcePage==="Homepage";askAQuestion.fromLoginPopup=!!$scope.fromLoginPopup;$scope.isPremierUser=!!$scope.isPremierUser;document.addEventListener("sms-modal-closed",function(){askAQuestion.sending=false});var questionId=$window.question_id;if(questionId){$http.get("/api/v1/questions/"+questionId).success(function(response){var question=response["question"];response["threads"].forEach(function(thread){if(thread["type"]=="question"){askAQuestion.questionData.threadText=thread["display_text"]}});askAQuestion.questionData.category=question["category"]})}else if($scope.startingCategory){askAQuestion.questionData.category=$scope.startingCategory}else if(typeof QA_WIDGET_DEFAULT_CATEGORY!=="undefined"&&QA_WIDGET_DEFAULT_CATEGORY){askAQuestion.questionData.category=QA_WIDGET_DEFAULT_CATEGORY}if(!askAQuestion.sourceUrl){askAQuestion.sourceUrl=$window.location.href}askAQuestion.submitQuestion=submitQuestion;askAQuestion.upload=upload;askAQuestion.remove=remove;if(askAQuestion.fromHomepage){askAQuestion.placeholderText="Tell us where you're stuck. Please include all relevant details so that your tutor can help you reach a solution."}else{askAQuestion.placeholderText="Type your question here. Please include all relevant details, attachments, and requirements so your tutor can provide a complete answer."}askAQuestion.subjectPlaceholder="Enter a subject";if(typeof tracker==="undefined"){var tracker=new MixpanelEventTracking}$("#chAq_uploadStudyDocuments").on("click",function(){QAAmplitudeService.trackAskQuestionWidgetEvent(QAAmplitudeService.EVENTS.CLICK_UPLOAD,askAQuestion.isSitewideWidget,askAQuestion.isBasicQuestion)});var formatButtonLogged=false;$scope.$watch("askAQuestion.customQuill",function(current,original){if(current!==original){$(".ql-toolbar button").on("click",function(e){if(formatButtonLogged){return}var el=e.target;while(el&&el.nodeName!=="BUTTON"){el=el.parentElement}if(!el||el.classList.contains("ql-image")){return}formatButtonLogged=true;var properties={};var classes=el.classList;classes.remove("ql-active");properties["type"]=classes.toString();QAAmplitudeService.trackAskQuestionWidgetEvent(QAAmplitudeService.EVENTS.FORMAT_QUESTION,askAQuestion.isSitewideWidget,askAQuestion.isBasicQuestion,properties)})}});var attachmentChangeLogged=false;$scope.$watchCollection("askAQuestion.customQuill.uploader.files",function(current,original){if(original===undefined){attachmentChangeLogged=false;return}if(!attachmentChangeLogged){if(current.length>original.length){QAAmplitudeService.trackAskQuestionWidgetEvent(QAAmplitudeService.EVENTS.UPLOAD_ATTACHMENT,askAQuestion.isSitewideWidget,askAQuestion.isBasicQuestion,{type:"quill"})}else if(current.length<original.length){QAAmplitudeService.trackAskQuestionWidgetEvent(QAAmplitudeService.EVENTS.DELETE_ATTACHMENT,askAQuestion.isSitewideWidget,askAQuestion.isBasicQuestion,{type:"backspace"})}}attachmentChangeLogged=false});$scope.$watch("askAQuestion.questionType",function(current,original){askAQuestion.isBasicQuestion=askAQuestion.questionType==basicQuestionTypeString});$scope.$watch("askAQuestion.questionData.category",function(current,original){if(current!==original){QAAmplitudeService.trackAskQuestionWidgetEvent(QAAmplitudeService.EVENTS.SELECT_CATEGORY,askAQuestion.isSitewideWidget,askAQuestion.isBasicQuestion,{category:current.subject});validateQuestion(getPlainTextedQuestionData())}});var enteredText=false;$scope.$watch("askAQuestion.questionData.threadText",function(current,original){var resetInitialText=false;if($scope.initialText&&current!==original){resetInitialText=true}if(!$scope.initialText&&current!==original){askAQuestion.text=current;validateQuestion(getPlainTextedQuestionData());if(!enteredText){enteredText=true;QAAmplitudeService.trackAskQuestionWidgetEvent(QAAmplitudeService.EVENTS.START_TYPING,askAQuestion.isSitewideWidget,askAQuestion.isBasicQuestion)}}if(resetInitialText){$scope.initialText=""}});function scrollToErrors(){askAQuestion.showErrors=true;if($element.closest("#ch_askQuestionTray_wrapper").length>0){return}var element=document.getElementById("chAq_askQuestion_container");if(element){smoothScroll(element)}}function init(){if($scope.currentUserId){refreshTutorQuestions();$scope.hasRetreivedBonusQuestionsInfo=false;getBonusQuestionsInfo()}}function refreshTutorQuestions(){TutorQuestionsDataService.getAvailableTutorQuestionsCount().then(function(response){askAQuestion.tutorQuestions=response},function(err){askAQuestion.errors=err;scrollToErrors()})}function setQuestionStatus(data){var questionStatus;if(data.hasBonusQuestions&&data.bonusQuestions){var questionStatusPrefix="has bonus questions expiring ";var SECOND=1e3;var MINUTE=SECOND*60;var HOUR=MINUTE*60;var DAY=HOUR*24;if(data.bonusQuestions.timeRemaining<MINUTE*30){questionStatus=questionStatusPrefix+"in less than 30 minutes"}else if(data.bonusQuestions.timeRemaining<=HOUR){questionStatus=questionStatusPrefix+"between 30 min and 1 hour"}else if(data.bonusQuestions.timeRemaining<=HOUR*3){questionStatus=questionStatusPrefix+"between 1 hour and 3 hours"}else if(data.bonusQuestions.timeRemaining<=HOUR*12){questionStatus=questionStatusPrefix+"between 3 hours and 12 hours"}else if(data.bonusQuestions.timeRemaining<=DAY){questionStatus=questionStatusPrefix+"between 12 hours and 24 hours"}else if(data.bonusQuestions.timeRemaining<=DAY*3){questionStatus=questionStatusPrefix+"in 1-3 days"}else{questionStatus=questionStatusPrefix+"in more than 3 days"}}else if(data.hasTutorQuestions&&data.tutorQuestions){questionStatus=data.tutorQuestions&&data.tutorQuestions.expiringQuestions===0?"expires later than 7 days":"expires in 7 days or less"}else{questionStatus="No bonus or tutor questions"}$scope.questionStatus=questionStatus}function getBonusQuestionsInfo(){TutorQuestionsDataService.getBonusQuestionsInfo().then(function(response){$scope.earliestExpiringBonusQuestionsCount=response.bonusQuestions.earliestExpiringQuestionsCount;$scope.bonusQuestionsTimeRemaining=response.bonusQuestions.timeRemaining;$scope.totalTutorQuestionsCount=response.tutorQuestions.totalTutorQuestionsCount;$scope.expiringQuestions=response.tutorQuestions.expiringQuestions;$scope.daysUntilExpiration=response.tutorQuestions.daysUntilExpiration;$scope.earliestExpiringBonusEndDate=response.bonusQuestions.earliestExpiringEndDate;$scope.rewardType=response.bonusQuestions.rewardType;$scope.tutorQuestionsExpirationDate=response.tutorQuestions.expirationDate;$scope.hasBonusQuestions=response.hasBonusQuestions;$scope.hasTutorQuestions=response.hasTutorQuestions;if($scope.hasBonusQuestions){$window.cancelBonusQuestionsTimer();$scope.bqTimerDisplay=document.querySelector(".bonus-questions-timer").innerHTML=getTimeDisplay($scope.bonusQuestionsTimeRemaining);$scope.bqTimerInterval=$interval(function(){$scope.bonusQuestionsTimeRemaining=$scope.bonusQuestionsTimeRemaining-1e3;$scope.bqTimerDisplay=document.querySelector(".bonus-questions-timer").innerHTML=getTimeDisplay($scope.bonusQuestionsTimeRemaining);if($scope.bonusQuestionsTimeRemaining<0){$interval.cancel($scope.bqTimerInterval);$scope.bqTimerInterval=undefined;$window.displayTutorQuestionsCount($scope.hasTutorQuestions);$scope.hasBonusQuestions=false;$scope.hasTutorQuestions=$scope.totalTutorQuestionsCount>0}},1e3)}$scope.hasRetreivedBonusQuestionsInfo=true;setQuestionStatus(response)},function(err){askAQuestion.errors=err;scrollToErrors()})}function getTimeDisplay(timeRemaining){var WEEK=6048e5;var DAY=864e5;var HOUR=36e5;var MINUTE=6e4;var SECOND=1e3;var days=Math.floor(timeRemaining%WEEK/DAY);var hours=Math.floor(timeRemaining%DAY/HOUR);var minutes=Math.floor(timeRemaining%HOUR/MINUTE);var seconds=Math.floor(timeRemaining%MINUTE/SECOND);return(days>0?days+"d ":"")+hours+":"+(minutes<10?"0":"")+minutes+":"+(seconds<10?"0":"")+seconds}function remove(file){QAAmplitudeService.trackAskQuestionWidgetEvent(QAAmplitudeService.EVENTS.DELETE_ATTACHMENT,askAQuestion.isSitewideWidget,askAQuestion.isBasicQuestion,{type:"garbage"});askAQuestion.customQuill.removeFile(file);attachmentChangeLogged=true}function upload(files,type){if(files.length>0){QAAmplitudeService.trackAskQuestionWidgetEvent(QAAmplitudeService.EVENTS.UPLOAD_ATTACHMENT,askAQuestion.isSitewideWidget,askAQuestion.isBasicQuestion,{type:type})}askAQuestion.customQuill.upload(files);attachmentChangeLogged=true}var smsJsLoaded=false;var smsCssLoaded=false;function submitQuestion(skipSmsModal){var MAX_DATA_TRACKING_CALL_TIME=1500;askAQuestion.sending=true;var questionData=getQuestionData();QuestionDataStore.numAttachments=QuestionDataStore.attachments.length;if(!validateQuestion(getPlainTextedQuestionData())){askAQuestion.sending=false;scrollToErrors();TagRecordingService.tagRecording("qa_ask-submitted-question-fail");return}if(skipSmsModal===undefined){_saveQuestion(questionData,function(verifyUserWithSms){if(verifyUserWithSms){shouldOpenSmsModal(submitQuestion)}else{submitQuestion(true)}});return}if(skipSmsModal===false){_triggerSmsModal();return}if(typeof $scope.submitCallback==="function"){$scope.submitCallback()}if(askAQuestion.redirectUrl.indexOf("/qa/wait/")!==-1){_depositQuestion()}setTimeout(function(){$window.location.href=askAQuestion.redirectUrl},MAX_DATA_TRACKING_CALL_TIME)}function _depositQuestion(){if(!askAQuestion.alreadyDeposited){$http.post("/qa_deposit.php/?ajax&question_id="+askAQuestion.questionData.questionId+"&fromLoginPopup="+askAQuestion.fromLoginPopup)}askAQuestion.alreadyDeposited=true}function _triggerSmsModal(){if(typeof _smsVerificationJs==="undefined"){return}if(typeof _smsVerificationCss!=="undefined"){var smsLink=document.createElement("link");smsLink.rel="stylesheet";smsLink.type="text/css";smsLink.href=_smsVerificationCss;if(!smsCssLoaded){document.body.appendChild(smsLink);smsCssLoaded=true}}var smsScript=document.createElement("script");var smsEvent=new Event("openSmsModal");smsEvent["question_id"]=askAQuestion.questionData.questionId;smsEvent["alreadyDeposited"]=askAQuestion.alreadyDeposited;if(!smsJsLoaded){smsScript.onload=function(){window.dispatchEvent(smsEvent)};smsScript.src=_smsVerificationJs;document.body.appendChild(smsScript);smsJsLoaded=true}else{window.dispatchEvent(smsEvent)}}function _saveQuestion(questionData,cb){QuestionDataService.submitQuestion(questionData).success(function(data){askAQuestion.questionData.questionId=data.question_id;askAQuestion.redirectUrl=data.redirect_url;var properties={};properties["Question Type"]=askAQuestion.questionType;properties["Question Id"]=data.question_id;tracker.track("Ask a Question Initiated",properties);properties["difficulty"]=askAQuestion.isBasicQuestion?"basic":"advanced";properties["category"]=askAQuestion.questionData.category.subject;properties["fromSearchWidget"]=askAQuestion.fromSearchWidget;if(askAQuestion.fromLoginPopup){properties["fromPremierQnALoginPopup"]=true}if(data.bucket>=0){properties["cx_qa_already_asked"]=data.bucket;var userProperties={};userProperties["cx_qa_already_asked"]=data.bucket;tracker.setUserProperties(data.user_id,userProperties)}properties["Question Expiration State"]=$scope.questionStatus||"";QAAmplitudeService.trackAskQuestionWidgetEvent(QAAmplitudeService.EVENTS.SUBMIT,askAQuestion.isSitewideWidget,askAQuestion.isBasicQuestion,properties);TagRecordingService.tagRecording("qa_ask-submitted-question-success");if(data.skipDeposit){_depositQuestion()}cb(data.verifyUserWithSms)}).error(function(data,status,headers,config){scrollToErrors();var errors=data.error?data.error.errors:null;askAQuestion.errors=errors?errors:["We were unable to save your question. Please refresh the page and try again"];askAQuestion.sending=false;TagRecordingService.tagRecording("qa_ask-submitted-question-fail")})}function shouldOpenSmsModal(cb){var url="/api/v1/users/growth-sms-verification/";$http.get(url).success(function(response){if(response&&response.userId){tracker.setUserProperties(response.userId,{"SMS Verification":1});cb(false)}else{cb(true)}}).error(function(error){cb(true)})}function validateQuestion(questionData){var validation=QuestionDataService.validateQuestion(questionData);askAQuestion.errors=validation.errors;return validation.valid}function getQuestionData(){var attachments=askAQuestion.customQuill.uploader.getAttachmentIds();var questionType="multi-answer";return{categoryId:getCategoryId(),sourceUrl:askAQuestion.sourceUrl,questionText:askAQuestion.customQuill.getSubmittableText(),attachments:attachments,questionType:questionType,tutorId:$scope.userId,source:askAQuestion.fromSearchWidget?"search_widget":undefined}}function getPlainTextedQuestionData(){var plainTextedQuestionData=getQuestionData();plainTextedQuestionData.questionText=askAQuestion.customQuill.quill.getText();return plainTextedQuestionData}function getCategoryId(){return askAQuestion.questionData.category?askAQuestion.questionData.category.category_id:null}function getRandomInt(min,max){return Math.floor(Math.random()*(max-min))+min}askAQuestion.log="";askAQuestion.setQuestionType=function(type){askAQuestion.questionType=type;askAQuestion.isBasicQuestion=askAQuestion.questionType==basicQuestionTypeString;QAAmplitudeService.trackAskQuestionWidgetEvent(QAAmplitudeService.EVENTS.CLICK_TAB,askAQuestion.isSitewideWidget,askAQuestion.isBasicQuestion)};init()}})();onPageLoadComplete(function(){var el=document.getElementById("ch_askQuestionTray_numTutorsOnline");if(el){$.get("/api/v1/expert-info/num-active/").done(function(data){el.textContent=data.num_active}).fail(function(){el.textContent=4})}});!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.katex=t():e.katex=t()}("undefined"!=typeof self?self:this,function(){return function(r){var n={};function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=r,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t,r){},,function(e,t,r){"use strict";r.r(t);r(0);var p=function(){function r(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}return r.prototype.getSource=function(){return this.lexer.input.slice(this.start,this.end)},r.range=function(e,t){return t?e&&e.loc&&t.loc&&e.loc.lexer===t.loc.lexer?new r(e.loc.lexer,e.loc.start,t.loc.end):null:e&&e.loc},r}(),a=function(){function r(e,t){this.text=void 0,this.loc=void 0,this.text=e,this.loc=t}return r.prototype.range=function(e,t){return new r(t,p.range(this,e))},r}(),n=function e(t,r){this.position=void 0;var n,i="KaTeX parse error: "+t,a=r&&r.loc;if(a&&a.start<=a.end){var o=a.lexer.input;n=a.start;var s=a.end;n===o.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=o.slice(n,s).replace(/[^]/g,"$&");i+=(15<n?""+o.slice(n-15,n):o.slice(0,n))+l+(s+15<o.length?o.slice(s,s+15)+"":o.slice(s))}var h=new Error(i);return h.name="ParseError",h.__proto__=e.prototype,h.position=n,h};n.prototype.__proto__=Error.prototype;var X=n,i=/([A-Z])/g,o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},s=/[&><"']/g;var l=function e(t){return"ordgroup"===t.type?1===t.body.length?e(t.body[0]):t:"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},T=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},Y={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(s,function(e){return o[e]})},hyphenate:function(e){return e.replace(i,"-$1").toLowerCase()},getBaseElem:l,isCharacterBox:function(e){var t=l(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type}},h=function(){function e(e){this.displayMode=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.allowedProtocols=void 0,e=e||{},this.displayMode=Y.deflt(e.displayMode,!1),this.throwOnError=Y.deflt(e.throwOnError,!0),this.errorColor=Y.deflt(e.errorColor,"#cc0000"),this.macros=e.macros||{},this.colorIsTextColor=Y.deflt(e.colorIsTextColor,!1),this.strict=Y.deflt(e.strict,"warn"),this.maxSize=Math.max(0,Y.deflt(e.maxSize,1/0)),this.maxExpand=Math.max(0,Y.deflt(e.maxExpand,1e3)),this.allowedProtocols=Y.deflt(e.allowedProtocols,["http","https","mailto","_relative"])}var t=e.prototype;return t.reportNonstrict=function(e,t,r){var n=this.strict;if("function"==typeof n&&(n=n(e,t,r)),n&&"ignore"!==n){if(!0===n||"error"===n)throw new X("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",r);"warn"===n?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+n+"': "+t+" ["+e+"]")}},t.useStrictBehavior=function(e,t,r){var n=this.strict;if("function"==typeof n)try{n=n(e,t,r)}catch(e){n="error"}return!(!n||"ignore"===n)&&(!0===n||"error"===n||("warn"===n?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+n+"': "+t+" ["+e+"]"),!1))},e}(),m=function(){function e(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}var t=e.prototype;return t.sup=function(){return c[u[this.id]]},t.sub=function(){return c[d[this.id]]},t.fracNum=function(){return c[f[this.id]]},t.fracDen=function(){return c[g[this.id]]},t.cramp=function(){return c[v[this.id]]},t.text=function(){return c[y[this.id]]},t.isTight=function(){return 2<=this.size},e}(),c=[new m(0,0,!1),new m(1,0,!0),new m(2,1,!1),new m(3,1,!0),new m(4,2,!1),new m(5,2,!0),new m(6,3,!1),new m(7,3,!0)],u=[4,5,4,5,6,7,6,7],d=[5,5,5,5,7,7,7,7],f=[2,3,4,5,6,7,6,7],g=[3,3,5,5,7,7,7,7],v=[1,1,3,3,5,5,7,7],y=[0,1,2,3,2,3,2,3],q={DISPLAY:c[0],TEXT:c[2],SCRIPT:c[4],SCRIPTSCRIPT:c[6]},b=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var x=[];function w(e){for(var t=0;t<x.length;t+=2)if(e>=x[t]&&e<=x[t+1])return!0;return!1}b.forEach(function(e){return e.blocks.forEach(function(e){return x.push.apply(x,e)})});var k={path:{sqrtMain:"M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,\n-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,\n-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,\n35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,\n-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467\ns-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422\ns-65,47,-65,47z M834 80H400000v40H845z",sqrtSize1:"M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,\n158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067\nc4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,\n175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71\nc-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,\n-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26\ns76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z",sqrtSize2:"M1001,80H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,\n572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,\n-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39\nc-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60\ns208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,\n-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5c4,-6.7,10,-10,18,-10z\nM1001 80H400000v40H1013z",sqrtSize3:"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z",sqrtSize4:"M473,2793c339.3,-1799.3,509.3,-2700,510,-2702\nc3.3,-7.3,9.3,-11,18,-11H400000v40H1017.7s-90.5,478,-276.2,1466c-185.7,988,\n-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,\n-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200c0,-1.3,-5.3,8.7,-16,30c-10.7,\n21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26s76,-153,76,-153s77,-151,\n77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,606z\nM1001 80H400000v40H1017z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 241v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"}},A=function(){function e(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var t=e.prototype;return t.hasClass=function(e){return Y.contains(this.classes,e)},t.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},t.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},t.toText=function(){var e=function(e){return e.toText()};return this.children.map(e).join("")},e}(),S=function(e){return e.filter(function(e){return e}).join(" ")},z=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},M=function(e){var t=document.createElement(e);for(var r in t.className=S(this.classes),this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},B=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+Y.escape(S(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Y.hyphenate(n)+":"+this.style[n]+";");for(var i in r&&(t+=' style="'+Y.escape(r)+'"'),this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+Y.escape(this.attributes[i])+'"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</"+e+">"},C=function(){function e(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,z.call(this,e,r,n),this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return Y.contains(this.classes,e)},t.toNode=function(){return M.call(this,"span")},t.toMarkup=function(){return B.call(this,"span")},e}(),N=function(){function e(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,z.call(this,t,n),this.children=r||[],this.setAttribute("href",e)}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return Y.contains(this.classes,e)},t.toNode=function(){return M.call(this,"a")},t.toMarkup=function(){return B.call(this,"a")},e}(),E={"":"","":"","":"","":""},O=function(){function e(e,t,r,n,i,a,o,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=n||0,this.skew=i||0,this.width=a||0,this.classes=o||[],this.style=s||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<b.length;t++)for(var r=b[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=E[this.text])}var t=e.prototype;return t.hasClass=function(e){return Y.contains(this.classes,e)},t.toNode=function(){var e=document.createTextNode(this.text),t=null;for(var r in 0<this.italic&&((t=document.createElement("span")).style.marginRight=this.italic+"em"),0<this.classes.length&&((t=t||document.createElement("span")).className=S(this.classes)),this.style)this.style.hasOwnProperty(r)&&((t=t||document.createElement("span")).style[r]=this.style[r]);return t?(t.appendChild(e),t):e},t.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=Y.escape(S(this.classes)),t+='"');var r="";for(var n in 0<this.italic&&(r+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(n)&&(r+=Y.hyphenate(n)+":"+this.style[n]+";");r&&(e=!0,t+=' style="'+Y.escape(r)+'"');var i=Y.escape(this.text);return e?(t+=">",t+=i,t+="</span>"):i},e}(),I=function(){function e(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e},t.toMarkup=function(){var e="<svg";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>"},e}(),R=function(){function e(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",k.path[this.pathName]),e},t.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+k.path[this.pathName]+"'/>"},e}(),L=function(){function e(e){this.attributes=void 0,this.attributes=e||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e},t.toMarkup=function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>"},e}();var H={"AMS-Regular":{65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473]},"Fraktur-Regular":{33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],824:[.19444,.69444,0,0,0],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444]},"Main-BoldItalic":{33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],163:[0,.69444,0,0,.86853],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],163:[0,.69444,0,0,.76909],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],305:[0,.43056,0,.02778,.32246],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],567:[.19444,.43056,0,.08334,.38403],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],824:[.19444,.69444,0,0,0],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8800:[.215,.716,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778]},"Math-BoldItalic":{47:[.19444,.69444,0,0,0],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333]},"Math-Italic":{47:[.19444,.69444,0,0,0],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"Math-Regular":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"SansSerif-Bold":{33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212]},"Size1-Regular":{40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},D={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]},P={"":"A","":"C","":"D","":"o","":"a","":"c","":"d","":"o","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N"," ":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"};function F(e,t,r){if(!H[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0);e[0]in P&&(n=P[e[0]].charCodeAt(0));var i=H[t][n];if(i||"text"!==r||w(n)&&(i=H[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var V={};var U={bin:1,close:1,inner:1,open:1,punct:1,rel:1},G={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},_={math:{},text:{}},W=_;function j(e,t,r,n,i,a){_[e][i]={font:t,group:r,replace:n},a&&n&&(_[e][n]=_[e][i])}var $="math",Z="text",K="main",J="ams",Q="accent-token",ee="bin",te="close",re="inner",ne="mathord",ie="op-token",ae="open",oe="punct",se="rel",le="spacing",he="textord";j($,K,se,"","\\equiv",!0),j($,K,se,"","\\prec",!0),j($,K,se,"","\\succ",!0),j($,K,se,"","\\sim",!0),j($,K,se,"","\\perp"),j($,K,se,"","\\preceq",!0),j($,K,se,"","\\succeq",!0),j($,K,se,"","\\simeq",!0),j($,K,se,"","\\mid",!0),j($,K,se,"","\\ll",!0),j($,K,se,"","\\gg",!0),j($,K,se,"","\\asymp",!0),j($,K,se,"","\\parallel"),j($,K,se,"","\\bowtie",!0),j($,K,se,"","\\smile",!0),j($,K,se,"","\\sqsubseteq",!0),j($,K,se,"","\\sqsupseteq",!0),j($,K,se,"","\\doteq",!0),j($,K,se,"","\\frown",!0),j($,K,se,"","\\ni",!0),j($,K,se,"","\\propto",!0),j($,K,se,"","\\vdash",!0),j($,K,se,"","\\dashv",!0),j($,K,se,"","\\owns"),j($,K,oe,".","\\ldotp"),j($,K,oe,"","\\cdotp"),j($,K,he,"#","\\#"),j(Z,K,he,"#","\\#"),j($,K,he,"&","\\&"),j(Z,K,he,"&","\\&"),j($,K,he,"","\\aleph",!0),j($,K,he,"","\\forall",!0),j($,K,he,"","\\hbar",!0),j($,K,he,"","\\exists",!0),j($,K,he,"","\\nabla",!0),j($,K,he,"","\\flat",!0),j($,K,he,"","\\ell",!0),j($,K,he,"","\\natural",!0),j($,K,he,"","\\clubsuit",!0),j($,K,he,"","\\wp",!0),j($,K,he,"","\\sharp",!0),j($,K,he,"","\\diamondsuit",!0),j($,K,he,"","\\Re",!0),j($,K,he,"","\\heartsuit",!0),j($,K,he,"","\\Im",!0),j($,K,he," ","\\spadesuit",!0),j(Z,K,he,"","\\S",!0),j(Z,K,he,"","\\P",!0),j($,K,he," ","\\dag"),j(Z,K,he," ","\\dag"),j(Z,K,he," ","\\textdagger"),j($,K,he,"","\\ddag"),j(Z,K,he,"","\\ddag"),j(Z,K,he,"","\\textdaggerdbl"),j($,K,te,"","\\rmoustache",!0),j($,K,ae,"","\\lmoustache",!0),j($,K,te,"","\\rgroup",!0),j($,K,ae,"","\\lgroup",!0),j($,K,ee,"","\\mp",!0),j($,K,ee,"","\\ominus",!0),j($,K,ee,"","\\uplus",!0),j($,K,ee,"","\\sqcap",!0),j($,K,ee,"","\\ast"),j($,K,ee,"","\\sqcup",!0),j($,K,ee,"","\\bigcirc"),j($,K,ee,"","\\bullet"),j($,K,ee,"","\\ddagger"),j($,K,ee,"","\\wr",!0),j($,K,ee,"","\\amalg"),j($,K,ee,"&","\\And"),j($,K,se,"","\\longleftarrow",!0),j($,K,se,"","\\Leftarrow",!0),j($,K,se,"","\\Longleftarrow",!0),j($,K,se,"","\\longrightarrow",!0),j($,K,se,"","\\Rightarrow",!0),j($,K,se,"","\\Longrightarrow",!0),j($,K,se,"","\\leftrightarrow",!0),j($,K,se,"","\\longleftrightarrow",!0),j($,K,se,"","\\Leftrightarrow",!0),j($,K,se,"","\\Longleftrightarrow",!0),j($,K,se,"","\\mapsto",!0),j($,K,se,"","\\longmapsto",!0),j($,K,se,"","\\nearrow",!0),j($,K,se,"","\\hookleftarrow",!0),j($,K,se,"","\\hookrightarrow",!0),j($,K,se,"","\\searrow",!0),j($,K,se,"","\\leftharpoonup",!0),j($,K,se,"","\\rightharpoonup",!0),j($,K,se,"","\\swarrow",!0),j($,K,se,"","\\leftharpoondown",!0),j($,K,se,"","\\rightharpoondown",!0),j($,K,se,"","\\nwarrow",!0),j($,K,se,"","\\rightleftharpoons",!0),j($,J,se,"","\\nless",!0),j($,J,se,"","\\nleqslant"),j($,J,se,"","\\nleqq"),j($,J,se,"","\\lneq",!0),j($,J,se,"","\\lneqq",!0),j($,J,se,"","\\lvertneqq"),j($,J,se,"","\\lnsim",!0),j($,J,se,"","\\lnapprox",!0),j($,J,se,"","\\nprec",!0),j($,J,se," ","\\npreceq",!0),j($,J,se,"","\\precnsim",!0),j($,J,se,"","\\precnapprox",!0),j($,J,se,"","\\nsim",!0),j($,J,se,"","\\nshortmid"),j($,J,se,"","\\nmid",!0),j($,J,se,"","\\nvdash",!0),j($,J,se,"","\\nvDash",!0),j($,J,se,"","\\ntriangleleft"),j($,J,se,"","\\ntrianglelefteq",!0),j($,J,se,"","\\subsetneq",!0),j($,J,se,"","\\varsubsetneq"),j($,J,se,"","\\subsetneqq",!0),j($,J,se,"","\\varsubsetneqq"),j($,J,se,"","\\ngtr",!0),j($,J,se,"","\\ngeqslant"),j($,J,se,"","\\ngeqq"),j($,J,se,"","\\gneq",!0),j($,J,se,"","\\gneqq",!0),j($,J,se,"","\\gvertneqq"),j($,J,se,"","\\gnsim",!0),j($,J,se,"","\\gnapprox",!0),j($,J,se,"","\\nsucc",!0),j($,J,se,"","\\nsucceq",!0),j($,J,se,"","\\succnsim",!0),j($,J,se,"","\\succnapprox",!0),j($,J,se,"","\\ncong",!0),j($,J,se,"","\\nshortparallel"),j($,J,se,"","\\nparallel",!0),j($,J,se,"","\\nVDash",!0),j($,J,se,"","\\ntriangleright"),j($,J,se,"","\\ntrianglerighteq",!0),j($,J,se,"","\\nsupseteqq"),j($,J,se,"","\\supsetneq",!0),j($,J,se,"","\\varsupsetneq"),j($,J,se,"","\\supsetneqq",!0),j($,J,se,"","\\varsupsetneqq"),j($,J,se,"","\\nVdash",!0),j($,J,se,"","\\precneqq",!0),j($,J,se,"","\\succneqq",!0),j($,J,se,"","\\nsubseteqq"),j($,J,ee,"","\\unlhd"),j($,J,ee,"","\\unrhd"),j($,J,se,"","\\nleftarrow",!0),j($,J,se,"","\\nrightarrow",!0),j($,J,se,"","\\nLeftarrow",!0),j($,J,se,"","\\nRightarrow",!0),j($,J,se,"","\\nleftrightarrow",!0),j($,J,se,"","\\nLeftrightarrow",!0),j($,J,se,"","\\vartriangle"),j($,J,he,"","\\hslash"),j($,J,he,"","\\triangledown"),j($,J,he,"","\\lozenge"),j($,J,he,"","\\circledS"),j($,J,he,"","\\circledR"),j(Z,J,he,"","\\circledR"),j($,J,he,"","\\measuredangle",!0),j($,J,he,"","\\nexists"),j($,J,he,"","\\mho"),j($,J,he,"","\\Finv",!0),j($,J,he,"","\\Game",!0),j($,J,he,"k","\\Bbbk"),j($,J,he,"","\\backprime"),j($,J,he,"","\\blacktriangle"),j($,J,he,"","\\blacktriangledown"),j($,J,he," ","\\blacksquare"),j($,J,he,"","\\blacklozenge"),j($,J,he,"","\\bigstar"),j($,J,he,"","\\sphericalangle",!0),j($,J,he,"","\\complement",!0),j($,J,he,"","\\eth",!0),j($,J,he,"","\\diagup"),j($,J,he,"","\\diagdown"),j($,J,he,"","\\square"),j($,J,he,"","\\Box"),j($,J,he,"","\\Diamond"),j($,J,he,"","\\yen",!0),j(Z,J,he,"","\\yen",!0),j($,J,he,"","\\checkmark",!0),j(Z,J,he,"","\\checkmark"),j($,J,he,"","\\beth",!0),j($,J,he,"","\\daleth",!0),j($,J,he,"","\\gimel",!0),j($,J,he,"","\\digamma"),j($,J,he,"","\\varkappa"),j($,J,ae,"","\\ulcorner",!0),j($,J,te,"","\\urcorner",!0),j($,J,ae,"","\\llcorner",!0),j($,J,te,"","\\lrcorner",!0),j($,J,se,"","\\leqq",!0),j($,J,se,"","\\leqslant",!0),j($,J,se,"","\\eqslantless",!0),j($,J,se,"","\\lesssim",!0),j($,J,se,"","\\lessapprox",!0),j($,J,se,"","\\approxeq",!0),j($,J,ee,"","\\lessdot"),j($,J,se,"","\\lll",!0),j($,J,se,"","\\lessgtr",!0),j($,J,se,"","\\lesseqgtr",!0),j($,J,se,"","\\lesseqqgtr",!0),j($,J,se,"","\\doteqdot"),j($,J,se,"","\\risingdotseq",!0),j($,J,se,"","\\fallingdotseq",!0),j($,J,se,"","\\backsim",!0),j($,J,se,"","\\backsimeq",!0),j($,J,se,"","\\subseteqq",!0),j($,J,se,"","\\Subset",!0),j($,J,se,"","\\sqsubset",!0),j($,J,se,"","\\preccurlyeq",!0),j($,J,se,"","\\curlyeqprec",!0),j($,J,se,"","\\precsim",!0),j($,J,se,"","\\precapprox",!0),j($,J,se,"","\\vartriangleleft"),j($,J,se,"","\\trianglelefteq"),j($,J,se,"","\\vDash",!0),j($,J,se,"","\\Vvdash",!0),j($,J,se,"","\\smallsmile"),j($,J,se,"","\\smallfrown"),j($,J,se,"","\\bumpeq",!0),j($,J,se,"","\\Bumpeq",!0),j($,J,se,"","\\geqq",!0),j($,J,se,"","\\geqslant",!0),j($,J,se,"","\\eqslantgtr",!0),j($,J,se,"","\\gtrsim",!0),j($,J,se,"","\\gtrapprox",!0),j($,J,ee,"","\\gtrdot"),j($,J,se,"","\\ggg",!0),j($,J,se,"","\\gtrless",!0),j($,J,se,"","\\gtreqless",!0),j($,J,se,"","\\gtreqqless",!0),j($,J,se,"","\\eqcirc",!0),j($,J,se,"","\\circeq",!0),j($,J,se,"","\\triangleq",!0),j($,J,se,"","\\thicksim"),j($,J,se,"","\\thickapprox"),j($,J,se,"","\\supseteqq",!0),j($,J,se,"","\\Supset",!0),j($,J,se,"","\\sqsupset",!0),j($,J,se,"","\\succcurlyeq",!0),j($,J,se,"","\\curlyeqsucc",!0),j($,J,se,"","\\succsim",!0),j($,J,se,"","\\succapprox",!0),j($,J,se,"","\\vartriangleright"),j($,J,se,"","\\trianglerighteq"),j($,J,se,"","\\Vdash",!0),j($,J,se,"","\\shortmid"),j($,J,se,"","\\shortparallel"),j($,J,se,"","\\between",!0),j($,J,se,"","\\pitchfork",!0),j($,J,se,"","\\varpropto"),j($,J,se,"","\\blacktriangleleft"),j($,J,se,"","\\therefore",!0),j($,J,se,"","\\backepsilon"),j($,J,se,"","\\blacktriangleright"),j($,J,se,"","\\because",!0),j($,J,se,"","\\llless"),j($,J,se,"","\\gggtr"),j($,J,ee,"","\\lhd"),j($,J,ee,"","\\rhd"),j($,J,se,"","\\eqsim",!0),j($,K,se,"","\\Join"),j($,J,se,"","\\Doteq",!0),j($,J,ee,"","\\dotplus",!0),j($,J,ee,"","\\smallsetminus"),j($,J,ee,"","\\Cap",!0),j($,J,ee,"","\\Cup",!0),j($,J,ee,"","\\doublebarwedge",!0),j($,J,ee,"","\\boxminus",!0),j($,J,ee,"","\\boxplus",!0),j($,J,ee,"","\\divideontimes",!0),j($,J,ee,"","\\ltimes",!0),j($,J,ee,"","\\rtimes",!0),j($,J,ee,"","\\leftthreetimes",!0),j($,J,ee,"","\\rightthreetimes",!0),j($,J,ee,"","\\curlywedge",!0),j($,J,ee,"","\\curlyvee",!0),j($,J,ee,"","\\circleddash",!0),j($,J,ee,"","\\circledast",!0),j($,J,ee,"","\\centerdot"),j($,J,ee,"","\\intercal",!0),j($,J,ee,"","\\doublecap"),j($,J,ee,"","\\doublecup"),j($,J,ee," ","\\boxtimes",!0),j($,J,se,"","\\dashrightarrow",!0),j($,J,se," ","\\dashleftarrow",!0),j($,J,se,"","\\leftleftarrows",!0),j($,J,se,"","\\leftrightarrows",!0),j($,J,se,"","\\Lleftarrow",!0),j($,J,se,"","\\twoheadleftarrow",!0),j($,J,se,"","\\leftarrowtail",!0),j($,J,se,"","\\looparrowleft",!0),j($,J,se,"","\\leftrightharpoons",!0),j($,J,se,"","\\curvearrowleft",!0),j($,J,se,"","\\circlearrowleft",!0),j($,J,se,"","\\Lsh",!0),j($,J,se,"","\\upuparrows",!0),j($,J,se,"","\\upharpoonleft",!0),j($,J,se,"","\\downharpoonleft",!0),j($,J,se,"","\\multimap",!0),j($,J,se,"","\\leftrightsquigarrow",!0),j($,J,se,"","\\rightrightarrows",!0),j($,J,se,"","\\rightleftarrows",!0),j($,J,se," ","\\twoheadrightarrow",!0),j($,J,se,"","\\rightarrowtail",!0),j($,J,se,"","\\looparrowright",!0),j($,J,se,"","\\curvearrowright",!0),j($,J,se,"","\\circlearrowright",!0),j($,J,se,"","\\Rsh",!0),j($,J,se,"","\\downdownarrows",!0),j($,J,se,"","\\upharpoonright",!0),j($,J,se,"","\\downharpoonright",!0),j($,J,se,"","\\rightsquigarrow",!0),j($,J,se,"","\\leadsto"),j($,J,se,"","\\Rrightarrow",!0),j($,J,se,"","\\restriction"),j($,K,he,"","`"),j($,K,he,"$","\\$"),j(Z,K,he,"$","\\$"),j(Z,K,he,"$","\\textdollar"),j($,K,he,"%","\\%"),j(Z,K,he,"%","\\%"),j($,K,he,"_","\\_"),j(Z,K,he,"_","\\_"),j(Z,K,he,"_","\\textunderscore"),j($,K,he," ","\\angle",!0),j($,K,he,"","\\infty",!0),j($,K,he,"","\\prime"),j($,K,he,"","\\triangle"),j($,K,he,"","\\Gamma",!0),j($,K,he,"","\\Delta",!0),j($,K,he,"","\\Theta",!0),j($,K,he,"","\\Lambda",!0),j($,K,he,"","\\Xi",!0),j($,K,he," ","\\Pi",!0),j($,K,he,"","\\Sigma",!0),j($,K,he,"","\\Upsilon",!0),j($,K,he,"","\\Phi",!0),j($,K,he,"","\\Psi",!0),j($,K,he,"","\\Omega",!0),j($,K,he,"A",""),j($,K,he,"B",""),j($,K,he,"E",""),j($,K,he,"Z",""),j($,K,he,"H",""),j($,K,he,"I",""),j($,K,he,"K",""),j($,K,he,"M",""),j($,K,he,"N",""),j($,K,he,"O",""),j($,K,he,"P",""),j($,K,he,"T",""),j($,K,he,"X",""),j($,K,he,"","\\neg",!0),j($,K,he,"","\\lnot"),j($,K,he,"","\\top"),j($,K,he,"","\\bot"),j($,K,he,"","\\emptyset"),j($,J,he,"","\\varnothing"),j($,K,ne,"","\\alpha",!0),j($,K,ne,"","\\beta",!0),j($,K,ne,"","\\gamma",!0),j($,K,ne,"","\\delta",!0),j($,K,ne,"","\\epsilon",!0),j($,K,ne,"","\\zeta",!0),j($,K,ne,"","\\eta",!0),j($,K,ne,"","\\theta",!0),j($,K,ne,"","\\iota",!0),j($,K,ne,"","\\kappa",!0),j($,K,ne,"","\\lambda",!0),j($,K,ne,"","\\mu",!0),j($,K,ne,"","\\nu",!0),j($,K,ne,"","\\xi",!0),j($,K,ne,"","\\omicron",!0),j($,K,ne,"","\\pi",!0),j($,K,ne,"","\\rho",!0),j($,K,ne,"","\\sigma",!0),j($,K,ne,"","\\tau",!0),j($,K,ne,"","\\upsilon",!0),j($,K,ne,"","\\phi",!0),j($,K,ne,"","\\chi",!0),j($,K,ne,"","\\psi",!0),j($,K,ne,"","\\omega",!0),j($,K,ne,"","\\varepsilon",!0),j($,K,ne,"","\\vartheta",!0),j($,K,ne,"","\\varpi",!0),j($,K,ne,"","\\varrho",!0),j($,K,ne,"","\\varsigma",!0),j($,K,ne,"","\\varphi",!0),j($,K,ee,"","*"),j($,K,ee,"+","+"),j($,K,ee,"","-"),j($,K,ee,"","\\cdot",!0),j($,K,ee,"","\\circ"),j($,K,ee,"","\\div",!0),j($,K,ee,"","\\pm",!0),j($,K,ee,"","\\times",!0),j($,K,ee,"","\\cap",!0),j($,K,ee,"","\\cup",!0),j($,K,ee,"","\\setminus"),j($,K,ee,"","\\land"),j($,K,ee,"","\\lor"),j($,K,ee,"","\\wedge",!0),j($,K,ee,"","\\vee",!0),j($,K,he,"","\\surd"),j($,K,ae,"(","("),j($,K,ae,"[","["),j($,K,ae,"","\\langle",!0),j($,K,ae,"","\\lvert"),j($,K,ae,"","\\lVert"),j($,K,te,")",")"),j($,K,te,"]","]"),j($,K,te,"?","?"),j($,K,te,"!","!"),j($,K,te,"","\\rangle",!0),j($,K,te,"","\\rvert"),j($,K,te,"","\\rVert"),j($,K,se,"=","="),j($,K,se,"<","<"),j($,K,se,">",">"),j($,K,se,":",":"),j($,K,se,"","\\approx",!0),j($,K,se,"","\\cong",!0),j($,K,se,"","\\ge"),j($,K,se,"","\\geq",!0),j($,K,se,"","\\gets"),j($,K,se,">","\\gt"),j($,K,se,"","\\in",!0),j($,K,se,"","\\@not"),j($,K,se,"","\\subset",!0),j($,K,se,"","\\supset",!0),j($,K,se,"","\\subseteq",!0),j($,K,se,"","\\supseteq",!0),j($,J,se,"","\\nsubseteq",!0),j($,J,se,"","\\nsupseteq",!0),j($,K,se,"","\\models"),j($,K,se,"","\\leftarrow",!0),j($,K,se,"","\\le"),j($,K,se,"","\\leq",!0),j($,K,se,"<","\\lt"),j($,K,se,"","\\rightarrow",!0),j($,K,se,"","\\to"),j($,J,se,"","\\ngeq",!0),j($,J,se,"","\\nleq",!0),j($,K,le," ","\\ "),j($,K,le," ","~"),j($,K,le," ","\\space"),j($,K,le," ","\\nobreakspace"),j(Z,K,le," ","\\ "),j(Z,K,le," ","~"),j(Z,K,le," ","\\space"),j(Z,K,le," ","\\nobreakspace"),j($,K,le,null,"\\nobreak"),j($,K,le,null,"\\allowbreak"),j($,K,oe,",",","),j($,K,oe,";",";"),j($,J,ee,"","\\barwedge",!0),j($,J,ee,"","\\veebar",!0),j($,K,ee,"","\\odot",!0),j($,K,ee,"","\\oplus",!0),j($,K,ee,"","\\otimes",!0),j($,K,he,"","\\partial",!0),j($,K,ee,"","\\oslash",!0),j($,J,ee,"","\\circledcirc",!0),j($,J,ee,"","\\boxdot",!0),j($,K,ee,"","\\bigtriangleup"),j($,K,ee,"","\\bigtriangledown"),j($,K,ee," ","\\dagger"),j($,K,ee,"","\\diamond"),j($,K,ee,"","\\star"),j($,K,ee,"","\\triangleleft"),j($,K,ee,"","\\triangleright"),j($,K,ae,"{","\\{"),j(Z,K,he,"{","\\{"),j(Z,K,he,"{","\\textbraceleft"),j($,K,te,"}","\\}"),j(Z,K,he,"}","\\}"),j(Z,K,he,"}","\\textbraceright"),j($,K,ae,"{","\\lbrace"),j($,K,te,"}","\\rbrace"),j($,K,ae,"[","\\lbrack"),j(Z,K,he,"[","\\lbrack"),j($,K,te,"]","\\rbrack"),j(Z,K,he,"]","\\rbrack"),j($,K,ae,"(","\\lparen"),j($,K,te,")","\\rparen"),j(Z,K,he,"<","\\textless"),j(Z,K,he,">","\\textgreater"),j($,K,ae,"","\\lfloor",!0),j($,K,te,"","\\rfloor",!0),j($,K,ae,"","\\lceil",!0),j($,K,te,"","\\rceil",!0),j($,K,he,"\\","\\backslash"),j($,K,he,"","|"),j($,K,he,"","\\vert"),j(Z,K,he,"|","\\textbar"),j($,K,he,"","\\|"),j($,K,he,"","\\Vert"),j(Z,K,he,"","\\textbardbl"),j(Z,K,he,"~","\\textasciitilde"),j($,K,se,"","\\uparrow",!0),j($,K,se,"","\\Uparrow",!0),j($,K,se,"","\\downarrow",!0),j($,K,se,"","\\Downarrow",!0),j($,K,se,"","\\updownarrow",!0),j($,K,se,"","\\Updownarrow",!0),j($,K,ie,"","\\coprod"),j($,K,ie,"","\\bigvee"),j($,K,ie,"","\\bigwedge"),j($,K,ie,"","\\biguplus"),j($,K,ie,"","\\bigcap"),j($,K,ie,"","\\bigcup"),j($,K,ie,"","\\int"),j($,K,ie,"","\\intop"),j($,K,ie,"","\\iint"),j($,K,ie,"","\\iiint"),j($,K,ie,"","\\prod"),j($,K,ie,"","\\sum"),j($,K,ie,"","\\bigotimes"),j($,K,ie,"","\\bigoplus"),j($,K,ie,"","\\bigodot"),j($,K,ie,"","\\oint"),j($,K,ie,"","\\oiint"),j($,K,ie,"","\\oiiint"),j($,K,ie,"","\\bigsqcup"),j($,K,ie,"","\\smallint"),j(Z,K,re,"","\\textellipsis"),j($,K,re,"","\\mathellipsis"),j(Z,K,re,"","\\ldots",!0),j($,K,re,"","\\ldots",!0),j($,K,re,"","\\@cdots",!0),j($,K,re,"","\\ddots",!0),j($,K,he,"","\\varvdots"),j($,K,Q,"","\\acute"),j($,K,Q,"","\\grave"),j($,K,Q,"","\\ddot"),j($,K,Q,"~","\\tilde"),j($,K,Q,"","\\bar"),j($,K,Q,"","\\breve"),j($,K,Q,"","\\check"),j($,K,Q,"^","\\hat"),j($,K,Q,"","\\vec"),j($,K,Q,"","\\dot"),j($,K,Q,"","\\mathring"),j($,K,ne,"","\\imath",!0),j($,K,ne,"","\\jmath",!0),j(Z,K,he,"","\\i",!0),j(Z,K,he,"","\\j",!0),j(Z,K,he,"","\\ss",!0),j(Z,K,he,"","\\ae",!0),j(Z,K,he,"","\\ae",!0),j(Z,K,he,"","\\oe",!0),j(Z,K,he,"","\\o",!0),j(Z,K,he,"","\\AE",!0),j(Z,K,he,"","\\OE",!0),j(Z,K,he,"","\\O",!0),j(Z,K,Q,"","\\'"),j(Z,K,Q,"","\\`"),j(Z,K,Q,"","\\^"),j(Z,K,Q,"","\\~"),j(Z,K,Q,"","\\="),j(Z,K,Q,"","\\u"),j(Z,K,Q,"","\\."),j(Z,K,Q,"","\\r"),j(Z,K,Q,"","\\v"),j(Z,K,Q,"",'\\"'),j(Z,K,Q,"","\\H"),j(Z,K,Q,"","\\textcircled");var me={"--":!0,"---":!0,"``":!0,"''":!0};j(Z,K,he,"","--"),j(Z,K,he,"","\\textendash"),j(Z,K,he,"","---"),j(Z,K,he,"","\\textemdash"),j(Z,K,he,"","`"),j(Z,K,he,"","\\textquoteleft"),j(Z,K,he,"","'"),j(Z,K,he,"","\\textquoteright"),j(Z,K,he,"","``"),j(Z,K,he,"","\\textquotedblleft"),j(Z,K,he,"","''"),j(Z,K,he,"","\\textquotedblright"),j($,K,he,"","\\degree",!0),j(Z,K,he,"","\\degree"),j(Z,K,he,"","\\textdegree",!0),j($,K,ne,"","\\pounds"),j($,K,ne,"","\\mathsterling",!0),j(Z,K,ne,"","\\pounds"),j(Z,K,ne,"","\\textsterling",!0),j($,J,he," ","\\maltese"),j(Z,J,he," ","\\maltese"),j(Z,K,le," ","\\ "),j(Z,K,le," "," "),j(Z,K,le," ","~");for(var ce='0123456789/@."',ue=0;ue<ce.length;ue++){var pe=ce.charAt(ue);j($,K,he,pe,pe)}for(var de='0123456789!@*()-=+[]<>|";:?/.,',fe=0;fe<de.length;fe++){var ge=de.charAt(fe);j(Z,K,he,ge,ge)}for(var ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ye=0;ye<ve.length;ye++){var be=ve.charAt(ye);j($,K,ne,be,be),j(Z,K,he,be,be)}for(var xe="",we=0;we<ve.length;we++){var ke=ve.charAt(we);j($,K,ne,ke,xe=String.fromCharCode(55349,56320+we)),j(Z,K,he,ke,xe),j($,K,ne,ke,xe=String.fromCharCode(55349,56372+we)),j(Z,K,he,ke,xe),j($,K,ne,ke,xe=String.fromCharCode(55349,56424+we)),j(Z,K,he,ke,xe),j($,K,ne,ke,xe=String.fromCharCode(55349,56580+we)),j(Z,K,he,ke,xe),j($,K,ne,ke,xe=String.fromCharCode(55349,56736+we)),j(Z,K,he,ke,xe),j($,K,ne,ke,xe=String.fromCharCode(55349,56788+we)),j(Z,K,he,ke,xe),j($,K,ne,ke,xe=String.fromCharCode(55349,56840+we)),j(Z,K,he,ke,xe),j($,K,ne,ke,xe=String.fromCharCode(55349,56944+we)),j(Z,K,he,ke,xe),we<26&&(j($,K,ne,ke,xe=String.fromCharCode(55349,56632+we)),j(Z,K,he,ke,xe),j($,K,ne,ke,xe=String.fromCharCode(55349,56476+we)),j(Z,K,he,ke,xe))}j($,K,ne,"k",xe=String.fromCharCode(55349,56668)),j(Z,K,he,"k",xe);for(var Se=0;Se<10;Se++){var ze=Se.toString();j($,K,ne,ze,xe=String.fromCharCode(55349,57294+Se)),j(Z,K,he,ze,xe),j($,K,ne,ze,xe=String.fromCharCode(55349,57314+Se)),j(Z,K,he,ze,xe),j($,K,ne,ze,xe=String.fromCharCode(55349,57324+Se)),j(Z,K,he,ze,xe),j($,K,ne,ze,xe=String.fromCharCode(55349,57334+Se)),j(Z,K,he,ze,xe)}for(var Me="",Te=0;Te<Me.length;Te++){var Ae=Me.charAt(Te);j($,K,ne,Ae,Ae),j(Z,K,he,Ae,Ae)}j(Z,K,he,"",""),j(Z,K,he,"",""),j(Z,K,he,"",""),j(Z,K,he,"",""),j(Z,K,he,"",""),j(Z,K,he,"",""),j(Z,K,he,"","");var Be=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathdefault","textit","Math-Italic"],["mathdefault","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ce=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Ne=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],qe=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ee=function(e,t){return t.size<2?e:Ne[e-1][t.size-1]},Oe=function(){function n(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||n.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=qe[this.size-1],this.maxSize=e.maxSize,this._fontMetrics=void 0}var e=n.prototype;return e.extend=function(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new n(t)},e.havingStyle=function(e){return this.style===e?this:this.extend({style:e,size:Ee(this.textSize,e)})},e.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},e.havingSize=function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:qe[e-1]})},e.havingBaseStyle=function(e){e=e||this.style.text();var t=Ee(n.BASESIZE,e);return this.size===t&&this.textSize===n.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})},e.havingBaseSizing=function(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})},e.withColor=function(e){return this.extend({color:e})},e.withPhantom=function(){return this.extend({phantom:!0})},e.withFont=function(e){return this.extend({font:e})},e.withTextFontFamily=function(e){return this.extend({fontFamily:e,font:""})},e.withTextFontWeight=function(e){return this.extend({fontWeight:e,font:""})},e.withTextFontShape=function(e){return this.extend({fontShape:e,font:""})},e.sizingClasses=function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]},e.baseSizingClasses=function(){return this.size!==n.BASESIZE?["sizing","reset-size"+this.size,"size"+n.BASESIZE]:[]},e.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!V[t=5<=e?0:3<=e?1:2]){var r=V[t]={cssEmPerMu:D.quad[t]/18};for(var n in D)D.hasOwnProperty(n)&&(r[n]=D[n][t])}return V[t]}(this.size)),this._fontMetrics},e.getColor=function(){return this.phantom?"transparent":null!=this.color&&n.colorMap.hasOwnProperty(this.color)?n.colorMap[this.color]:this.color},n}();Oe.BASESIZE=6,Oe.colorMap={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"};var Ie=Oe,Re={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Le={ex:!0,em:!0,mu:!0},He=function(e,t){var r;if(e.unit in Re)r=Re[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)r=t.fontMetrics().cssEmPerMu;else{var n;if(n=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)r=n.fontMetrics().xHeight;else{if("em"!==e.unit)throw new X("Invalid unit: '"+e.unit+"'");r=n.fontMetrics().quad}n!==t&&(r*=n.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},De=["\\imath","","\\jmath","","\\pounds","\\mathsterling","\\textsterling",""],Pe=function(e,t,r){return W[r][e]&&W[r][e].replace&&(e=W[r][e].replace),{value:e,metrics:F(e,t,r)}},Fe=function(e,t,r,n,i){var a,o=Pe(e,t,r),s=o.metrics;if(e=o.value,s){var l=s.italic;("text"===r||n&&"mathit"===n.font)&&(l=0),a=new O(e,s.height,s.depth,l,s.skew,s.width,i)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"'"),a=new O(e,0,0,0,0,0,i);if(n){a.maxFontSize=n.sizeMultiplier,n.style.isTight()&&a.classes.push("mtight");var h=n.getColor();h&&(a.style.color=h)}return a},Ve=function(e,t){if(S(e.classes)!==S(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var n in t.style)if(t.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;return!0},Ue=function(e){for(var t=0,r=0,n=0,i=0;i<e.children.length;i++){var a=e.children[i];a.height>t&&(t=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>n&&(n=a.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=n},Ge=function(e,t,r,n){var i=new C(e,t,r,n);return Ue(i),i},Xe=function(e,t,r,n){return new C(e,t,r,n)},Ye=function(e){var t=new A(e);return Ue(t),t},_e=function(e,t,r){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}return n+"-"+("textbf"===t&&"textit"===r?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},We={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},je={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},$e={fontMap:We,makeSymbol:Fe,mathsym:function(e,t,r,n){return void 0===n&&(n=[]),r&&r.font&&"boldsymbol"===r.font&&Pe(e,"Main-Bold",t).metrics?Fe(e,"Main-Bold",t,r,n.concat(["mathbf"])):"\\"===e||"main"===W[t][e].font?Fe(e,"Main-Regular",t,r,n):Fe(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},makeSpan:Ge,makeSvgSpan:Xe,makeLineSpan:function(e,t,r){var n=Ge([e],[],t);return n.height=r||t.fontMetrics().defaultRuleThickness,n.style.borderBottomWidth=n.height+"em",n.maxFontSize=1,n},makeAnchor:function(e,t,r,n){var i=new N(e,t,r,n);return Ue(i),i},makeFragment:Ye,wrapFragment:function(e,t){return e instanceof A?Ge([],[e],t):e},makeVList:function(e,t){for(var r=function(e){if("individualShift"===e.positionType){for(var t=e.children,r=[t[0]],n=-t[0].shift-t[0].elem.depth,i=n,a=1;a<t.length;a++){var o=-t[a].shift-i-t[a].elem.depth,s=o-(t[a-1].elem.height+t[a-1].elem.depth);i+=o,r.push({type:"kern",size:s}),r.push(t[a])}return{children:r,depth:n}}var l;if("top"===e.positionType){for(var h=e.positionData,m=0;m<e.children.length;m++){var c=e.children[m];h-="kern"===c.type?c.size:c.elem.height+c.elem.depth}l=h}else if("bottom"===e.positionType)l=-e.positionData;else{var u=e.children[0];if("elem"!==u.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-u.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-u.elem.depth}}return{children:e.children,depth:l}}(e),n=r.children,i=r.depth,a=0,o=0;o<n.length;o++){var s=n[o];if("elem"===s.type){var l=s.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var h=Ge(["pstrut"],[]);h.style.height=a+"em";for(var m=[],c=i,u=i,p=i,d=0;d<n.length;d++){var f=n[d];if("kern"===f.type)p+=f.size;else{var g=f.elem,v=f.wrapperClasses||[],y=f.wrapperStyle||{},b=Ge(v,[h,g],void 0,y);b.style.top=-a-p-g.depth+"em",f.marginLeft&&(b.style.marginLeft=f.marginLeft),f.marginRight&&(b.style.marginRight=f.marginRight),m.push(b),p+=g.height+g.depth}c=Math.min(c,p),u=Math.max(u,p)}var x,w=Ge(["vlist"],m);if(w.style.height=u+"em",c<0){var k=Ge([],[]),S=Ge(["vlist"],[k]);S.style.height=-c+"em";var z=Ge(["vlist-s"],[new O("")]);x=[Ge(["vlist-r"],[w,z]),Ge(["vlist-r"],[S])]}else x=[Ge(["vlist-r"],[w])];var M=Ge(["vlist-t"],x);return 2===x.length&&M.classes.push("vlist-t2"),M.height=u,M.depth=-c,M},makeOrd:function(e,t,r){var n,i=e.mode,a=e.text,o=["mord"],s="math"===i||"text"===i&&t.font,l=s?t.font:t.fontFamily;if(55349===a.charCodeAt(0)){var h=function(e,t){var r=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,n="math"===t?0:1;if(119808<=r&&r<120484){var i=Math.floor((r-119808)/26);return[Be[i][2],Be[i][n]]}if(120782<=r&&r<=120831){var a=Math.floor((r-120782)/10);return[Ce[a][2],Ce[a][n]]}if(120485===r||120486===r)return[Be[0][2],Be[0][n]];if(120486<r&&r<120782)return["",""];throw new X("Unsupported character: "+e)}(a,i),m=h[0],c=h[1];return Fe(a,m,i,t,o.concat(c))}if(l){var u,p;if("boldsymbol"===l||"mathnormal"===l){var d="boldsymbol"===l?Pe(a,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}:(n=a,Y.contains(De,n)?{fontName:"Main-Italic",fontClass:"mathit"}:/[0-9]/.test(n.charAt(0))?{fontName:"Caligraphic-Regular",fontClass:"mathcal"}:{fontName:"Math-Italic",fontClass:"mathdefault"});u=d.fontName,p=[d.fontClass]}else p=Y.contains(De,a)?(u="Main-Italic",["mathit"]):s?(u=We[l].fontName,[l]):(u=_e(l,t.fontWeight,t.fontShape),[l,t.fontWeight,t.fontShape]);if(Pe(a,u,i).metrics)return Fe(a,u,i,t,o.concat(p));if(me.hasOwnProperty(a)&&"Typewriter"===u.substr(0,10)){for(var f=[],g=0;g<a.length;g++)f.push(Fe(a[g],u,i,t,o.concat(p)));return Ye(f)}}if("mathord"===r){var v=/[0-9]/.test((w=a).charAt(0))||Y.contains(De,w)?{fontName:"Main-Italic",fontClass:"mathit"}:{fontName:"Math-Italic",fontClass:"mathdefault"};return Fe(a,v.fontName,i,t,o.concat([v.fontClass]))}if("textord"!==r)throw new Error("unexpected type: "+r+" in makeOrd");var y=W[i][a]&&W[i][a].font;if("ams"===y){var b=_e("amsrm",t.fontWeight,t.fontShape);return Fe(a,b,i,t,o.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==y&&y){var x=_e(y,t.fontWeight,t.fontShape);return Fe(a,x,i,t,o.concat(x,t.fontWeight,t.fontShape))}var w,k=_e("textrm",t.fontWeight,t.fontShape);return Fe(a,k,i,t,o.concat(t.fontWeight,t.fontShape))},makeGlue:function(e,t){var r=Ge(["mspace"],[],t),n=He(e,t);return r.style.marginRight=n+"em",r},staticSvg:function(e,t){var r=je[e],n=r[0],i=r[1],a=r[2],o=new R(n),s=new I([o],{width:i+"em",height:a+"em",style:"width:"+i+"em",viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=Xe(["overlay"],[s],t);return l.height=a,l.style.height=a+"em",l.style.width=i+"em",l},svgData:je,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof O&&n instanceof O&&Ve(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e}};function Ze(e,t){var r=Ke(e,t);if(!r)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return r}function Ke(e,t){return e&&e.type===t?e:null}function Je(e,t){var r,n,i=(n=t,(r=e)&&"atom"===r.type&&r.family===n?r:null);if(!i)throw new Error('Expected node of type "atom" and family "'+t+'", but got '+(e?"atom"===e.type?"atom of family "+e.family:"node of type "+e.type:String(e)));return i}function Qe(e){return e&&("atom"===e.type||G.hasOwnProperty(e.type))?e:null}var et={number:3,unit:"mu"},tt={number:4,unit:"mu"},rt={number:5,unit:"mu"},nt={mord:{mop:et,mbin:tt,mrel:rt,minner:et},mop:{mord:et,mop:et,mrel:rt,minner:et},mbin:{mord:tt,mop:tt,mopen:tt,minner:tt},mrel:{mord:rt,mop:rt,mopen:rt,minner:rt},mopen:{},mclose:{mop:et,mbin:tt,mrel:rt,minner:et},mpunct:{mord:et,mop:et,mrel:rt,mopen:et,mclose:et,mpunct:et,minner:et},minner:{mord:et,mop:et,mbin:tt,mrel:rt,mopen:et,mpunct:et,minner:et}},it={mord:{mop:et},mop:{mord:et,mop:et},mbin:{},mrel:{},mopen:{},mclose:{mop:et},mpunct:{},minner:{mop:et}},at={},ot={},st={};function lt(e){for(var t=e.type,r=(e.nodeType,e.names),n=e.props,i=e.handler,a=e.htmlBuilder,o=e.mathmlBuilder,s={type:t,numArgs:n.numArgs,argTypes:n.argTypes,greediness:void 0===n.greediness?1:n.greediness,allowedInText:!!n.allowedInText,allowedInMath:void 0===n.allowedInMath||n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,consumeMode:n.consumeMode,handler:i},l=0;l<r.length;++l)at[r[l]]=s;t&&(a&&(ot[t]=a),o&&(st[t]=o))}function ht(e){lt({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}var mt=function(e){var t=Ke(e,"ordgroup");return t?t.body:[e]},ct=$e.makeSpan,ut={display:q.DISPLAY,text:q.TEXT,script:q.SCRIPT,scriptscript:q.SCRIPTSCRIPT},pt={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},dt=function(e,t,r,n){void 0===n&&(n=[null,null]);for(var i=[],a=0;a<e.length;a++){var o=bt(e[a],t);if(o instanceof A){var s=o.children;i.push.apply(i,s)}else i.push(o)}for(var l,h,m,c,u=[n[0]?ct([n[0]],[],t):null].concat(i.filter(function(e){return e&&"mspace"!==e.classes[0]}),[n[1]?ct([n[1]],[],t):null]),p=1;p<u.length-1;p++){var d=T(u[p]),f=ft(d,"left");"mbin"===f.classes[0]&&(m=u[p-1],c=r,m?Y.contains(["mbin","mopen","mrel","mop","mpunct"],gt(m,"right")):c)&&(f.classes[0]="mord");var g=ft(d,"right");"mbin"===g.classes[0]&&(l=u[p+1],h=r,l?Y.contains(["mrel","mclose","mpunct"],gt(l,"left")):h)&&(g.classes[0]="mord")}for(var v=[],y=0,b=0;b<i.length;b++)if(v.push(i[b]),"mspace"!==i[b].classes[0]&&y<u.length-1){0===y&&(v.pop(),b--);var x=gt(u[y],"right"),w=gt(u[y+1],"left");if(x&&w&&r){var k=T(u[y+1]),S=vt(k)?it[x][w]:nt[x][w];if(S){var z=t;if(1===e.length){var M=Ke(e[0],"sizing")||Ke(e[0],"styling");M&&("sizing"===M.type?z=t.havingSize(M.size):"styling"===M.type&&(z=t.havingStyle(ut[M.style])))}v.push($e.makeGlue(S,z))}}y++}return v},ft=function e(t,r){if(t instanceof A||t instanceof N){var n=t.children;if(n.length){if("right"===r)return e(n[n.length-1],"right");if("left"===r)return e(n[0],"right")}}return t},gt=function(e,t){return e?(e=ft(e,t),pt[e.classes[0]]||null):null},vt=function(e){return(e=ft(e,"left")).hasClass("mtight")},yt=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ct(t.concat(r))},bt=function(e,t,r){if(!e)return ct();if(ot[e.type]){var n=ot[e.type](e,t);if(r&&t.size!==r.size){n=ct(t.sizingClasses(r),[n],t);var i=t.sizeMultiplier/r.sizeMultiplier;n.height*=i,n.depth*=i}return n}throw new X("Got group of unknown type: '"+e.type+"'")};function xt(e,t){var r=ct(["base"],e,t),n=ct(["strut"]);return n.style.height=r.height+r.depth+"em",n.style.verticalAlign=-r.depth+"em",r.children.unshift(n),r}function wt(e,t){var r=null;1===e.length&&"tag"===e[0].type&&(r=e[0].tag,e=e[0].body);for(var n,i=dt(e,t,!0),a=[],o=[],s=0;s<i.length;s++)if(o.push(i[s]),i[s].hasClass("mbin")||i[s].hasClass("mrel")||i[s].hasClass("allowbreak")){for(var l=!1;s<i.length-1&&i[s+1].hasClass("mspace");)s++,o.push(i[s]),i[s].hasClass("nobreak")&&(l=!0);l||(a.push(xt(o,t)),o=[])}else i[s].hasClass("newline")&&(o.pop(),0<o.length&&(a.push(xt(o,t)),o=[]),a.push(i[s]));0<o.length&&a.push(xt(o,t)),r&&((n=xt(dt(r,t,!0))).classes=["tag"],a.push(n));var h=ct(["katex-html"],a);if(h.setAttribute("aria-hidden","true"),n){var m=n.children[0];m.style.height=h.height+h.depth+"em",m.style.verticalAlign=-h.depth+"em"}return h}function kt(e){return new A(e)}var St=function(){function e(e,t){this.type=void 0,this.attributes=void 0,this.children=void 0,this.type=e,this.attributes={},this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.getAttribute=function(e){return this.attributes[e]},t.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e},t.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=Y.escape(this.attributes[t]),e+='"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">"},t.toText=function(){return this.children.map(function(e){return e.toText()}).join("")},e}(),zt=function(){function e(e,t){void 0===t&&(t=!0),this.text=void 0,this.needsEscape=void 0,this.text=e,this.needsEscape=t}var t=e.prototype;return t.toNode=function(){return document.createTextNode(this.toText())},t.toMarkup=function(){return this.toText()},t.toText=function(){return this.needsEscape?Y.escape(this.text):this.text},e}(),Mt={MathNode:St,TextNode:zt,SpaceNode:function(){function e(e){this.width=void 0,this.character=void 0,this.width=e,this.character=.05555<=e&&e<=.05556?"&VeryThinSpace;":.1666<=e&&e<=.1667?"&ThinSpace;":.2222<=e&&e<=.2223?"&MediumSpace;":.2777<=e&&e<=.2778?"&ThickSpace;":-.05556<=e&&e<=-.05555?"&NegativeVeryThinSpace;":-.1667<=e&&e<=-.1666?"&NegativeThinSpace;":-.2223<=e&&e<=-.2222?"&NegativeMediumSpace;":-.2778<=e&&e<=-.2777?"&NegativeThickSpace;":null}var t=e.prototype;return t.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",this.width+"em"),e},t.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},t.toText=function(){return this.character?this.character:" "},e}(),newDocumentFragment:kt},Tt=function(e,t,r){return!W[t][e]||!W[t][e].replace||55349===e.charCodeAt(0)||me.hasOwnProperty(e)&&r&&(r.fontFamily&&"tt"===r.fontFamily.substr(4,2)||r.font&&"tt"===r.font.substr(4,2))||(e=W[t][e].replace),new Mt.TextNode(e)},At=function(e){return 1===e.length?e[0]:new Mt.MathNode("mrow",e)},Bt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var r=t.font;if(!r||"mathnormal"===r)return null;var n=e.mode;if("mathit"===r)return"italic";if("boldsymbol"===r)return"bold-italic";var i=e.text;return Y.contains(["\\imath","\\jmath"],i)?null:(W[n][i]&&W[n][i].replace&&(i=W[n][i].replace),F(i,$e.fontMap[r].fontName,n)?$e.fontMap[r].variant:null)},Ct=function(e,t){for(var r,n=[],i=0;i<e.length;i++){var a=qt(e[i],t);if(a instanceof St&&r instanceof St){if("mtext"===a.type&&"mtext"===r.type&&a.getAttribute("mathvariant")===r.getAttribute("mathvariant")){var o;(o=r.children).push.apply(o,a.children);continue}if("mn"===a.type&&"mn"===r.type){var s;(s=r.children).push.apply(s,a.children);continue}if("mi"===a.type&&1===a.children.length&&"mn"===r.type){var l=a.children[0];if(l instanceof zt&&"."===l.text){var h;(h=r.children).push.apply(h,a.children);continue}}}n.push(a),r=a}return n},Nt=function(e,t){return At(Ct(e,t))},qt=function(e,t){if(!e)return new Mt.MathNode("mrow");if(st[e.type])return st[e.type](e,t);throw new X("Got group of unknown type: '"+e.type+"'")};var Et=function(e){return new Ie({style:e.displayMode?q.DISPLAY:q.TEXT,maxSize:e.maxSize})},Ot=function(e,t,r){var n=Et(r),i=function(e,t,r){var n,i=Ct(e,r);n=1===i.length&&i[0]instanceof St&&Y.contains(["mrow","mtable"],i[0].type)?i[0]:new Mt.MathNode("mrow",i);var a=new Mt.MathNode("annotation",[new Mt.TextNode(t)]);a.setAttribute("encoding","application/x-tex");var o=new Mt.MathNode("semantics",[n,a]),s=new Mt.MathNode("math",[o]);return $e.makeSpan(["katex-mathml"],[s])}(e,t,n),a=wt(e,n),o=$e.makeSpan(["katex"],[i,a]);return r.displayMode?$e.makeSpan(["katex-display"],[o]):o},It={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:" ",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:""},Rt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Lt=function(e,t,r,n){var i,a=e.height+e.depth+2*r;if(/fbox|color/.test(t)){if(i=$e.makeSpan(["stretchy",t],[],n),"fbox"===t){var o=n.color&&n.getColor();o&&(i.style.borderColor=o)}}else{var s=[];/^[bx]cancel$/.test(t)&&s.push(new L({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&s.push(new L({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new I(s,{width:"100%",height:a+"em"});i=$e.makeSvgSpan([],[l],n)}return i.height=a,i.style.height=a+"em",i},Ht=function(e){var t=new Mt.MathNode("mo",[new Mt.TextNode(It[e.substr(1)])]);return t.setAttribute("stretchy","true"),t},Dt=function(S,z){var e=function(){var e=4e5,t=S.label.substr(1);if(Y.contains(["widehat","widecheck","widetilde","utilde"],t)){var r,n,i,a="ordgroup"===(c=S.base).type?c.body.length:1;if(5<a)n="widehat"===t||"widecheck"===t?(r=420,e=2364,i=.42,t+"4"):(r=312,e=2340,i=.34,"tilde4");else{var o=[1,1,2,2,3,3][a];n="widehat"===t||"widecheck"===t?(e=[0,1062,2364,2364,2364][o],r=[0,239,300,360,420][o],i=[0,.24,.3,.3,.36,.42][o],t+o):(e=[0,600,1033,2339,2340][o],r=[0,260,286,306,312][o],i=[0,.26,.286,.3,.306,.34][o],"tilde"+o)}var s=new R(n),l=new I([s],{width:"100%",height:i+"em",viewBox:"0 0 "+e+" "+r,preserveAspectRatio:"none"});return{span:$e.makeSvgSpan([],[l],z),minWidth:0,height:i}}var h,m,c,u=[],p=Rt[t],d=p[0],f=p[1],g=p[2],v=g/1e3,y=d.length;if(1===y)h=["hide-tail"],m=[p[3]];else if(2===y)h=["halfarrow-left","halfarrow-right"],m=["xMinYMin","xMaxYMin"];else{if(3!==y)throw new Error("Correct katexImagesData or update code here to support\n                    "+y+" children.");h=["brace-left","brace-center","brace-right"],m=["xMinYMin","xMidYMin","xMaxYMin"]}for(var b=0;b<y;b++){var x=new R(d[b]),w=new I([x],{width:"400em",height:v+"em",viewBox:"0 0 "+e+" "+g,preserveAspectRatio:m[b]+" slice"}),k=$e.makeSvgSpan([h[b]],[w],z);if(1===y)return{span:k,minWidth:f,height:v};k.style.height=v+"em",u.push(k)}return{span:$e.makeSpan(["stretchy"],u,z),minWidth:f,height:v}}(),t=e.span,r=e.minWidth,n=e.height;return t.height=n,t.style.height=n+"em",0<r&&(t.style.minWidth=r+"em"),t},Pt=function(e,t){var r,n,i,a=Ke(e,"supsub");a?(r=(n=Ze(a.base,"accent")).base,a.base=r,i=function(e){if(e instanceof C)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(bt(a,t)),a.base=n):r=(n=Ze(e,"accent")).base;var o=bt(r,t.havingCrampedStyle()),s=0;if(n.isShifty&&Y.isCharacterBox(r)){var l=Y.getBaseElem(r);s=function(e){if(e instanceof O)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}(bt(l,t.havingCrampedStyle())).skew}var h,m=Math.min(o.height,t.fontMetrics().xHeight);if(n.isStretchy)h=Dt(n,t),h=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:0<s?{width:"calc(100% - "+2*s+"em)",marginLeft:2*s+"em"}:void 0}]},t);else{var c,u;u="\\vec"===n.label?(c=$e.staticSvg("vec",t),$e.svgData.vec[1]):((c=$e.makeSymbol(n.label,"Main-Regular",n.mode,t)).italic=0,c.width),h=$e.makeSpan(["accent-body"],[c]);var p="\\textcircled"===n.label;p&&(h.classes.push("accent-full"),m=o.height);var d=s;p||(d-=u/2),h.style.left=d+"em","\\textcircled"===n.label&&(h.style.top=".2em"),h=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-m},{type:"elem",elem:h}]},t)}var f=$e.makeSpan(["mord","accent"],[h],t);return i?(i.children[0]=f,i.height=Math.max(f.height,i.height),i.classes[0]="mord",i):f},Ft=function(e,t){var r=e.isStretchy?Ht(e.label):new Mt.MathNode("mo",[Tt(e.label,e.mode)]),n=new Mt.MathNode("mover",[qt(e.base,t),r]);return n.setAttribute("accent","true"),n},Vt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(e){return"\\"+e}).join("|"));lt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){var r=t[0],n=!Vt.test(e.funcName),i=!n||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:Pt,mathmlBuilder:Ft}),lt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var r=t[0];return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Pt,mathmlBuilder:Ft}),lt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:function(e,t){var r=bt(e.base,t),n=Dt(e,t),i="\\utilde"===e.label?.12:0,a=$e.makeVList({positionType:"bottom",positionData:n.height+i,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return $e.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:function(e,t){var r=Ht(e.label),n=new Mt.MathNode("munder",[qt(e.base,t),r]);return n.setAttribute("accentunder","true"),n}}),lt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,r){var n=e.parser,i=e.funcName;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder:function(e,t){var r,n=t.style,i=t.havingStyle(n.sup()),a=$e.wrapFragment(bt(e.body,i,t),t);a.classes.push("x-arrow-pad"),e.below&&(i=t.havingStyle(n.sub()),(r=$e.wrapFragment(bt(e.below,i,t),t)).classes.push("x-arrow-pad"));var o,s=Dt(e,t),l=-t.fontMetrics().axisHeight+.5*s.height,h=-t.fontMetrics().axisHeight-.5*s.height-.111;if((.25<a.depth||"\\xleftequilibrium"===e.label)&&(h-=a.depth),r){var m=-t.fontMetrics().axisHeight+r.height+.5*s.height+.111;o=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:h},{type:"elem",elem:s,shift:l},{type:"elem",elem:r,shift:m}]},t)}else o=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:h},{type:"elem",elem:s,shift:l}]},t);return o.children[0].children[0].children[1].classes.push("svg-align"),$e.makeSpan(["mrel","x-arrow"],[o],t)},mathmlBuilder:function(e,t){var r,n,i=Ht(e.label);if(e.body){var a=qt(e.body,t);r=e.below?(n=qt(e.below,t),new Mt.MathNode("munderover",[i,n,a])):new Mt.MathNode("mover",[i,a])}else r=e.below?(n=qt(e.below,t),new Mt.MathNode("munder",[i,n])):new Mt.MathNode("mover",[i]);return r}}),lt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){for(var r=e.parser,n=Ze(t[0],"ordgroup").body,i="",a=0;a<n.length;a++){i+=Ze(n[a],"textord").text}var o=parseInt(i);if(isNaN(o))throw new X("\\@char has non-numeric argument "+i);return{type:"textord",mode:r.mode,text:String.fromCharCode(o)}}});var Ut=function(e,t){var r=dt(e.body,t.withColor(e.color),!1);return $e.makeFragment(r)},Gt=function(e,t){var r=Ct(e.body,t),n=new Mt.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};lt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},handler:function(e,t){var r=e.parser,n=Ze(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:mt(i)}},htmlBuilder:Ut,mathmlBuilder:Gt}),lt({type:"color",names:["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],props:{numArgs:1,allowedInText:!0,greediness:3},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"color",mode:r.mode,color:"katex-"+n.slice(1),body:mt(i)}},htmlBuilder:Ut,mathmlBuilder:Gt}),lt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},handler:function(e,t){var r=e.parser,n=e.breakOnTokenText,i=Ze(t[0],"color-token").color,a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:Ut,mathmlBuilder:Gt}),lt({type:"cr",names:["\\cr","\\newline"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t,r){var n=e.parser,i=e.funcName,a=r[0],o="\\cr"===i,s=!1;return o||(s=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode")),{type:"cr",mode:n.mode,newLine:s,newRow:o,size:a&&Ze(a,"size").value}},htmlBuilder:function(e,t){if(e.newRow)throw new X("\\cr valid only within a tabular/array environment");var r=$e.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=He(e.size,t)+"em")),r},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",He(e.size,t)+"em")),r}});var Xt=function(e,t,r){var n=F(W.math[e]&&W.math[e].replace||e,t,r);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return n},Yt=function(e,t,r,n){var i=r.havingBaseStyle(t),a=$e.makeSpan(n.concat(i.sizingClasses(r)),[e],r),o=i.sizeMultiplier/r.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=i.sizeMultiplier,a},_t=function(e,t,r){var n=t.havingBaseStyle(r),i=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=i+"em",e.height-=i,e.depth+=i},Wt=function(e,t,r,n,i,a){var o,s,l,h,m=(o=e,s=t,l=i,h=n,$e.makeSymbol(o,"Size"+s+"-Regular",l,h)),c=Yt($e.makeSpan(["delimsizing","size"+t],[m],n),q.TEXT,n,a);return r&&_t(c,n,q.TEXT),c},jt=function(e,t,r){var n;return n="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:$e.makeSpan(["delimsizinginner",n],[$e.makeSpan([],[$e.makeSymbol(e,t,r)])])}},$t=function(e,t,r,n,i,a){var o,s,l,h;o=l=h=e,s=null;var m="Size1-Regular";"\\uparrow"===e?l=h="":"\\Uparrow"===e?l=h="":"\\downarrow"===e?o=l="":"\\Downarrow"===e?o=l="":"\\updownarrow"===e?(o="\\uparrow",l="",h="\\downarrow"):"\\Updownarrow"===e?(o="\\Uparrow",l="",h="\\Downarrow"):"["===e||"\\lbrack"===e?(o="",l="",h="",m="Size4-Regular"):"]"===e||"\\rbrack"===e?(o="",l="",h="",m="Size4-Regular"):"\\lfloor"===e||""===e?(l=o="",h="",m="Size4-Regular"):"\\lceil"===e||""===e?(o="",l=h="",m="Size4-Regular"):"\\rfloor"===e||""===e?(l=o="",h="",m="Size4-Regular"):"\\rceil"===e||""===e?(o="",l=h="",m="Size4-Regular"):"("===e||"\\lparen"===e?(o="",l="",h="",m="Size4-Regular"):")"===e||"\\rparen"===e?(o="",l="",h=" ",m="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(o="",s="",h="",l="",m="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(o="",s="",h="",l="",m="Size4-Regular"):"\\lgroup"===e||""===e?(o="",h="",l="",m="Size4-Regular"):"\\rgroup"===e||""===e?(o="",h="",l="",m="Size4-Regular"):"\\lmoustache"===e||""===e?(o="",h="",l="",m="Size4-Regular"):"\\rmoustache"!==e&&""!==e||(o="",h="",l="",m="Size4-Regular");var c=Xt(o,m,i),u=c.height+c.depth,p=Xt(l,m,i),d=p.height+p.depth,f=Xt(h,m,i),g=f.height+f.depth,v=0,y=1;if(null!==s){var b=Xt(s,m,i);v=b.height+b.depth,y=2}var x=u+g+v,w=Math.ceil((t-x)/(y*d)),k=x+w*y*d,S=n.fontMetrics().axisHeight;r&&(S*=n.sizeMultiplier);var z=k/2-S,M=[];if(M.push(jt(h,m,i)),null===s)for(var T=0;T<w;T++)M.push(jt(l,m,i));else{for(var A=0;A<w;A++)M.push(jt(l,m,i));M.push(jt(s,m,i));for(var B=0;B<w;B++)M.push(jt(l,m,i))}M.push(jt(o,m,i));var C=n.havingBaseStyle(q.TEXT),N=$e.makeVList({positionType:"bottom",positionData:z,children:M},C);return Yt($e.makeSpan(["delimsizing","mult"],[N],C),q.TEXT,n,a)},Zt=function(e,t,r,n){var i;"sqrtTall"===e&&(i="M702 80H400000v40H742v"+(r-54-80)+"l-4 4-4 4c-.667.7\n-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667\n-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155\n 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z");var a=new R(e,i),o=new I([a],{width:"400em",height:t+"em",viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return $e.makeSvgSpan(["hide-tail"],[o],n)},Kt=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Jt=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Qt=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],er=[0,1.2,1.8,2.4,3],tr=[{type:"small",style:q.SCRIPTSCRIPT},{type:"small",style:q.SCRIPT},{type:"small",style:q.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],rr=[{type:"small",style:q.SCRIPTSCRIPT},{type:"small",style:q.SCRIPT},{type:"small",style:q.TEXT},{type:"stack"}],nr=[{type:"small",style:q.SCRIPTSCRIPT},{type:"small",style:q.SCRIPT},{type:"small",style:q.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],ir=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},ar=function(e,t,r,n){for(var i=Math.min(2,3-n.style.size);i<r.length&&"stack"!==r[i].type;i++){var a=Xt(e,ir(r[i]),"math"),o=a.height+a.depth;if("small"===r[i].type&&(o*=n.havingBaseStyle(r[i].style).sizeMultiplier),t<o)return r[i]}return r[r.length-1]},or=function(e,t,r,n,i,a){var o;"<"===e||"\\lt"===e||""===e?e="\\langle":">"!==e&&"\\gt"!==e&&""!==e||(e="\\rangle"),o=Y.contains(Qt,e)?tr:Y.contains(Kt,e)?nr:rr;var s,l,h,m,c,u,p,d,f=ar(e,t,o,n);return"small"===f.type?(s=e,l=f.style,h=r,m=n,c=i,u=a,p=$e.makeSymbol(s,"Main-Regular",c,m),d=Yt(p,l,m,u),h&&_t(d,m,l),d):"large"===f.type?Wt(e,f.size,r,n,i,a):$t(e,t,r,n,i,a)},sr=function(e,t){var r,n,i=t.havingBaseSizing(),a=ar("\\surd",e*i.sizeMultiplier,nr,i),o=i.sizeMultiplier,s=0,l=0,h=0;return n="small"===a.type?(e<1?o=1:e<1.4&&(o=.7),l=1/o,(r=Zt("sqrtMain",s=1.08/o,h=1080,t)).style.minWidth="0.853em",.833/o):"large"===a.type?(h=1080*er[a.size],l=er[a.size]/o,s=(er[a.size]+.08)/o,(r=Zt("sqrtSize"+a.size,s,h,t)).style.minWidth="1.02em",1/o):(s=e+.08,l=e,h=Math.floor(1e3*e)+80,(r=Zt("sqrtTall",s,h,t)).style.minWidth="0.742em",1.056),r.height=l,r.style.height=s+"em",{span:r,advanceWidth:n,ruleWidth:t.fontMetrics().sqrtRuleThickness*o}},lr=function(e,t,r,n,i){if("<"===e||"\\lt"===e||""===e?e="\\langle":">"!==e&&"\\gt"!==e&&""!==e||(e="\\rangle"),Y.contains(Kt,e)||Y.contains(Qt,e))return Wt(e,t,!1,r,n,i);if(Y.contains(Jt,e))return $t(e,er[t],!1,r,n,i);throw new X("Illegal delimiter: '"+e+"'")},hr=or,mr=function(e,t,r,n,i,a){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,s=5/n.fontMetrics().ptPerEm,l=Math.max(t-o,r+o),h=Math.max(l/500*901,2*l-s);return or(e,h,!0,n,i,a)},cr={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},ur=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function pr(e,t){var r=Qe(e);if(r&&Y.contains(ur,r.text))return r;throw new X("Invalid delimiter: '"+(r?r.text:JSON.stringify(e))+"' after '"+t.funcName+"'",e)}function dr(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}lt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(e,t){var r=pr(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:cr[e.funcName].size,mclass:cr[e.funcName].mclass,delim:r.text}},htmlBuilder:function(e,t){return"."===e.delim?$e.makeSpan([e.mclass]):lr(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.delim&&t.push(Tt(e.delim,e.mode));var r=new Mt.MathNode("mo",t);return"mopen"===e.mclass||"mclose"===e.mclass?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r}}),lt({type:"leftright-right",names:["\\right"],props:{numArgs:1},handler:function(e,t){return{type:"leftright-right",mode:e.parser.mode,delim:pr(t[0],e).text}}}),lt({type:"leftright",names:["\\left"],props:{numArgs:1},handler:function(e,t){var r=pr(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Ze(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim}},htmlBuilder:function(e,t){dr(e);for(var r,n,i=dt(e.body,t,!0,[null,"mclose"]),a=0,o=0,s=!1,l=0;l<i.length;l++)i[l].isMiddle?s=!0:(a=Math.max(i[l].height,a),o=Math.max(i[l].depth,o));if(a*=t.sizeMultiplier,o*=t.sizeMultiplier,r="."===e.left?yt(t,["mopen"]):mr(e.left,a,o,t,e.mode,["mopen"]),i.unshift(r),s)for(var h=1;h<i.length;h++){var m=i[h].isMiddle;m&&(i[h]=mr(m.delim,a,o,m.options,e.mode,[]))}return n="."===e.right?yt(t,["mclose"]):mr(e.right,a,o,t,e.mode,["mclose"]),i.push(n),$e.makeSpan(["minner"],i,t)},mathmlBuilder:function(e,t){dr(e);var r=Ct(e.body,t);if("."!==e.left){var n=new Mt.MathNode("mo",[Tt(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if("."!==e.right){var i=new Mt.MathNode("mo",[Tt(e.right,e.mode)]);i.setAttribute("fence","true"),r.push(i)}return At(r)}}),lt({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(e,t){var r=pr(t[0],e);if(!e.parser.leftrightDepth)throw new X("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:function(e,t){var r;if("."===e.delim)r=yt(t,[]);else{r=lr(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mo",[Tt(e.delim,e.mode)]);return r.setAttribute("fence","true"),r}});var fr=function(e,t){var r,n,i=$e.wrapFragment(bt(e.body,t),t),a=e.label.substr(1),o=t.sizeMultiplier,s=0,l=Y.isCharacterBox(e.body);if("sout"===a)(r=$e.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/o,s=-.5*t.fontMetrics().xHeight;else{/cancel/.test(a)?l||i.classes.push("cancel-pad"):i.classes.push("boxpad");var h=0;h=/box/.test(a)?"colorbox"===a?.3:.34:l?.2:0,r=Lt(i,a,h,t),s=i.depth+h,e.backgroundColor&&(r.style.backgroundColor=e.backgroundColor,e.borderColor&&(r.style.borderColor=e.borderColor))}return n=e.backgroundColor?$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:s},{type:"elem",elem:i,shift:0}]},t):$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:r,shift:s,wrapperClasses:/cancel/.test(a)?["svg-align"]:[]}]},t),/cancel/.test(a)&&(n.height=i.height,n.depth=i.depth),/cancel/.test(a)&&!l?$e.makeSpan(["mord","cancel-lap"],[n],t):$e.makeSpan(["mord"],[n],t)},gr=function(e,t){var r=new Mt.MathNode("menclose",[qt(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":case"\\fcolorbox":r.setAttribute("notation","box");break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};lt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},handler:function(e,t,r){var n=e.parser,i=e.funcName,a=Ze(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:o}},htmlBuilder:fr,mathmlBuilder:gr}),lt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},handler:function(e,t,r){var n=e.parser,i=e.funcName,a=Ze(t[0],"color-token").color,o=Ze(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,borderColor:a,body:s}},htmlBuilder:fr,mathmlBuilder:gr}),lt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),lt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout"],props:{numArgs:1},handler:function(e,t,r){var n=e.parser,i=e.funcName,a=t[0];return{type:"enclose",mode:n.mode,label:i,body:a}},htmlBuilder:fr,mathmlBuilder:gr});var vr={};function yr(e){for(var t=e.type,r=e.names,n=e.props,i=e.handler,a=e.htmlBuilder,o=e.mathmlBuilder,s={type:t,numArgs:n.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)vr[r[l]]=s;a&&(ot[t]=a),o&&(st[t]=o)}function br(e){var t=[];e.consumeSpaces();for(var r=e.nextToken.text;"\\hline"===r||"\\hdashline"===r;)e.consume(),t.push("\\hdashline"===r),e.consumeSpaces(),r=e.nextToken.text;return t}function xr(e,t,r){var n=t.hskipBeforeAndAfter,i=t.addJot,a=t.cols,o=t.arraystretch;if(e.gullet.beginGroup(),e.gullet.macros.set("\\\\","\\cr"),!o){var s=e.gullet.expandMacroAsText("\\arraystretch");if(null==s)o=1;else if(!(o=parseFloat(s))||o<0)throw new X("Invalid \\arraystretch: "+s)}var l=[],h=[l],m=[],c=[];for(c.push(br(e));;){var u=e.parseExpression(!1,"\\cr");u={type:"ordgroup",mode:e.mode,body:u},r&&(u={type:"styling",mode:e.mode,style:r,body:[u]}),l.push(u);var p=e.nextToken.text;if("&"===p)e.consume();else{if("\\end"===p){1===l.length&&"styling"===u.type&&0===u.body[0].body.length&&h.pop(),c.length<h.length+1&&c.push([]);break}if("\\cr"!==p)throw new X("Expected & or \\\\ or \\cr or \\end",e.nextToken);var d=Ze(e.parseFunction(),"cr");m.push(d.size),c.push(br(e)),l=[],h.push(l)}}return e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:o,body:h,cols:a,rowGaps:m,hskipBeforeAndAfter:n,hLinesBeforeRow:c}}function wr(e){return"d"===e.substr(0,1)?"display":"text"}var kr=function(e,t){var r,n,i=e.body.length,a=e.hLinesBeforeRow,o=0,s=new Array(i),l=[],h=1/t.fontMetrics().ptPerEm,m=5*h,c=12*h,u=3*h,p=e.arraystretch*c,d=.7*p,f=.3*p,g=0;function v(e){for(var t=0;t<e.length;++t)0<t&&(g+=.25),l.push({pos:g,isDashed:e[t]})}for(v(a[0]),r=0;r<e.body.length;++r){var y=e.body[r],b=d,x=f;o<y.length&&(o=y.length);var w=new Array(y.length);for(n=0;n<y.length;++n){var k=bt(y[n],t);x<k.depth&&(x=k.depth),b<k.height&&(b=k.height),w[n]=k}var S=e.rowGaps[r],z=0;S&&0<(z=He(S,t))&&(x<(z+=f)&&(x=z),z=0),e.addJot&&(x+=u),w.height=b,w.depth=x,g+=b,w.pos=g,g+=x+z,s[r]=w,v(a[r+1])}var M,T,A=g/2+t.fontMetrics().axisHeight,B=e.cols||[],C=[];for(T=n=0;n<o||T<B.length;++n,++T){for(var N=B[T]||{},q=!0;"separator"===N.type;){if(q||((M=$e.makeSpan(["arraycolsep"],[])).style.width=t.fontMetrics().doubleRuleSep+"em",C.push(M)),"|"===N.separator){var E=$e.makeSpan(["vertical-separator"],[],t);E.style.height=g+"em",E.style.verticalAlign=-(g-A)+"em",C.push(E)}else{if(":"!==N.separator)throw new X("Invalid separator type: "+N.separator);var O=$e.makeSpan(["vertical-separator","vs-dashed"],[],t);O.style.height=g+"em",O.style.verticalAlign=-(g-A)+"em",C.push(O)}N=B[++T]||{},q=!1}if(!(o<=n)){var I=void 0;(0<n||e.hskipBeforeAndAfter)&&0!==(I=Y.deflt(N.pregap,m))&&((M=$e.makeSpan(["arraycolsep"],[])).style.width=I+"em",C.push(M));var R=[];for(r=0;r<i;++r){var L=s[r],H=L[n];if(H){var D=L.pos-A;H.depth=L.depth,H.height=L.height,R.push({type:"elem",elem:H,shift:D})}}R=$e.makeVList({positionType:"individualShift",children:R},t),R=$e.makeSpan(["col-align-"+(N.align||"c")],[R]),C.push(R),(n<o-1||e.hskipBeforeAndAfter)&&0!==(I=Y.deflt(N.postgap,m))&&((M=$e.makeSpan(["arraycolsep"],[])).style.width=I+"em",C.push(M))}}if(s=$e.makeSpan(["mtable"],C),0<l.length){for(var P=$e.makeLineSpan("hline",t,.05),F=$e.makeLineSpan("hdashline",t,.05),V=[{type:"elem",elem:s,shift:0}];0<l.length;){var U=l.pop(),G=U.pos-A;U.isDashed?V.push({type:"elem",elem:F,shift:G}):V.push({type:"elem",elem:P,shift:G})}s=$e.makeVList({positionType:"individualShift",children:V},t)}return $e.makeSpan(["mord"],[s],t)},Sr=function(e,t){return new Mt.MathNode("mtable",e.body.map(function(e){return new Mt.MathNode("mtr",e.map(function(e){return new Mt.MathNode("mtd",[qt(e,t)])}))}))},zr=function(e,t){var n,r=[],i=xr(e.parser,{cols:r,addJot:!0},"display"),a=0,o={type:"ordgroup",mode:e.mode,body:[]},s=Ke(t[0],"ordgroup");if(s){for(var l="",h=0;h<s.body.length;h++){l+=Ze(s.body[h],"textord").text}n=Number(l),a=2*n}var m=!a;i.body.forEach(function(e){for(var t=1;t<e.length;t+=2){Ze(Ze(e[t],"styling").body[0],"ordgroup").body.unshift(o)}if(m)a<e.length&&(a=e.length);else{var r=e.length/2;if(n<r)throw new X("Too many math in a row: expected "+n+", but got "+r,e[0])}});for(var c=0;c<a;++c){var u="r",p=0;c%2==1?u="l":0<c&&m&&(p=1),r[c]={type:"align",align:u,pregap:p,postgap:0}}return i};yr({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var r={cols:(Qe(t[0])?[t[0]]:Ze(t[0],"ordgroup").body).map(function(e){var t=function(e){var t=Qe(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new X("Unknown column alignment: "+t,e)}),hskipBeforeAndAfter:!0};return xr(e.parser,r,wr(e.envName))},htmlBuilder:kr,mathmlBuilder:Sr}),yr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName],r=xr(e.parser,{hskipBeforeAndAfter:!1},wr(e.envName));return t?{type:"leftright",mode:e.mode,body:[r],left:t[0],right:t[1]}:r},htmlBuilder:kr,mathmlBuilder:Sr}),yr({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(e){var t=xr(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},wr(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:"\\{",right:"."}},htmlBuilder:kr,mathmlBuilder:Sr}),yr({type:"array",names:["aligned"],props:{numArgs:0},handler:zr,htmlBuilder:kr,mathmlBuilder:Sr}),yr({type:"array",names:["gathered"],props:{numArgs:0},handler:function(e){return xr(e.parser,{cols:[{type:"align",align:"c"}],addJot:!0},"display")},htmlBuilder:kr,mathmlBuilder:Sr}),yr({type:"array",names:["alignedat"],props:{numArgs:1},handler:zr,htmlBuilder:kr,mathmlBuilder:Sr}),lt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new X(e.funcName+" valid only within array environment")}});var Mr=vr;lt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];if("ordgroup"!==i.type)throw new X("Invalid environment name",i);for(var a="",o=0;o<i.body.length;++o)a+=Ze(i.body[o],"textord").text;if("\\begin"!==n)return{type:"environment",mode:r.mode,name:a,nameGroup:i};if(!Mr.hasOwnProperty(a))throw new X("No such environment: "+a,i);var s=Mr[a],l=r.parseArguments("\\begin{"+a+"}",s),h=l.args,m=l.optArgs,c={mode:r.mode,envName:a,parser:r},u=s.handler(c,h,m);r.expect("\\end",!1);var p=r.nextToken,d=Ze(r.parseFunction(),"environment");if(d.name!==a)throw new X("Mismatch: \\begin{"+a+"} matched by \\end{"+d.name+"}",p);return u}});var Tr=$e.makeSpan;function Ar(e,t){var r=dt(e.body,t,!0);return Tr([e.mclass],r,t)}function Br(e,t){var r=Ct(e.body,t);return Mt.newDocumentFragment(r)}lt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.substr(5),body:mt(i)}},htmlBuilder:Ar,mathmlBuilder:Br});var Cr=function(e){var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};lt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:Cr(t[0]),body:[t[1]]}}}),lt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var r,n=e.parser,i=e.funcName,a=t[1],o=t[0];r="\\stackrel"!==i?Cr(a):"mrel";var s={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:mt(a)},l={type:"supsub",mode:o.mode,base:s,sup:"\\underset"===i?null:o,sub:"\\underset"===i?o:null};return{type:"mclass",mode:n.mode,mclass:r,body:[l]}},htmlBuilder:Ar,mathmlBuilder:Br});var Nr=function(e,t){var r=e.font,n=t.withFont(r);return bt(e.body,n)},qr=function(e,t){var r=e.font,n=t.withFont(r);return qt(e.body,n)},Er={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};lt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,greediness:2},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0],a=n;return a in Er&&(a=Er[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:Nr,mathmlBuilder:qr}),lt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1,greediness:2},handler:function(e,t){var r=e.parser,n=t[0];return{type:"mclass",mode:r.mode,mclass:Cr(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}]}}}),lt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,i=e.breakOnTokenText,a=r.mode;r.consumeSpaces();var o=r.parseExpression(!0,i);return{type:"font",mode:a,font:"math"+n.slice(1),body:{type:"ordgroup",mode:r.mode,body:o}}},htmlBuilder:Nr,mathmlBuilder:qr});var Or=function(e,t){var r=t.style;"display"===e.size?r=q.DISPLAY:"text"===e.size&&r.size===q.DISPLAY.size?r=q.TEXT:"script"===e.size?r=q.SCRIPT:"scriptscript"===e.size&&(r=q.SCRIPTSCRIPT);var n,i=r.fracNum(),a=r.fracDen();n=t.havingStyle(i);var o=bt(e.numer,n,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;o.height=o.height<s?s:o.height,o.depth=o.depth<l?l:o.depth}n=t.havingStyle(a);var h,m,c,u,p,d,f,g,v,y,b=bt(e.denom,n,t);if(c=e.hasBarLine?(m=(h=e.barSize?(m=He(e.barSize,t),$e.makeLineSpan("frac-line",t,m)):$e.makeLineSpan("frac-line",t)).height,h.height):(h=null,m=0,t.fontMetrics().defaultRuleThickness),d=r.size===q.DISPLAY.size?(u=t.fontMetrics().num1,p=0<m?3*c:7*c,t.fontMetrics().denom1):(p=0<m?(u=t.fontMetrics().num2,c):(u=t.fontMetrics().num3,3*c),t.fontMetrics().denom2),h){var x=t.fontMetrics().axisHeight;u-o.depth-(x+.5*m)<p&&(u+=p-(u-o.depth-(x+.5*m))),x-.5*m-(b.height-d)<p&&(d+=p-(x-.5*m-(b.height-d)));var w=-(x-.5*m);f=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:d},{type:"elem",elem:h,shift:w},{type:"elem",elem:o,shift:-u}]},t)}else{var k=u-o.depth-(b.height-d);k<p&&(u+=.5*(p-k),d+=.5*(p-k)),f=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:d},{type:"elem",elem:o,shift:-u}]},t)}return n=t.havingStyle(r),f.height*=n.sizeMultiplier/t.sizeMultiplier,f.depth*=n.sizeMultiplier/t.sizeMultiplier,g=r.size===q.DISPLAY.size?t.fontMetrics().delim1:t.fontMetrics().delim2,v=null==e.leftDelim?yt(t,["mopen"]):hr(e.leftDelim,g,!0,t.havingStyle(r),e.mode,["mopen"]),y=e.continued?$e.makeSpan([]):null==e.rightDelim?yt(t,["mclose"]):hr(e.rightDelim,g,!0,t.havingStyle(r),e.mode,["mclose"]),$e.makeSpan(["mord"].concat(n.sizingClasses(t)),[v,$e.makeSpan(["mfrac"],[f]),y],t)},Ir=function(e,t){var r=new Mt.MathNode("mfrac",[qt(e.numer,t),qt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var n=He(e.barSize,t);r.setAttribute("linethickness",n+"em")}}else r.setAttribute("linethickness","0px");if(null==e.leftDelim&&null==e.rightDelim)return r;var i=[];if(null!=e.leftDelim){var a=new Mt.MathNode("mo",[new Mt.TextNode(e.leftDelim)]);a.setAttribute("fence","true"),i.push(a)}if(i.push(r),null!=e.rightDelim){var o=new Mt.MathNode("mo",[new Mt.TextNode(e.rightDelim)]);o.setAttribute("fence","true"),i.push(o)}return At(i)};lt({type:"genfrac",names:["\\cfrac","\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,greediness:2},handler:function(e,t){var r,n=e.parser,i=e.funcName,a=t[0],o=t[1],s=null,l=null,h="auto";switch(i){case"\\cfrac":case"\\dfrac":case"\\frac":case"\\tfrac":r=!0;break;case"\\\\atopfrac":r=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r=!1,s="(",l=")";break;case"\\\\bracefrac":r=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":r=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\cfrac":case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text"}return{type:"genfrac",mode:n.mode,continued:"\\cfrac"===i,numer:a,denom:o,hasBarLine:r,leftDelim:s,rightDelim:l,size:h,barSize:null}},htmlBuilder:Or,mathmlBuilder:Ir}),lt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t,r=e.parser,n=e.funcName,i=e.token;switch(n){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:r.mode,replaceWith:t,token:i}}});var Rr=["display","text","script","scriptscript"],Lr=function(e){var t=null;return 0<e.length&&(t="."===(t=e)?null:t),t};lt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,greediness:6,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){var r=e.parser,n=t[4],i=t[5],a=Ke(t[0],"ordgroup");a=Je(a?a.body[0]:t[0],"open");var o=Lr(a.text),s=Ke(t[1],"ordgroup");s=Je(s?s.body[0]:t[1],"close");var l,h=Lr(s.text),m=Ze(t[2],"size"),c=null;l=!!m.isBlank||0<(c=m.value).number;var u="auto",p=Ke(t[3],"ordgroup");if(p){if(0<p.body.length){var d=Ze(p.body[0],"textord");u=Rr[Number(d.text)]}}else p=Ze(t[3],"textord"),u=Rr[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:l,barSize:c,leftDelim:o,rightDelim:h,size:u}},htmlBuilder:Or,mathmlBuilder:Ir}),lt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var r=e.parser,n=(e.funcName,e.token);return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Ze(t[0],"size").value,token:n}}}),lt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){var r=e.parser,n=(e.funcName,t[0]),i=T(Ze(t[1],"infix").size),a=t[2],o=0<i.number;return{type:"genfrac",mode:r.mode,numer:n,denom:a,continued:!1,hasBarLine:o,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Or,mathmlBuilder:Ir});var Hr=function(e,t){var r,n,i=t.style,a=Ke(e,"supsub");n=a?(r=a.sup?bt(a.sup,t.havingStyle(i.sup()),t):bt(a.sub,t.havingStyle(i.sub()),t),Ze(a.base,"horizBrace")):Ze(e,"horizBrace");var o,s=bt(n.base,t.havingBaseStyle(q.DISPLAY)),l=Dt(n,t);if(n.isOver?(o=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:l}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(o=$e.makeVList({positionType:"bottom",positionData:s.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[0].classes.push("svg-align"),r){var h=$e.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t);o=n.isOver?$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:r}]},t):$e.makeVList({positionType:"bottom",positionData:h.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:h}]},t)}return $e.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t)};lt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:Hr,mathmlBuilder:function(e,t){var r=Ht(e.label);return new Mt.MathNode(e.isOver?"mover":"munder",[qt(e.base,t),r])}}),lt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[1],i=Ze(t[0],"url").url;return{type:"href",mode:r.mode,href:i,body:mt(n)}},htmlBuilder:function(e,t){var r=dt(e.body,t,!1);return $e.makeAnchor(e.href,[],r,t)},mathmlBuilder:function(e,t){var r=Nt(e.body,t);return r instanceof St||(r=new St("mrow",[r])),r.setAttribute("href",e.href),r}}),lt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){for(var r=e.parser,n=Ze(t[0],"url").url,i=[],a=0;a<n.length;a++){var o=n[a];"~"===o&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var s={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:mt(s)}}}),lt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:mt(t[0]),mathml:mt(t[1])}},htmlBuilder:function(e,t){var r=dt(e.html,t,!1);return $e.makeFragment(r)},mathmlBuilder:function(e,t){return Nt(e.mathml,t)}}),lt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,i=Ze(t[0],"size");if(r.settings.strict){var a="m"===n[1],o="mu"===i.value.unit;a?(o||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, not "+i.value.unit+" units"),"math"!==r.mode&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):o&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder:function(e,t){return $e.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){var r=He(e.dimension,t);return new Mt.SpaceNode(r)}}),lt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:function(e,t){var r;r="clap"===e.alignment?(r=$e.makeSpan([],[bt(e.body,t)]),$e.makeSpan(["inner"],[r],t)):$e.makeSpan(["inner"],[bt(e.body,t)]);var n=$e.makeSpan(["fix"],[]),i=$e.makeSpan([e.alignment],[r,n],t),a=$e.makeSpan(["strut"]);return a.style.height=i.height+i.depth+"em",a.style.verticalAlign=-i.depth+"em",i.children.unshift(a),i=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},t),$e.makeSpan(["mord"],[i],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mpadded",[qt(e.body,t)]);if("rlap"!==e.alignment){var n="llap"===e.alignment?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}}),lt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1,consumeMode:"math"},handler:function(e,t){var r=e.funcName,n=e.parser,i=n.mode;n.switchMode("math");var a="\\("===r?"\\)":"$",o=n.parseExpression(!1,a);return n.expect(a,!1),n.switchMode(i),n.consume(),{type:"styling",mode:n.mode,style:"text",body:o}}}),lt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new X("Mismatched "+e.funcName)}});var Dr=function(e,t){switch(t.style.size){case q.DISPLAY.size:return e.display;case q.TEXT.size:return e.text;case q.SCRIPT.size:return e.script;case q.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};lt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:mt(t[0]),text:mt(t[1]),script:mt(t[2]),scriptscript:mt(t[3])}},htmlBuilder:function(e,t){var r=Dr(e,t),n=dt(r,t,!1);return $e.makeFragment(n)},mathmlBuilder:function(e,t){var r=Dr(e,t);return Nt(r,t)}});var Pr=function(e,t){var r,n,i,a=!1,o=Ke(e,"supsub");o?(r=o.sup,n=o.sub,i=Ze(o.base,"op"),a=!0):i=Ze(e,"op");var s,l=t.style,h=!1;if(l.size===q.DISPLAY.size&&i.symbol&&!Y.contains(["\\smallint"],i.name)&&(h=!0),i.symbol){var m=h?"Size2-Regular":"Size1-Regular",c="";if("\\oiint"!==i.name&&"\\oiiint"!==i.name||(c=i.name.substr(1),i.name="oiint"===c?"\\iint":"\\iiint"),s=$e.makeSymbol(i.name,m,"math",t,["mop","op-symbol",h?"large-op":"small-op"]),0<c.length){var u=s.italic,p=$e.staticSvg(c+"Size"+(h?"2":"1"),t);s=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:p,shift:h?.08:0}]},t),i.name="\\"+c,s.classes.unshift("mop"),s.italic=u}}else if(i.body){var d=dt(i.body,t,!0);1===d.length&&d[0]instanceof O?(s=d[0]).classes[0]="mop":s=$e.makeSpan(["mop"],$e.tryCombineChars(d),t)}else{for(var f=[],g=1;g<i.name.length;g++)f.push($e.mathsym(i.name[g],i.mode));s=$e.makeSpan(["mop"],f,t)}var v=0,y=0;if((s instanceof O||"\\oiint"===i.name||"\\oiiint"===i.name)&&!i.suppressBaseShift&&(v=(s.height-s.depth)/2-t.fontMetrics().axisHeight,y=s.italic),a){var b,x,w;if(s=$e.makeSpan([],[s]),r){var k=bt(r,t.havingStyle(l.sup()),t);x={elem:k,kern:Math.max(t.fontMetrics().bigOpSpacing1,t.fontMetrics().bigOpSpacing3-k.depth)}}if(n){var S=bt(n,t.havingStyle(l.sub()),t);b={elem:S,kern:Math.max(t.fontMetrics().bigOpSpacing2,t.fontMetrics().bigOpSpacing4-S.height)}}if(x&&b){var z=t.fontMetrics().bigOpSpacing5+b.elem.height+b.elem.depth+b.kern+s.depth+v;w=$e.makeVList({positionType:"bottom",positionData:z,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:b.elem,marginLeft:-y+"em"},{type:"kern",size:b.kern},{type:"elem",elem:s},{type:"kern",size:x.kern},{type:"elem",elem:x.elem,marginLeft:y+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}else if(b){var M=s.height-v;w=$e.makeVList({positionType:"top",positionData:M,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:b.elem,marginLeft:-y+"em"},{type:"kern",size:b.kern},{type:"elem",elem:s}]},t)}else{if(!x)return s;var T=s.depth+v;w=$e.makeVList({positionType:"bottom",positionData:T,children:[{type:"elem",elem:s},{type:"kern",size:x.kern},{type:"elem",elem:x.elem,marginLeft:y+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}return $e.makeSpan(["mop","op-limits"],[w],t)}return v&&(s.style.position="relative",s.style.top=v+"em"),s},Fr=function(e,t){var r;if(e.symbol)r=new St("mo",[Tt(e.name,e.mode)]);else{if(!e.body)return kt([r=new St("mi",[new zt(e.name.slice(1))]),new St("mo",[Tt("","text")])]);r=new St("mo",Ct(e.body,t))}return r},Vr={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcap","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};lt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:function(e,t){var r=e.parser,n=e.funcName;return 1===n.length&&(n=Vr[n]),{type:"op",mode:r.mode,limits:!0,symbol:!0,name:n}},htmlBuilder:Pr,mathmlBuilder:Fr}),lt({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=t[0];return{type:"op",mode:r.mode,limits:!1,symbol:!1,body:mt(n)}},htmlBuilder:Pr,mathmlBuilder:Fr});var Ur={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};function Gr(e,t,r){for(var n=dt(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var o=n[a].classes.indexOf("sizing");o<0?Array.prototype.push.apply(n[a].classes,t.sizingClasses(r)):n[a].classes[o+1]==="reset-size"+t.size&&(n[a].classes[o+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return $e.makeFragment(n)}lt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){var t=e.parser,r=e.funcName;return{type:"op",mode:t.mode,limits:!1,symbol:!1,name:r}},htmlBuilder:Pr,mathmlBuilder:Fr}),lt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){var t=e.parser,r=e.funcName;return{type:"op",mode:t.mode,limits:!0,symbol:!1,name:r}},htmlBuilder:Pr,mathmlBuilder:Fr}),lt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler:function(e){var t=e.parser,r=e.funcName;return 1===r.length&&(r=Ur[r]),{type:"op",mode:t.mode,limits:!1,symbol:!0,name:r}},htmlBuilder:Pr,mathmlBuilder:Fr}),lt({type:"operatorname",names:["\\operatorname"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=t[0];return{type:"operatorname",mode:r.mode,body:mt(n)}},htmlBuilder:function(e,t){if(0<e.body.length){for(var r=e.body.map(function(e){var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e}),n=dt(r,t.withFont("mathrm"),!0),i=0;i<n.length;i++){var a=n[i];a instanceof O&&(a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}return $e.makeSpan(["mop"],n,t)}return $e.makeSpan(["mop"],[],t)},mathmlBuilder:function(e,t){for(var r=Ct(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(a instanceof Mt.SpaceNode);else if(a instanceof Mt.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var o=a.children[0];1===a.children.length&&o instanceof Mt.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break;default:n=!1}else n=!1}if(n){var s=r.map(function(e){return e.toText()}).join("");r=[new Mt.TextNode(s,!1)]}var l=new Mt.MathNode("mi",r);l.setAttribute("mathvariant","normal");var h=new Mt.MathNode("mo",[Tt("","text")]);return Mt.newDocumentFragment([l,h])}}),ht({type:"ordgroup",htmlBuilder:function(e,t){return $e.makeSpan(["mord"],dt(e.body,t,!0),t)},mathmlBuilder:function(e,t){return Nt(e.body,t)}}),lt({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder:function(e,t){var r=bt(e.body,t.havingCrampedStyle()),n=$e.makeLineSpan("overline-line",t),i=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*n.height},{type:"elem",elem:n},{type:"kern",size:n.height}]},t);return $e.makeSpan(["mord","overline"],[i],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mo",[new Mt.TextNode("")]);r.setAttribute("stretchy","true");var n=new Mt.MathNode("mover",[qt(e.body,t),r]);return n.setAttribute("accent","true"),n}}),lt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"phantom",mode:r.mode,body:mt(n)}},htmlBuilder:function(e,t){var r=dt(e.body,t.withPhantom(),!1);return $e.makeFragment(r)},mathmlBuilder:function(e,t){var r=Ct(e.body,t);return new Mt.MathNode("mphantom",r)}}),lt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:function(e,t){var r=$e.makeSpan([],[bt(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){var r=Ct(mt(e.body),t),n=new Mt.MathNode("mphantom",r);return n.setAttribute("height","0px"),n}}),lt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:function(e,t){var r=$e.makeSpan(["inner"],[bt(e.body,t.withPhantom())]),n=$e.makeSpan(["fix"],[]);return $e.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:function(e,t){var r=Ct(mt(e.body),t),n=new Mt.MathNode("mphantom",r);return n.setAttribute("width","0px"),n}});var Xr=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Yr=function(e,t){var r=t.havingSize(e.size);return Gr(e.body,r,t)};lt({type:"sizing",names:Xr,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var r=e.breakOnTokenText,n=e.funcName,i=e.parser;i.consumeSpaces();var a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:Xr.indexOf(n)+1,body:a}},htmlBuilder:Yr,mathmlBuilder:function(e,t){var r=t.havingSize(e.size),n=Ct(e.body,r),i=new Mt.MathNode("mstyle",n);return i.setAttribute("mathsize",r.sizeMultiplier+"em"),i}}),lt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","text"],allowedInText:!0},handler:function(e,t){var r=e.parser,n=Ze(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder:function(e,t){var r={type:"text",mode:e.mode,body:mt(e.body),font:"mathrm"},n={type:"sizing",mode:e.mode,body:[r],size:6},i=Yr(n,t),a=He(e.dy,t);return $e.makeVList({positionType:"shift",positionData:-a,children:[{type:"elem",elem:i}]},t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mpadded",[qt(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}}),lt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,r){var n=e.parser,i=r[0],a=Ze(t[0],"size"),o=Ze(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&Ze(i,"size").value,width:a.value,height:o.value}},htmlBuilder:function(e,t){var r=$e.makeSpan(["mord","rule"],[],t),n=0;e.shift&&(n=He(e.shift,t));var i=He(e.width,t),a=He(e.height,t);return r.style.borderRightWidth=i+"em",r.style.borderTopWidth=a+"em",r.style.bottom=n+"em",r.width=i,r.height=a+n,r.depth=-n,r.maxFontSize=1.125*a*t.sizeMultiplier,r},mathmlBuilder:function(e,t){return new Mt.MathNode("mrow")}}),lt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,r){var n=e.parser,i=!1,a=!1,o=r[0]&&Ze(r[0],"ordgroup");if(o)for(var s="",l=0;l<o.body.length;++l){if("t"===(s=o.body[l].text))i=!0;else{if("b"!==s){a=i=!1;break}a=!0}}else a=i=!0;var h=t[0];return{type:"smash",mode:n.mode,body:h,smashHeight:i,smashDepth:a}},htmlBuilder:function(e,t){var r=$e.makeSpan(["mord"],[bt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;return $e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mpadded",[qt(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}}),lt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,r){var n=e.parser,i=r[0],a=t[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder:function(e,t){var r=bt(e.body,t.havingCrampedStyle());0===r.height&&(r.height=t.fontMetrics().xHeight),r=$e.wrapFragment(r,t);var n=t.fontMetrics().defaultRuleThickness,i=n;t.style.id<q.TEXT.id&&(i=t.fontMetrics().xHeight);var a=n+i/4,o=r.height+r.depth+a+n,s=sr(o,t),l=s.span,h=s.ruleWidth,m=s.advanceWidth,c=l.height-h;c>r.height+r.depth+a&&(a=(a+c-r.height-r.depth)/2);var u=l.height-r.height-a-h;r.style.paddingLeft=m+"em";var p=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+u)},{type:"elem",elem:l},{type:"kern",size:h}]},t);if(e.index){var d=t.havingStyle(q.SCRIPTSCRIPT),f=bt(e.index,d,t),g=.6*(p.height-p.depth),v=$e.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:f}]},t),y=$e.makeSpan(["root"],[v]);return $e.makeSpan(["mord","sqrt"],[y,p],t)}return $e.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder:function(e,t){var r=e.body,n=e.index;return n?new Mt.MathNode("mroot",[qt(r,t),qt(n,t)]):new Mt.MathNode("msqrt",[qt(r,t)])}});var _r={display:q.DISPLAY,text:q.TEXT,script:q.SCRIPT,scriptscript:q.SCRIPTSCRIPT};lt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var r=e.breakOnTokenText,n=e.funcName,i=e.parser;i.consumeSpaces();var a=i.parseExpression(!0,r),o=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:o,body:a}},htmlBuilder:function(e,t){var r=_r[e.style],n=t.havingStyle(r).withFont("");return Gr(e.body,n,t)},mathmlBuilder:function(e,t){var r={display:q.DISPLAY,text:q.TEXT,script:q.SCRIPT,scriptscript:q.SCRIPTSCRIPT}[e.style],n=t.havingStyle(r),i=Ct(e.body,n),a=new Mt.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});ht({type:"supsub",htmlBuilder:function(e,t){var r,n,i,a=(n=t,(i=(r=e).base)?"op"!==i.type?"accent"===i.type?Y.isCharacterBox(i.base)?Pt:null:"horizBrace"!==i.type?null:!r.sub===i.isOver?Hr:null:i.limits&&(n.style.size===q.DISPLAY.size||i.alwaysHandleSupSub)?Pr:null:null);if(a)return a(e,t);var o,s,l,h=e.base,m=e.sup,c=e.sub,u=bt(h,t),p=t.fontMetrics(),d=0,f=0,g=h&&Y.isCharacterBox(h);if(m){var v=t.havingStyle(t.style.sup());o=bt(m,v,t),g||(d=u.height-v.fontMetrics().supDrop*v.sizeMultiplier/t.sizeMultiplier)}if(c){var y=t.havingStyle(t.style.sub());s=bt(c,y,t),g||(f=u.depth+y.fontMetrics().subDrop*y.sizeMultiplier/t.sizeMultiplier)}l=t.style===q.DISPLAY?p.sup1:t.style.cramped?p.sup3:p.sup2;var b,x=t.sizeMultiplier,w=.5/p.ptPerEm/x+"em",k=null;if(s){var S=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(u instanceof O||S)&&(k=-u.italic+"em")}if(o&&s){d=Math.max(d,l,o.depth+.25*p.xHeight),f=Math.max(f,p.sub2);var z=4*p.defaultRuleThickness;if(d-o.depth-(s.height-f)<z){f=z-(d-o.depth)+s.height;var M=.8*p.xHeight-(d-o.depth);0<M&&(d+=M,f-=M)}var T=[{type:"elem",elem:s,shift:f,marginRight:w,marginLeft:k},{type:"elem",elem:o,shift:-d,marginRight:w}];b=$e.makeVList({positionType:"individualShift",children:T},t)}else if(s){f=Math.max(f,p.sub1,s.height-.8*p.xHeight);var A=[{type:"elem",elem:s,marginLeft:k,marginRight:w}];b=$e.makeVList({positionType:"shift",positionData:f,children:A},t)}else{if(!o)throw new Error("supsub must have either sup or sub.");d=Math.max(d,l,o.depth+.25*p.xHeight),b=$e.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:o,marginRight:w}]},t)}var B=gt(u,"right")||"mord";return $e.makeSpan([B],[u,$e.makeSpan(["msupsub"],[b])],t)},mathmlBuilder:function(e,t){var r,n=!1,i=Ke(e.base,"horizBrace");i&&!!e.sup===i.isOver&&(n=!0,r=i.isOver);var a,o=[qt(e.base,t)];if(e.sub&&o.push(qt(e.sub,t)),e.sup&&o.push(qt(e.sup,t)),n)a=r?"mover":"munder";else if(e.sub)if(e.sup){var s=e.base;a=s&&"op"===s.type&&s.limits&&t.style===q.DISPLAY?"munderover":"msubsup"}else{var l=e.base;a=l&&"op"===l.type&&l.limits&&t.style===q.DISPLAY?"munder":"msub"}else{var h=e.base;a=h&&"op"===h.type&&h.limits&&t.style===q.DISPLAY?"mover":"msup"}return new Mt.MathNode(a,o)}}),ht({type:"atom",htmlBuilder:function(e,t){return $e.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mo",[Tt(e.text,e.mode)]);if("bin"===e.family){var n=Bt(e,t);"bold-italic"===n&&r.setAttribute("mathvariant",n)}else"punct"===e.family&&r.setAttribute("separator","true");return r}});var Wr={mi:"italic",mn:"normal",mtext:"normal"};ht({type:"mathord",htmlBuilder:function(e,t){return $e.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mi",[Tt(e.text,e.mode,t)]),n=Bt(e,t)||"italic";return n!==Wr[r.type]&&r.setAttribute("mathvariant",n),r}}),ht({type:"textord",htmlBuilder:function(e,t){return $e.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var r,n=Tt(e.text,e.mode,t),i=Bt(e,t)||"normal";return r="text"===e.mode?new Mt.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new Mt.MathNode("mn",[n]):"\\prime"===e.text?new Mt.MathNode("mo",[n]):new Mt.MathNode("mi",[n]),i!==Wr[r.type]&&r.setAttribute("mathvariant",i),r}});var jr={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},$r={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ht({type:"spacing",htmlBuilder:function(e,t){if($r.hasOwnProperty(e.text)){var r=$r[e.text].className||"";if("text"!==e.mode)return $e.makeSpan(["mspace",r],[$e.mathsym(e.text,e.mode,t)],t);var n=$e.makeOrd(e,t,"textord");return n.classes.push(r),n}if(jr.hasOwnProperty(e.text))return $e.makeSpan(["mspace",jr[e.text]],[],t);throw new X('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if($r.hasOwnProperty(e.text))return new Mt.MathNode("mtext",[new Mt.TextNode(" ")]);if(jr.hasOwnProperty(e.text))return new Mt.MathNode("mspace");throw new X('Unknown type of space "'+e.text+'"')}}),ht({type:"tag",mathmlBuilder:function(e,t){var r=new Mt.MathNode("mtable",[new Mt.MathNode("mlabeledtr",[new Mt.MathNode("mtd",[Nt(e.tag,t)]),new Mt.MathNode("mtd",[Nt(e.body,t)])])]);return r.setAttribute("side","right"),r}});var Zr={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Kr={"\\textbf":"textbf"},Jr={"\\textit":"textit"},Qr=function(e,t){var r=e.font;return r?Zr[r]?t.withTextFontFamily(Zr[r]):Kr[r]?t.withTextFontWeight(Kr[r]):t.withTextFontShape(Jr[r]):t};lt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],props:{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0,consumeMode:"text"},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"text",mode:r.mode,body:mt(i),font:n}},htmlBuilder:function(e,t){var r=Qr(e,t),n=dt(e.body,r,!0);return $e.makeSpan(["mord","text"],$e.tryCombineChars(n),r)},mathmlBuilder:function(e,t){var r=Qr(e,t);return Nt(e.body,r)}}),lt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var r=bt(e.body,t),n=$e.makeLineSpan("underline-line",t),i=$e.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:n.height},{type:"elem",elem:n},{type:"kern",size:3*n.height},{type:"elem",elem:r}]},t);return $e.makeSpan(["mord","underline"],[i],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mo",[new Mt.TextNode("")]);r.setAttribute("stretchy","true");var n=new Mt.MathNode("munder",[qt(e.body,t),r]);return n.setAttribute("accentunder","true"),n}}),lt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,r){throw new X("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var r=en(e),n=[],i=t.havingStyle(t.style.text()),a=0;a<r.length;a++){var o=r[a];"~"===o&&(o="\\textasciitilde"),n.push($e.makeSymbol(o,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return $e.makeSpan(["mord","text"].concat(i.sizingClasses(t)),$e.tryCombineChars(n),i)},mathmlBuilder:function(e,t){var r=new Mt.TextNode(en(e)),n=new Mt.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var en=function(e){return e.body.replace(/ /g,e.star?"":" ")},tn=at,rn="[ \r\n\t]",nn="\\\\[a-zA-Z@]+",an=new RegExp("^("+nn+")"+rn+"*$"),on="[-]",sn=new RegExp(on+"+$"),ln=(new RegExp("^"+nn),function(){function e(e){this.input=void 0,this.tokenRegex=void 0,this.input=e,this.tokenRegex=new RegExp("([ \r\n\t]+)|([!-\\[\\]---][-]*|[\ud800-\udbff][\udc00-\udfff][-]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\[a-zA-Z@]+[ \r\n\t]*|\\\\[^\ud800-\udfff])","g")}return e.prototype.lex=function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new a("EOF",new p(this,t,t));var r=this.tokenRegex.exec(e);if(null===r||r.index!==t)throw new X("Unexpected character: '"+e[t]+"'",new a(e[t],new p(this,t,t+1)));var n=r[2]||" ",i=n.match(an);return i&&(n=i[1]),new a(n,new p(this,t,this.tokenRegex.lastIndex))},e}()),hn=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}var t=e.prototype;return t.beginGroup=function(){this.undefStack.push({})},t.endGroup=function(){if(0===this.undefStack.length)throw new X("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete this.current[t]:this.current[t]=e[t])},t.has=function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)},t.get=function(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]},t.set=function(e,t,r){if(void 0===r&&(r=!1),r){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];0<this.undefStack.length&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}this.current[e]=t},e}(),mn={},cn=mn;function un(e,t){mn[e]=t}un("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),un("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),un("\\@ifnextchar",function(e){var t=e.consumeArgs(3),r=e.future();return 1===t[0].length&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),un("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),un("\\TextOrMath",function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var pn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};un("\\char",function(e){var t,r=e.popToken(),n="";if("'"===r.text)t=8,r=e.popToken();else if('"'===r.text)t=16,r=e.popToken();else if("`"===r.text)if("\\"===(r=e.popToken()).text[0])n=r.text.charCodeAt(1);else{if("EOF"===r.text)throw new X("\\char` missing argument");n=r.text.charCodeAt(0)}else t=10;if(t){if(null==(n=pn[r.text])||t<=n)throw new X("Invalid base-"+t+" digit "+r.text);for(var i;null!=(i=pn[e.future().text])&&i<t;)n*=t,n+=i,e.popToken()}return"\\@char{"+n+"}"});var dn=function(e,t){var r=e.consumeArgs(1)[0];if(1!==r.length)throw new X("\\gdef's first argument must be a macro name");var n=r[0].text,i=0;for(r=e.consumeArgs(1)[0];1===r.length&&"#"===r[0].text;){if(1!==(r=e.consumeArgs(1)[0]).length)throw new X('Invalid argument number length "'+r.length+'"');if(!/^[1-9]$/.test(r[0].text))throw new X('Invalid argument number "'+r[0].text+'"');if(i++,parseInt(r[0].text)!==i)throw new X('Argument number "'+r[0].text+'" out of order');r=e.consumeArgs(1)[0]}return e.macros.set(n,{tokens:r,numArgs:i},t),""};un("\\gdef",function(e){return dn(e,!0)}),un("\\def",function(e){return dn(e,!1)}),un("\\global",function(e){var t=e.consumeArgs(1)[0];if(1!==t.length)throw new X("Invalid command after \\global");var r=t[0].text;if("\\def"===r)return dn(e,!0);throw new X("Invalid command '"+r+"' after \\global")});var fn=function(e,t,r){var n=e.consumeArgs(1)[0];if(1!==n.length)throw new X("\\newcommand's first argument must be a macro name");var i=n[0].text,a=e.isDefined(i);if(a&&!t)throw new X("\\newcommand{"+i+"} attempting to redefine "+i+"; use \\renewcommand");if(!a&&!r)throw new X("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var o=0;if(1===(n=e.consumeArgs(1)[0]).length&&"["===n[0].text){for(var s="",l=e.expandNextToken();"]"!==l.text&&"EOF"!==l.text;)s+=l.text,l=e.expandNextToken();if(!s.match(/^\s*[0-9]+\s*$/))throw new X("Invalid number of arguments: "+s);o=parseInt(s),n=e.consumeArgs(1)[0]}return e.macros.set(i,{tokens:n,numArgs:o}),""};un("\\newcommand",function(e){return fn(e,!1,!0)}),un("\\renewcommand",function(e){return fn(e,!0,!1)}),un("\\providecommand",function(e){return fn(e,!0,!0)}),un("\\bgroup","{"),un("\\egroup","}"),un("\\begingroup","{"),un("\\endgroup","}"),un("\\lq","`"),un("\\rq","'"),un("\\aa","\\r a"),un("\\AA","\\r A"),un("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),un("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),un("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),un("","\\mathbb{C}"),un("","\\mathbb{H}"),un("","\\mathbb{N}"),un("","\\mathbb{P}"),un("","\\mathbb{Q}"),un("","\\mathbb{R}"),un("","\\mathbb{Z}"),un("","\\mathit{h}"),un("","\\mathscr{B}"),un("","\\mathscr{E}"),un("","\\mathscr{F}"),un("","\\mathscr{H}"),un("","\\mathscr{I}"),un("","\\mathscr{L}"),un("","\\mathscr{M}"),un("","\\mathscr{R}"),un("","\\mathfrak{C}"),un("","\\mathfrak{H}"),un("","\\mathfrak{Z}"),un("","\\cdotp"),un("\\llap","\\mathllap{\\textrm{#1}}"),un("\\rlap","\\mathrlap{\\textrm{#1}}"),un("\\clap","\\mathclap{\\textrm{#1}}"),un("\\not","\\mathrel{\\mathrlap\\@not}"),un("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char` }}"),un("\\ne","\\neq"),un(" ","\\neq"),un("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),un("","\\notin"),un("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),un("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),un("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),un("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),un("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),un("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),un("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),un("","\\perp"),un("","\\mathclose{!\\mkern-0.8mu!}"),un("","\\notni"),un("","\\ulcorner"),un("","\\urcorner"),un("","\\llcorner"),un("","\\lrcorner"),un("","\\copyright"),un("","\\textregistered"),un("","\\textregistered"),un("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),un("","\\vdots"),un("\\varGamma","\\mathit{\\Gamma}"),un("\\varDelta","\\mathit{\\Delta}"),un("\\varTheta","\\mathit{\\Theta}"),un("\\varLambda","\\mathit{\\Lambda}"),un("\\varXi","\\mathit{\\Xi}"),un("\\varPi","\\mathit{\\Pi}"),un("\\varSigma","\\mathit{\\Sigma}"),un("\\varUpsilon","\\mathit{\\Upsilon}"),un("\\varPhi","\\mathit{\\Phi}"),un("\\varPsi","\\mathit{\\Psi}"),un("\\varOmega","\\mathit{\\Omega}"),un("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),un("\\boxed","\\fbox{$\\displaystyle{#1}$}"),un("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),un("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),un("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var gn={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};un("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in gn?t=gn[r]:"\\not"===r.substr(0,4)?t="\\dotsb":r in W.math&&Y.contains(["bin","rel"],W.math[r].group)&&(t="\\dotsb"),t});var vn={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};un("\\dotso",function(e){return e.future().text in vn?"\\ldots\\,":"\\ldots"}),un("\\dotsc",function(e){var t=e.future().text;return t in vn&&","!==t?"\\ldots\\,":"\\ldots"}),un("\\cdots",function(e){return e.future().text in vn?"\\@cdots\\,":"\\@cdots"}),un("\\dotsb","\\cdots"),un("\\dotsm","\\cdots"),un("\\dotsi","\\!\\cdots"),un("\\dotsx","\\ldots\\,"),un("\\DOTSI","\\relax"),un("\\DOTSB","\\relax"),un("\\DOTSX","\\relax"),un("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),un("\\,","\\tmspace+{3mu}{.1667em}"),un("\\thinspace","\\,"),un("\\>","\\mskip{4mu}"),un("\\:","\\tmspace+{4mu}{.2222em}"),un("\\medspace","\\:"),un("\\;","\\tmspace+{5mu}{.2777em}"),un("\\thickspace","\\;"),un("\\!","\\tmspace-{3mu}{.1667em}"),un("\\negthinspace","\\!"),un("\\negmedspace","\\tmspace-{4mu}{.2222em}"),un("\\negthickspace","\\tmspace-{5mu}{.277em}"),un("\\enspace","\\kern.5em "),un("\\enskip","\\hskip.5em\\relax"),un("\\quad","\\hskip1em\\relax"),un("\\qquad","\\hskip2em\\relax"),un("\\tag","\\@ifstar\\tag@literal\\tag@paren"),un("\\tag@paren","\\tag@literal{({#1})}"),un("\\tag@literal",function(e){if(e.macros.get("\\df@tag"))throw new X("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),un("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),un("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),un("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),un("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),un("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\mathrlap{\\mkern0.4mu\\raisebox{0.4mu}{$#1$}}{\\mkern0.8mu#1}}}{\\mathbf{#1}}"),un("\\\\","\\newline"),un("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var yn=H["Main-Regular"]["T".charCodeAt(0)][1]-.7*H["Main-Regular"]["A".charCodeAt(0)][1]+"em";un("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+yn+"}{\\scriptsize A}\\kern-.15em\\TeX}{LaTeX}}"),un("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+yn+"}{\\scriptsize A}\\kern-.15em\\TeX}{KaTeX}}"),un("\\hspace","\\@ifstar\\@hspacer\\@hspace"),un("\\@hspace","\\hskip #1\\relax"),un("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),un("\\ordinarycolon",":"),un("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),un("\\dblcolon","\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}"),un("\\coloneqq","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}"),un("\\Coloneqq","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}"),un("\\coloneq","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}"),un("\\Coloneq","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}"),un("\\eqqcolon","\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),un("\\Eqqcolon","\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}"),un("\\eqcolon","\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),un("\\Eqcolon","\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"),un("\\colonapprox","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}"),un("\\Colonapprox","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}"),un("\\colonsim","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}"),un("\\Colonsim","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}"),un("","\\coloneqq"),un("","\\eqqcolon"),un("","\\Coloneqq"),un("\\ratio","\\vcentcolon"),un("\\coloncolon","\\dblcolon"),un("\\colonequals","\\coloneqq"),un("\\coloncolonequals","\\Coloneqq"),un("\\equalscolon","\\eqqcolon"),un("\\equalscoloncolon","\\Eqqcolon"),un("\\colonminus","\\coloneq"),un("\\coloncolonminus","\\Coloneq"),un("\\minuscolon","\\eqcolon"),un("\\minuscoloncolon","\\Eqcolon"),un("\\coloncolonapprox","\\Colonapprox"),un("\\coloncolonsim","\\Colonsim"),un("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),un("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),un("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),un("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),un("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),un("\\limsup","\\DOTSB\\mathop{\\operatorname{lim\\,sup}}\\limits"),un("\\liminf","\\DOTSB\\mathop{\\operatorname{lim\\,inf}}\\limits"),un("","\\mathopen{[\\mkern-3.2mu[}"),un("","\\mathclose{]\\mkern-3.2mu]}"),un("\\darr","\\downarrow"),un("\\dArr","\\Downarrow"),un("\\Darr","\\Downarrow"),un("\\lang","\\langle"),un("\\rang","\\rangle"),un("\\uarr","\\uparrow"),un("\\uArr","\\Uparrow"),un("\\Uarr","\\Uparrow"),un("\\N","\\mathbb{N}"),un("\\R","\\mathbb{R}"),un("\\Z","\\mathbb{Z}"),un("\\alef","\\aleph"),un("\\alefsym","\\aleph"),un("\\Alpha","\\mathrm{A}"),un("\\Beta","\\mathrm{B}"),un("\\bull","\\bullet"),un("\\Chi","\\mathrm{X}"),un("\\clubs","\\clubsuit"),un("\\cnums","\\mathbb{C}"),un("\\Complex","\\mathbb{C}"),un("\\Dagger","\\ddagger"),un("\\diamonds","\\diamondsuit"),un("\\empty","\\emptyset"),un("\\Epsilon","\\mathrm{E}"),un("\\Eta","\\mathrm{H}"),un("\\exist","\\exists"),un("\\harr","\\leftrightarrow"),un("\\hArr","\\Leftrightarrow"),un("\\Harr","\\Leftrightarrow"),un("\\hearts","\\heartsuit"),un("\\image","\\Im"),un("\\infin","\\infty"),un("\\Iota","\\mathrm{I}"),un("\\isin","\\in"),un("\\Kappa","\\mathrm{K}"),un("\\larr","\\leftarrow"),un("\\lArr","\\Leftarrow"),un("\\Larr","\\Leftarrow"),un("\\lrarr","\\leftrightarrow"),un("\\lrArr","\\Leftrightarrow"),un("\\Lrarr","\\Leftrightarrow"),un("\\Mu","\\mathrm{M}"),un("\\natnums","\\mathbb{N}"),un("\\Nu","\\mathrm{N}"),un("\\Omicron","\\mathrm{O}"),un("\\plusmn","\\pm"),un("\\rarr","\\rightarrow"),un("\\rArr","\\Rightarrow"),un("\\Rarr","\\Rightarrow"),un("\\real","\\Re"),un("\\reals","\\mathbb{R}"),un("\\Reals","\\mathbb{R}"),un("\\Rho","\\mathrm{R}"),un("\\sdot","\\cdot"),un("\\sect","\\S"),un("\\spades","\\spadesuit"),un("\\sub","\\subset"),un("\\sube","\\subseteq"),un("\\supe","\\supseteq"),un("\\Tau","\\mathrm{T}"),un("\\thetasym","\\vartheta"),un("\\weierp","\\wp"),un("\\Zeta","\\mathrm{Z}");var bn={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},xn=function(){function e(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new hn(cn,t.macros),this.mode=r,this.stack=[]}var t=e.prototype;return t.feed=function(e){this.lexer=new ln(e)},t.switchMode=function(e){this.mode=e},t.beginGroup=function(){this.macros.beginGroup()},t.endGroup=function(){this.macros.endGroup()},t.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},t.popToken=function(){return this.future(),this.stack.pop()},t.pushToken=function(e){this.stack.push(e)},t.pushTokens=function(e){var t;(t=this.stack).push.apply(t,e)},t.consumeSpaces=function(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}},t.consumeArgs=function(e){for(var t=[],r=0;r<e;++r){this.consumeSpaces();var n=this.popToken();if("{"===n.text){for(var i=[],a=1;0!==a;){var o=this.popToken();if(i.push(o),"{"===o.text)++a;else if("}"===o.text)--a;else if("EOF"===o.text)throw new X("End of input in macro argument",n)}i.pop(),i.reverse(),t[r]=i}else{if("EOF"===n.text)throw new X("End of input expecting macro argument");t[r]=[n]}}return t},t.expandOnce=function(){var e=this.popToken(),t=e.text,r=this._getExpansion(t);if(null==r)return this.pushToken(e),e;if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new X("Too many expansions: infinite loop or need to increase maxExpand setting");var n=r.tokens;if(r.numArgs)for(var i=this.consumeArgs(r.numArgs),a=(n=n.slice()).length-1;0<=a;--a){var o=n[a];if("#"===o.text){if(0===a)throw new X("Incomplete placeholder at end of macro body",o);if("#"===(o=n[--a]).text)n.splice(a+1,1);else{if(!/^[1-9]$/.test(o.text))throw new X("Not a valid argument number",o);var s;(s=n).splice.apply(s,[a,2].concat(i[+o.text-1]))}}}return this.pushTokens(n),n},t.expandAfterFuture=function(){return this.expandOnce(),this.future()},t.expandNextToken=function(){for(;;){var e=this.expandOnce();if(e instanceof a){if("\\relax"!==e.text)return this.stack.pop();this.stack.pop()}}throw new Error},t.expandMacro=function(e){if(this.macros.get(e)){var t=[],r=this.stack.length;for(this.pushToken(new a(e));this.stack.length>r;){this.expandOnce()instanceof a&&t.push(this.stack.pop())}return t}},t.expandMacroAsText=function(e){var t=this.expandMacro(e);return t?t.map(function(e){return e.text}).join(""):t},t._getExpansion=function(e){var t=this.macros.get(e);if(null==t)return t;var r="function"==typeof t?t(this):t;if("string"!=typeof r)return r;var n=0;if(-1!==r.indexOf("#"))for(var i=r.replace(/##/g,"");-1!==i.indexOf("#"+(n+1));)++n;for(var a=new ln(r),o=[],s=a.lex();"EOF"!==s.text;)o.push(s),s=a.lex();return o.reverse(),{tokens:o,numArgs:n}},t.isDefined=function(e){return this.macros.has(e)||tn.hasOwnProperty(e)||W.math.hasOwnProperty(e)||W.text.hasOwnProperty(e)||bn.hasOwnProperty(e)},e}(),wn={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"}},kn={"":"a"," ":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"b","":"c","":"c","":"c","":"c","":"d","":"d","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"k","":"k","":"l","":"l","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"p","":"p","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A"," ":"A","":"A","":"A","":"B","":"C","":"C","":"C","":"C","":"D","":"D","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"G"," ":"G","":"G","":"G","":"G"," ":"G","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"K","":"K","":"L","":"L","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"P","":"P","":"R","":"R","":"R","":"S","":"S"," ":"S","":"S","":"S"," ":"S","":"T","":"T","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""," ":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},Sn=function(){function a(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new xn(e,t,this.mode),this.settings=t,this.leftrightDepth=0}var e=a.prototype;return e.expect=function(e,t){if(void 0===t&&(t=!0),this.nextToken.text!==e)throw new X("Expected '"+e+"', got '"+this.nextToken.text+"'",this.nextToken);t&&this.consume()},e.consume=function(){this.nextToken=this.gullet.expandNextToken()},e.switchMode=function(e){this.mode=e,this.gullet.switchMode(e)},e.parse=function(){this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor"),this.consume();var e=this.parseExpression(!1);return this.expect("EOF",!1),this.gullet.endGroup(),e},e.parseExpression=function(e,t){for(var r=[];;){"math"===this.mode&&this.consumeSpaces();var n=this.nextToken;if(-1!==a.endOfExpression.indexOf(n.text))break;if(t&&n.text===t)break;if(e&&tn[n.text]&&tn[n.text].infix)break;var i=this.parseAtom(t);if(!i)break;r.push(i)}return"text"===this.mode&&this.formLigatures(r),this.handleInfixNodes(r)},e.handleInfixNodes=function(e){for(var t,r=-1,n=0;n<e.length;n++){var i=Ke(e[n],"infix");if(i){if(-1!==r)throw new X("only one infix operator per group",i.token);r=n,t=i.replaceWith}}if(-1!==r&&t){var a,o,s=e.slice(0,r),l=e.slice(r+1);return a=1===s.length&&"ordgroup"===s[0].type?s[0]:{type:"ordgroup",mode:this.mode,body:s},o=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},["\\\\abovefrac"===t?this.callFunction(t,[a,e[r],o],[]):this.callFunction(t,[a,o],[])]}return e},e.handleSupSubscript=function(e){var t=this.nextToken,r=t.text;this.consume(),this.consumeSpaces();var n=this.parseGroup(e,!1,a.SUPSUB_GREEDINESS);if(!n)throw new X("Expected group after '"+r+"'",t);return n},e.handleUnsupportedCmd=function(){for(var e=this.nextToken.text,t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var n={type:"text",mode:this.mode,body:t},i={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return this.consume(),i},e.parseAtom=function(e){var t,r,n=this.parseGroup("atom",!1,null,e);if("text"===this.mode)return n;for(;;){this.consumeSpaces();var i=this.nextToken;if("\\limits"===i.text||"\\nolimits"===i.text){var a=Ke(n,"op");if(!a)throw new X("Limit controls must follow a math operator",i);var o="\\limits"===i.text;a.limits=o,a.alwaysHandleSupSub=!0,this.consume()}else if("^"===i.text){if(t)throw new X("Double superscript",i);t=this.handleSupSubscript("superscript")}else if("_"===i.text){if(r)throw new X("Double subscript",i);r=this.handleSupSubscript("subscript")}else if("'"===i.text){if(t)throw new X("Double superscript",i);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();"'"===this.nextToken.text;)l.push(s),this.consume();"^"===this.nextToken.text&&l.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:l}}else{if("%"!==i.text)break;this.consumeComment()}}return t||r?{type:"supsub",mode:this.mode,base:n,sup:t,sub:r}:n},e.parseFunction=function(e,t,r){var n=this.nextToken,i=n.text,a=tn[i];if(!a)return null;if(null!=r&&a.greediness<=r)throw new X("Got function '"+i+"' with no arguments"+(t?" as "+t:""),n);if("text"===this.mode&&!a.allowedInText)throw new X("Can't use function '"+i+"' in text mode",n);if("math"===this.mode&&!1===a.allowedInMath)throw new X("Can't use function '"+i+"' in math mode",n);if(a.consumeMode){var o=this.mode;this.switchMode(a.consumeMode),this.consume(),this.switchMode(o)}else this.consume();var s=this.parseArguments(i,a),l=s.args,h=s.optArgs;return this.callFunction(i,l,h,n,e)},e.callFunction=function(e,t,r,n,i){var a={funcName:e,parser:this,token:n,breakOnTokenText:i},o=tn[e];if(o&&o.handler)return o.handler(a,t,r);throw new X("No function handler for "+e)},e.parseArguments=function(e,t){var r=t.numArgs+t.numOptionalArgs;if(0===r)return{args:[],optArgs:[]};for(var n=t.greediness,i=[],a=[],o=0;o<r;o++){var s=t.argTypes&&t.argTypes[o],l=o<t.numOptionalArgs;0<o&&!l&&this.consumeSpaces(),0!==o||l||"math"!==this.mode||this.consumeSpaces();var h=this.nextToken,m=this.parseGroupOfType("argument to '"+e+"'",s,l,n);if(!m){if(l){a.push(null);continue}throw new X("Expected group after '"+e+"'",h)}(l?a:i).push(m)}return{args:i,optArgs:a}},e.parseGroupOfType=function(e,t,r,n){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseGroup(e,r,n,void 0,t);case"original":case null:case void 0:return this.parseGroup(e,r,n);default:throw new X("Unknown group type as "+e,this.nextToken)}},e.consumeSpaces=function(){for(;" "===this.nextToken.text;)this.consume()},e.consumeComment=function(){for(;"EOF"!==this.nextToken.text&&this.nextToken.loc&&-1===this.nextToken.loc.getSource().indexOf("\n");)this.consume();if("EOF"===this.nextToken.text&&this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)"),"math"===this.mode)this.consumeSpaces();else if(this.nextToken.loc){var e=this.nextToken.loc.getSource();e.indexOf("\n")===e.length-1&&this.consumeSpaces()}},e.parseStringGroup=function(e,t,r){var n=t?"[":"{",i=t?"]":"}",a=this.nextToken;if(a.text!==n){if(t)return null;if(r&&"EOF"!==a.text&&/[^{}[\]]/.test(a.text))return this.consume(),a}var o=this.mode;this.mode="text",this.expect(n);for(var s="",l=this.nextToken,h=0,m=l;r&&0<h||this.nextToken.text!==i;){switch(this.nextToken.text){case"EOF":throw new X("Unexpected end of input in "+e,l.range(m,s));case"%":if(r)break;this.consumeComment();continue;case n:h++;break;case i:h--}s+=(m=this.nextToken).text,this.consume()}return this.mode=o,this.expect(i),l.range(m,s)},e.parseRegexGroup=function(e,t){var r=this.mode;this.mode="text";for(var n=this.nextToken,i=n,a="";"EOF"!==this.nextToken.text&&(e.test(a+this.nextToken.text)||"%"===this.nextToken.text);)"%"!==this.nextToken.text?(a+=(i=this.nextToken).text,this.consume()):this.consumeComment();if(""===a)throw new X("Invalid "+t+": '"+n.text+"'",n);return this.mode=r,n.range(i,a)},e.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(!t)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new X("Invalid color: '"+t.text+"'",t);var n=r[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}},e.parseSizeGroup=function(e){var t,r=!1;if(!(t=e||"{"===this.nextToken.text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",r=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!n)throw new X("Invalid size: '"+t.text+"'",t);var i,a={number:+(n[1]+n[2]),unit:n[3]};if("string"!=typeof(i=a)&&(i=i.unit),!(i in Re||i in Le||"ex"===i))throw new X("Invalid unit: '"+a.unit+"'",t);return{type:"size",mode:this.mode,value:a,isBlank:r}},e.parseUrlGroup=function(e){var t=this.parseStringGroup("url",e,!0);if(!t)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1"),n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(r);n=null!=n?n[1]:"_relative";var i=this.settings.allowedProtocols;if(!Y.contains(i,"*")&&!Y.contains(i,n))throw new X("Forbidden protocol '"+n+"'",t);return{type:"url",mode:this.mode,url:r}},e.parseGroup=function(e,t,r,n,i){var a,o=this.mode,s=this.nextToken,l=s.text;if(i&&this.switchMode(i),l===(t?"[":"{")){this.gullet.beginGroup(),this.consume();var h=this.parseExpression(!1,t?"]":"}"),m=this.nextToken;return i&&this.switchMode(o),this.gullet.endGroup(),this.expect(t?"]":"}"),{type:"ordgroup",mode:this.mode,loc:p.range(s,m),body:h}}if(t)a=null;else if(null==(a=this.parseFunction(n,e,r)||this.parseSymbol())&&"\\"===l[0]&&!bn.hasOwnProperty(l)){if(this.settings.throwOnError)throw new X("Undefined control sequence: "+l,s);a=this.handleUnsupportedCmd()}return i&&this.switchMode(o),a},e.formLigatures=function(e){for(var t=e.length-1,r=0;r<t;++r){var n=e[r],i=n.text;"-"===i&&"-"===e[r+1].text&&(r+1<t&&"-"===e[r+2].text?(e.splice(r,3,{type:"textord",mode:"text",loc:p.range(n,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:p.range(n,e[r+1]),text:"--"}),t-=1)),"'"!==i&&"`"!==i||e[r+1].text!==i||(e.splice(r,2,{type:"textord",mode:"text",loc:p.range(n,e[r+1]),text:i+i}),t-=1)}},e.parseSymbol=function(){var e=this.nextToken,t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),n="*"===r.charAt(0);if(n&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new X("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:r=r.slice(1,-1),star:n}}if("%"===t)return this.consumeComment(),this.parseSymbol();kn.hasOwnProperty(t[0])&&!W[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=kn[t[0]]+t.substr(1));var i,a=sn.exec(t);if(a&&("i"===(t=t.substring(0,a.index))?t="":"j"===t&&(t="")),W[this.mode][t]){this.settings.strict&&"math"===this.mode&&0<=Me.indexOf(t)&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var o,s=W[this.mode][t].group,l=p.range(e);if(U.hasOwnProperty(s)){var h=s;o={type:"atom",mode:this.mode,family:h,loc:l,text:t}}else o={type:s,mode:this.mode,loc:l,text:t};i=o}else{if(!(128<=t.charCodeAt(0)))return null;this.settings.strict&&(w(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),i={type:"textord",mode:this.mode,loc:p.range(e),text:t}}if(this.consume(),a)for(var m=0;m<a[0].length;m++){var c=a[0][m];if(!wn[c])throw new X("Unknown accent ' "+c+"'",e);var u=wn[c][this.mode];if(!u)throw new X("Accent "+c+" unsupported in "+this.mode+" mode",e);i={type:"accent",mode:this.mode,loc:p.range(e),label:u,isStretchy:!1,isShifty:!0,base:i}}return i},a}();Sn.endOfExpression=["}","\\end","\\right","&"],Sn.SUPSUB_GREEDINESS=1;var zn=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Sn(e,t);delete r.gullet.macros.current["\\df@tag"];var n=r.parse();if(r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new X("\\tag works only in display equations");r.gullet.feed("\\df@tag"),n=[{type:"tag",mode:"text",body:n,tag:r.parse()}]}return n},Mn=function(e,t,r){t.textContent="";var n=An(e,r).toNode();t.appendChild(n)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Mn=function(){throw new X("KaTeX doesn't work in quirks mode.")});var Tn=function(e,t,r){if(r.throwOnError||!(e instanceof X))throw e;var n=$e.makeSpan(["katex-error"],[new O(t)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+r.errorColor),n},An=function(t,e){var r=new h(e);try{var n=zn(t,r);return Ot(n,t,r)}catch(e){return Tn(e,t,r)}},Bn={version:"0.10.0",render:Mn,renderToString:function(e,t){return An(e,t).toMarkup()},ParseError:X,__parse:function(e,t){var r=new h(t);return zn(e,r)},__renderToDomTree:An,__renderToHTMLTree:function(t,e){var r,n,i,a=new h(e);try{var o=zn(t,a);return n=wt(o,Et(r=a)),i=$e.makeSpan(["katex"],[n]),r.displayMode?$e.makeSpan(["katex-display"],[i]):i}catch(e){return Tn(e,t,a)}},__setFontMetrics:function(e,t){H[e]=t},__defineSymbol:j,__defineMacro:un,__domTree:{Span:C,Anchor:N,SymbolNode:O,SvgNode:I,PathNode:R,LineNode:L}};t.default=Bn}]).default});if(typeof tracker==="undefined"){var tracker=new MixpanelEventTracking}if(window.jQuery){jQuery(document).ready(function(){jQuery(".ch-header_primary-subnav_list-item > a, .ch_subNav_panel a").on("click",function(event){var properties={};properties["Page Url"]=window.location.href;var title=jQuery(event.delegateTarget).text();if(title){properties["Title"]=title}tracker.track("Click Header Link",properties)})})}
//# sourceMappingURL=coursehero-bundle-1.js.map